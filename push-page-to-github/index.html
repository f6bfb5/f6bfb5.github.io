<!DOCTYPE html> <html lang=zh-Hant-TW> <head> <meta charset=utf-8> <meta name=viewport content="width=device-width,initial-scale=1"> <meta name=theme-color content=#333333> <base href=/ > <link href=global.css rel=stylesheet> <link href=fonts.css rel=stylesheet> <link href=highlight.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=favicon.png rel=icon type=image/png> <link href=client/client-6438aab0.css rel=stylesheet><link href=client/[slug]-4056f883.css rel=stylesheet> <title>推送網頁到 GitHub Pages</title><script async data-svelte=svelte-a2kvt3 src="https://www.googletagmanager.com/gtag/js?id=UA-114661136-2"></script><script async data-svelte=svelte-1op50db src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js data-ad-client=ca-pub-9613661448556355></script><link href=/apple-touch-icon.png rel=apple-touch-icon data-svelte=svelte-12mb5ri sizes=180x180><link href=/favicon-32x32.png rel=icon data-svelte=svelte-12mb5ri sizes=32x32 type=image/png><link href=/favicon-16x16.png rel=icon data-svelte=svelte-12mb5ri sizes=16x16 type=image/png><link href=/site.webmanifest rel=manifest data-svelte=svelte-12mb5ri><link href=/safari-pinned-tab.svg rel=mask-icon data-svelte=svelte-12mb5ri color=#5bbad5><meta data-svelte=svelte-12mb5ri name=msapplication-TileColor content=#ffc40d><meta data-svelte=svelte-12mb5ri name=theme-color content=#ffffff><meta data-svelte=svelte-d2s233 content=article property=og:type><meta data-svelte=svelte-d2s233 content="推送網頁到 GitHub Pages" property=og:title><meta data-svelte=svelte-d2s233 name=Description><meta data-svelte=svelte-d2s233 property=og:description><meta data-svelte=svelte-d2s233 name=twitter:card content=summary_large_image><meta data-svelte=svelte-d2s233 name=twitter:title value="推送網頁到 GitHub Pages"><meta data-svelte=svelte-d2s233 name=twitter:description><meta data-svelte=svelte-d2s233 name=twitter:label1 value="Published on"><meta data-svelte=svelte-d2s233 name=twitter:data1 value="May 25, 2020"> <link href=/client/client.6ff4f0ee.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-6438aab0.css rel=preload as=style><link href=/client/[slug].5f96be4a.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/[slug]-4056f883.css rel=preload as=style></head> <body> <div id=sapper> <div class="svelte-wjh32h layout"> <header class=svelte-310tmg><nav class=svelte-1c2nkmp><a href=. class=svelte-1c2nkmp>blog</a> <a href=about class=svelte-1c2nkmp>about</a> <a href=rss.xml class=svelte-1c2nkmp>rss</a> </nav> <a href=/ ><img alt="Buddha of Kamakura" class=svelte-nsstmh src=noun_great_buddha_of_kamakura_3572172.svg> </a> </header> <main class=svelte-wjh32h> <header class=svelte-73z1by><h1 class=svelte-73z1by>推送網頁到 GitHub Pages</h1> <p class=svelte-73z1by>May 25, 2020 <small class=svelte-73z1by>2 min read</small></header> <div class=container><article class=content><h2 id=前置準備>前置準備</h2> <ul> <li>Github 帳號</li> <li>理解版本控管</li> </ul> <h2 id=步驟>步驟</h2> <ol> <li>登入 <a href=https://github.com/ rel=nofollow target=_blank>Github</a>，點選右上角 <code>+</code> -> <code>New repository</code></li> <li>將 <code>Repository name</code> 命名為 <code>[你的 github 帳號].github.io</code> -> <code>Create Repositorty</code></li> <li>開啟 Terminal，clone 專案至本地端: <code>git clone https://github.com/[你的帳號]/[你的帳號].github.io.git</code></li> <li>開啟編輯器，建立檔案後 commit: <code>git add .</code>，push: <code>git push</code>，完成</li> </ol> <h2 id=新增子專案>新增子專案</h2> <h3 id=1-子資料夾方式>1. 子資料夾方式</h3> <ol> <li>直接在 <code>[你的帳號].github.io</code> 裡新增子專案目錄</li> <li>push 上去後，就可從 <code>https://[你的帳號].github.io/[子專案]</code> 存取子專案網頁</li> </ol> <p>這種方式的缺點是會造成主專案目錄過度龐大且混亂，建議使用獨立專案方式</p> <h3 id=2-獨立專案方式>2. 獨立專案方式</h3> <ol> <li>登入 <a href=https://github.com/new rel=nofollow target=_blank>Github</a> 新增專案</li> <li>clone 專案</li> <li>建立 <code>gh-pages</code> branch: <code>git checkout -b gh-pages</code></li> <li>push，完成</li> </ol> <p>當同時存在子資料夾與獨立專案的同名專案時，會以獨立專案的分支內容為主</p> <h2 id=非原生網頁專案>非原生網頁專案</h2> <p>如果我們的網頁是透過如 vue-cli、Svelte 這類打包工具或編譯器產生，直接把原始碼丟上去是無法顯示的，這時我們可以透過 <code>gh-pages</code> 套件或是 GitHub Actions 來把產生出來的網頁推送上去</p> <h3 id=gh-pages-套件>gh-pages 套件</h3> <ol> <li><code>npm i gh-pages --save-dev</code></li> <li>編輯 <code>package.json</code>，新增：</li> </ol> <pre class=language-json><code class=language-json>{
  // ...
  "scripts": {
    "predeploy": "[使用建置服務] build",
    "deploy": "gh-pages -d dist"
    ...
  }
  ...
}</code></pre><h3 id=github-action-自動部署-build-資料夾到-gh-pages-分支>GitHub Action 自動部署 build 資料夾到 gh-pages 分支</h3> <ul> <li><a href=https://github.com/marketplace/actions/deploy-to-github-pages rel=nofollow target=_blank>Deploy to GitHub Pages · Actions · GitHub Marketplace</a></li> </ul> <ol> <li>在專案資料夾根目錄底下新增一個 <code>.github</code> 資料夾</li> <li>在裡頭新增一個 <code>workflows</code> 資料夾</li> <li>在裡頭新增一個 <code>deploy-to-github-pages.yaml</code> 檔案</li> <li>貼上以下截取自上方連結的內容</li> <li>將檔案 push 到 GitHub 後，就可透過 GitHub Actions 把 build 完畢的檔案自動 branch 到 <code>gh-pages</code> 分支</li> </ol> <pre class=language-yml><code class=language-yml>name: Build and Deploy
on: [push]
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout 🛎️
        uses: actions/checkout@v2.3.1 # If you're using actions/checkout@v2 you must set persist-credentials to false in most cases for the deployment to work correctly.
        with:
          persist-credentials: false

      - name: Install and Build 🔧 # This example project is built using npm and outputs the result to the 'build' folder. Replace with the commands required to build your project, or remove this step entirely if your site is pre-built.
        run: |
          npm install
          npm run build

      - name: Deploy 🚀
        uses: JamesIves/github-pages-deploy-action@3.7.1
        with:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          BRANCH: gh-pages # The branch the action should deploy to.
          FOLDER: build # The folder the action should deploy.
          CLEAN: true # Automatically remove deleted files from the deploy branch</code></pre></article> <div class="back-to-top hidden svelte-cjsxo8" style=right:2em>Back to top </div> </div></main> <footer class=svelte-wjh32h><span><a href=https://creativecommons.org/licenses/by-sa/4.0/ rel="noreferrer noopener nofollow" target=_blank>CC BY-SA 4.0.</a></span></footer> </div></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,{post:{title:"推送網頁到 GitHub Pages",slug:"push-page-to-github",html:"\u003Ch2 id=\"前置準備\"\u003E前置準備\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003EGithub 帳號\u003C\u002Fli\u003E\n\u003Cli\u003E理解版本控管\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"步驟\"\u003E步驟\u003C\u002Fh2\u003E\n\u003Col\u003E\n\u003Cli\u003E登入 \u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fgithub.com\u002F\"\u003EGithub\u003C\u002Fa\u003E，點選右上角 \u003Ccode\u003E+\u003C\u002Fcode\u003E -&gt; \u003Ccode\u003ENew repository\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E將 \u003Ccode\u003ERepository name\u003C\u002Fcode\u003E 命名為 \u003Ccode\u003E[你的 github 帳號].github.io\u003C\u002Fcode\u003E -&gt; \u003Ccode\u003ECreate Repositorty\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E開啟 Terminal，clone 專案至本地端: \u003Ccode\u003Egit clone https:\u002F\u002Fgithub.com\u002F[你的帳號]\u002F[你的帳號].github.io.git\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E開啟編輯器，建立檔案後 commit: \u003Ccode\u003Egit add .\u003C\u002Fcode\u003E，push: \u003Ccode\u003Egit push\u003C\u002Fcode\u003E，完成\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch2 id=\"新增子專案\"\u003E新增子專案\u003C\u002Fh2\u003E\n\u003Ch3 id=\"1-子資料夾方式\"\u003E1. 子資料夾方式\u003C\u002Fh3\u003E\n\u003Col\u003E\n\u003Cli\u003E直接在 \u003Ccode\u003E[你的帳號].github.io\u003C\u002Fcode\u003E 裡新增子專案目錄\u003C\u002Fli\u003E\n\u003Cli\u003Epush 上去後，就可從 \u003Ccode\u003Ehttps:\u002F\u002F[你的帳號].github.io\u002F[子專案]\u003C\u002Fcode\u003E 存取子專案網頁\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E這種方式的缺點是會造成主專案目錄過度龐大且混亂，建議使用獨立專案方式\u003C\u002Fp\u003E\n\u003Ch3 id=\"2-獨立專案方式\"\u003E2. 獨立專案方式\u003C\u002Fh3\u003E\n\u003Col\u003E\n\u003Cli\u003E登入 \u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fgithub.com\u002Fnew\"\u003EGithub\u003C\u002Fa\u003E 新增專案\u003C\u002Fli\u003E\n\u003Cli\u003Eclone 專案\u003C\u002Fli\u003E\n\u003Cli\u003E建立 \u003Ccode\u003Egh-pages\u003C\u002Fcode\u003E branch: \u003Ccode\u003Egit checkout -b gh-pages\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003Epush，完成\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E當同時存在子資料夾與獨立專案的同名專案時，會以獨立專案的分支內容為主\u003C\u002Fp\u003E\n\u003Ch2 id=\"非原生網頁專案\"\u003E非原生網頁專案\u003C\u002Fh2\u003E\n\u003Cp\u003E如果我們的網頁是透過如 vue-cli、Svelte 這類打包工具或編譯器產生，直接把原始碼丟上去是無法顯示的，這時我們可以透過 \u003Ccode\u003Egh-pages\u003C\u002Fcode\u003E 套件或是 GitHub Actions 來把產生出來的網頁推送上去\u003C\u002Fp\u003E\n\u003Ch3 id=\"gh-pages-套件\"\u003Egh-pages 套件\u003C\u002Fh3\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Ccode\u003Enpm i gh-pages --save-dev\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E編輯 \u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E，新增：\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre class=\"language-json\"\u003E\u003Ccode class=\"language-json\"\u003E{\n  \u002F\u002F ...\n  \"scripts\": {\n    \"predeploy\": \"[使用建置服務] build\",\n    \"deploy\": \"gh-pages -d dist\"\n    ...\n  }\n  ...\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"github-action-自動部署-build-資料夾到-gh-pages-分支\"\u003EGitHub Action 自動部署 build 資料夾到 gh-pages 分支\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fgithub.com\u002Fmarketplace\u002Factions\u002Fdeploy-to-github-pages\"\u003EDeploy to GitHub Pages · Actions · GitHub Marketplace\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Col\u003E\n\u003Cli\u003E在專案資料夾根目錄底下新增一個 \u003Ccode\u003E.github\u003C\u002Fcode\u003E 資料夾\u003C\u002Fli\u003E\n\u003Cli\u003E在裡頭新增一個 \u003Ccode\u003Eworkflows\u003C\u002Fcode\u003E 資料夾\u003C\u002Fli\u003E\n\u003Cli\u003E在裡頭新增一個 \u003Ccode\u003Edeploy-to-github-pages.yaml\u003C\u002Fcode\u003E 檔案\u003C\u002Fli\u003E\n\u003Cli\u003E貼上以下截取自上方連結的內容\u003C\u002Fli\u003E\n\u003Cli\u003E將檔案 push 到 GitHub 後，就可透過 GitHub Actions 把 build 完畢的檔案自動 branch 到 \u003Ccode\u003Egh-pages\u003C\u002Fcode\u003E 分支\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre class=\"language-yml\"\u003E\u003Ccode class=\"language-yml\"\u003Ename: Build and Deploy\non: [push]\njobs:\n  build-and-deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout 🛎️\n        uses: actions\u002Fcheckout@v2.3.1 # If you're using actions\u002Fcheckout@v2 you must set persist-credentials to false in most cases for the deployment to work correctly.\n        with:\n          persist-credentials: false\n\n      - name: Install and Build 🔧 # This example project is built using npm and outputs the result to the 'build' folder. Replace with the commands required to build your project, or remove this step entirely if your site is pre-built.\n        run: |\n          npm install\n          npm run build\n\n      - name: Deploy 🚀\n        uses: JamesIves\u002Fgithub-pages-deploy-action@3.7.1\n        with:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          BRANCH: gh-pages # The branch the action should deploy to.\n          FOLDER: build # The folder the action should deploy.\n          CLEAN: true # Automatically remove deleted files from the deploy branch\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E",date:"2020-05-25T00:26:32.000Z",excerpt:null,printDate:"May 25, 2020",printReadingTime:"2 min read",tags:["F2E"]}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.6ff4f0ee.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.4.js";s.setAttribute("data-main","/client/client.6ff4f0ee.js")}document.head.appendChild(s)</script> 