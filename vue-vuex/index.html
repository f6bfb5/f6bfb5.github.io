<!DOCTYPE html> <html lang=zh-Hant-TW> <head> <meta charset=utf-8> <meta name=viewport content="width=device-width,initial-scale=1"> <meta name=theme-color content=#333333> <base href=/ > <link href=https://fonts.googleapis.com rel=preconnect> <link href=https://fonts.gstatic.com rel=preconnect crossorigin> <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=favicon.png rel=icon type=image/png> <link href=client/client-6285aa39.css rel=stylesheet><link href=client/[slug]-3b60cdc8.css rel=stylesheet> <title>Vue 筆記 - Vuex</title><script async data-svelte=svelte-a2kvt3 src="https://www.googletagmanager.com/gtag/js?id=UA-114661136-2"></script><script async data-svelte=svelte-1op50db src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js data-ad-client=ca-pub-9613661448556355></script><link href=/apple-touch-icon.png rel=apple-touch-icon data-svelte=svelte-12mb5ri sizes=180x180><link href=/favicon-32x32.png rel=icon data-svelte=svelte-12mb5ri sizes=32x32 type=image/png><link href=/favicon-16x16.png rel=icon data-svelte=svelte-12mb5ri sizes=16x16 type=image/png><link href=/site.webmanifest rel=manifest data-svelte=svelte-12mb5ri><link href=/safari-pinned-tab.svg rel=mask-icon data-svelte=svelte-12mb5ri color=#5bbad5><meta data-svelte=svelte-12mb5ri name=msapplication-TileColor content=#ffc40d><meta data-svelte=svelte-12mb5ri name=theme-color content=#ffffff><link href=https://f6bfb5.github.io/vue-vuex rel=canonical data-svelte=svelte-oowxqk><meta data-svelte=svelte-oowxqk content=https://f6bfb5.github.io/vue-vuex property=og:url><meta data-svelte=svelte-oowxqk content=article property=og:type><meta data-svelte=svelte-oowxqk content="Vue 筆記 - Vuex" property=og:title><meta data-svelte=svelte-oowxqk property=og:description><meta data-svelte=svelte-oowxqk name=Description><meta data-svelte=svelte-oowxqk content=https://f6bfb5.github.io/preview/vue-vuex.png property=og:image><meta data-svelte=svelte-oowxqk name=twitter:card content=summary_large_image><meta data-svelte=svelte-oowxqk name=twitter:title value="Vue 筆記 - Vuex"><meta data-svelte=svelte-oowxqk name=twitter:description><meta data-svelte=svelte-oowxqk name=twitter:label1 value="Published on"><meta data-svelte=svelte-oowxqk name=twitter:data1 value="Dec 7, 2019"> <link href=/client/client.93cf7d27.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-6285aa39.css rel=preload as=style><link href=/client/[slug].ef92117b.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/[slug]-3b60cdc8.css rel=preload as=style></head> <body> <div id=sapper> <div class="svelte-iqhm layout"> <header class=svelte-odoyju><nav class=svelte-1c2nkmp><a href=. class=svelte-1c2nkmp>blog</a> <a href=about class=svelte-1c2nkmp>about</a> <a href=rss.xml class=svelte-1c2nkmp>rss</a> </nav> <button class=svelte-ua10zg><svg height=24 viewBox="0 0 24 24" width=24 xmlns=http://www.w3.org/2000/svg><path d="M17 14v2.639c0 1.776-1.625 2.608-2 4.361h-6c-.369-1.782-2-2.582-2-4.361v-2.639h10zm-2.25 8h-5.5l1.451 1.659c.19.216.465.341.752.341h1.094c.287 0 .562-.125.752-.341l1.451-1.659zm-1.25-22c-1.381 0-2.5 1.119-2.5 2.5v10.5h2v-10.5c0-.276.225-.5.5-.5s.5.224.5.5v10.5h2v-10.5c0-1.381-1.119-2.5-2.5-2.5zm-3.5 2.5c0-.953.386-1.817 1.006-2.449-.163-.033-.333-.051-.506-.051-1.381 0-2.5 1.119-2.5 2.5v10.5h2v-10.5z"></path></svg> </button> <a href=/ class=svelte-133wrba><img alt="Buddha of Kamakura" class=svelte-133wrba src=noun_great_buddha_of_kamakura_3572172.svg> </a> </header> <main class=svelte-iqhm> <header class=svelte-ds5ix7><h1 class=svelte-ds5ix7>Vue 筆記 - Vuex</h1> <p class=svelte-ds5ix7>December 7, 2019 <small class=svelte-ds5ix7>1 min read</small></header> <div class="svelte-ds5ix7 container"><article class=content><h2 id=介紹>介紹</h2> <ul> <li><a href=https://vuex.vuejs.org/ target=_blank rel=nofollow>Vuex</a> 參考 Flux design pattern 與 Redux 狀態管理模式</li> <li>將 <code>單向資料流 Flux 設計模式</code> 實作進 Vue 框架中，取 <code>flux</code> 中的 <code>x</code> 得名</li> <li>使用單一狀態樹統一管理應用程式的所有狀態，並儲存狀態（<code>state</code>）於 <code>store</code></li> </ul> <h3 id=actions><code>Actions</code>:</h3> <ol> <li>定義 App 的所有行為 前端組件觸發事件時會 <code>dispatch</code> 給 <code>Actions</code> <code>Actions</code> 不會直接修改 <code>State</code>，而是提交（commit） <code>mutation</code> 讓對應的 <code>mutation handler</code> 去更改 <code>State</code></li> <li>亦可非同步與 Backend API 溝通</li> </ol> <h3 id=mutations><code>Mutations</code>:</h3> <ol> <li>從 <code>commit</code> 接收 <code>Actions</code> 傳遞的資料與行為，透過計算處理後更改 <code>State</code></li> <li>每個 <code>Mutation</code> 都有一個字串型態的 <code>type</code>（事件類型）和 <code>handler</code>（回調函數）。</li> <li><code>handler</code>（回調函數）是實際更改狀態的地方，首個傳入參數便為 <code>State</code></li> <li>只有 <code>commit mutation</code> 才可更改 <code>State</code> 中的狀態，不可直接調用 <code>mutation handler</code></li> </ol> <h3 id=state><code>State</code>:</h3> <ol> <li>使用一個物件型態記錄 App 所有狀態</li> <li>由 <code>Mutation</code> 更改狀態</li> <li>建議將所有 App 狀態存入 <code>Store</code> 中，但 Vuex 仍可讓組件保有局部狀態</li> </ol> <h3 id=單向資料流>單向資料流</h3> <p>所有的動作從 <code>action</code> 出發，將結果存進 store 中，改變 <code>state</code>， <code>state</code> 改變後，<code>view</code> 會連同改變， 而這一連串的行為是 <code>不可逆</code> 的，因此稱為單向資料流。</p> <h2 id=安裝>安裝</h2> <ol> <li>npm: <code>npm instasll vuex --save</code></li> <li>CDN: <code>https://unpkg.com/vuex</code></li> </ol> <h3 id=設置>設置</h3> <p><code>main.js</code>:</p> <pre class=language-js><code class=language-js><span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">"vuex"</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id=參考文章>參考文章</h2> <ul> <li><a href=https://hackmd.io/@chupai/BJA4FwcJL target=_blank rel=nofollow>Vuex 起手式 - HackMD</a></li> <li><a href=https://ithelp.ithome.com.tw/users/20107601/ironman/1454 target=_blank rel=nofollow>Vuex 學習筆記 :: 2018 iT 邦幫忙鐵人賽</a></li> <li><a href=https://qiita.com/fruitriin/items/42b0ebc5f8a524a0ae17 target=_blank rel=nofollow>vuex をまだ理解していない全人類に捧ぐ vuex を利用したコードの図解 - Qiita</a></li> </ul> </article> <div class="back-to-top hidden svelte-142cfra" style=right:2em>Back to top </div> </div></main> <footer class=svelte-1qx4s02><a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="noreferrer noopener nofollow">CC BY-SA 4.0.</a> <div class="svelte-1qx4s02 right">Made with <span class="svelte-1qx4s02 heart">❤️</span> and <a href=https://github.com/Charca/sapper-blog-template target=_blank ref="noreferrer noopener nofollow">Sapper</a></div> <div class="svelte-1qx4s02 clearfix"></div> </footer> <a href="https://www.youtube.com/watch?v=3Y6zlM-n9Kg" target=_blank rel="noreferrer noopener"><img alt=easter_egg class="easter-egg svelte-72qmgd" src=_c_choju46_0040_s512_choju46_0040_11.png> </a> </div></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,{post:{title:"Vue 筆記 - Vuex",slug:"vue-vuex",html:"\u003Ch2 id=\"介紹\"\u003E介紹\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fvuex.vuejs.org\u002F\"\u003EVuex\u003C\u002Fa\u003E 參考 Flux design pattern 與 Redux 狀態管理模式\u003C\u002Fli\u003E\n\u003Cli\u003E將 \u003Ccode\u003E單向資料流 Flux 設計模式\u003C\u002Fcode\u003E 實作進 Vue 框架中，取 \u003Ccode\u003Eflux\u003C\u002Fcode\u003E 中的 \u003Ccode\u003Ex\u003C\u002Fcode\u003E 得名\u003C\u002Fli\u003E\n\u003Cli\u003E使用單一狀態樹統一管理應用程式的所有狀態，並儲存狀態（\u003Ccode\u003Estate\u003C\u002Fcode\u003E）於 \u003Ccode\u003Estore\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"actions\"\u003E\u003Ccode\u003EActions\u003C\u002Fcode\u003E:\u003C\u002Fh3\u003E\n\u003Col\u003E\n\u003Cli\u003E定義 App 的所有行為\n前端組件觸發事件時會 \u003Ccode\u003Edispatch\u003C\u002Fcode\u003E 給 \u003Ccode\u003EActions\u003C\u002Fcode\u003E\n\u003Ccode\u003EActions\u003C\u002Fcode\u003E 不會直接修改 \u003Ccode\u003EState\u003C\u002Fcode\u003E，而是提交（commit） \u003Ccode\u003Emutation\u003C\u002Fcode\u003E\n讓對應的 \u003Ccode\u003Emutation handler\u003C\u002Fcode\u003E 去更改 \u003Ccode\u003EState\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E亦可非同步與 Backend API 溝通\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch3 id=\"mutations\"\u003E\u003Ccode\u003EMutations\u003C\u002Fcode\u003E:\u003C\u002Fh3\u003E\n\u003Col\u003E\n\u003Cli\u003E從 \u003Ccode\u003Ecommit\u003C\u002Fcode\u003E 接收 \u003Ccode\u003EActions\u003C\u002Fcode\u003E 傳遞的資料與行為，透過計算處理後更改 \u003Ccode\u003EState\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E每個 \u003Ccode\u003EMutation\u003C\u002Fcode\u003E 都有一個字串型態的 \u003Ccode\u003Etype\u003C\u002Fcode\u003E（事件類型）和 \u003Ccode\u003Ehandler\u003C\u002Fcode\u003E（回調函數）。\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Ehandler\u003C\u002Fcode\u003E（回調函數）是實際更改狀態的地方，首個傳入參數便為 \u003Ccode\u003EState\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E只有 \u003Ccode\u003Ecommit mutation\u003C\u002Fcode\u003E 才可更改 \u003Ccode\u003EState\u003C\u002Fcode\u003E 中的狀態，不可直接調用 \u003Ccode\u003Emutation handler\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch3 id=\"state\"\u003E\u003Ccode\u003EState\u003C\u002Fcode\u003E:\u003C\u002Fh3\u003E\n\u003Col\u003E\n\u003Cli\u003E使用一個物件型態記錄 App 所有狀態\u003C\u002Fli\u003E\n\u003Cli\u003E由 \u003Ccode\u003EMutation\u003C\u002Fcode\u003E 更改狀態\u003C\u002Fli\u003E\n\u003Cli\u003E建議將所有 App 狀態存入 \u003Ccode\u003EStore\u003C\u002Fcode\u003E 中，但 Vuex 仍可讓組件保有局部狀態\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch3 id=\"單向資料流\"\u003E單向資料流\u003C\u002Fh3\u003E\n\u003Cp\u003E所有的動作從 \u003Ccode\u003Eaction\u003C\u002Fcode\u003E 出發，將結果存進 store 中，改變 \u003Ccode\u003Estate\u003C\u002Fcode\u003E，\n\u003Ccode\u003Estate\u003C\u002Fcode\u003E 改變後，\u003Ccode\u003Eview\u003C\u002Fcode\u003E 會連同改變，\n而這一連串的行為是 \u003Ccode\u003E不可逆\u003C\u002Fcode\u003E 的，因此稱為單向資料流。\u003C\u002Fp\u003E\n\u003Ch2 id=\"安裝\"\u003E安裝\u003C\u002Fh2\u003E\n\u003Col\u003E\n\u003Cli\u003Enpm: \u003Ccode\u003Enpm instasll vuex --save\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003ECDN: \u003Ccode\u003Ehttps:\u002F\u002Funpkg.com\u002Fvuex\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch3 id=\"設置\"\u003E設置\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Ccode\u003Emain.js\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E Vuex \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"vuex\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\nVue\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Euse\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EVuex\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2 id=\"參考文章\"\u003E參考文章\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fhackmd.io\u002F@chupai\u002FBJA4FwcJL\"\u003EVuex 起手式 - HackMD\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fithelp.ithome.com.tw\u002Fusers\u002F20107601\u002Fironman\u002F1454\"\u003EVuex 學習筆記 :: 2018 iT 邦幫忙鐵人賽\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fqiita.com\u002Ffruitriin\u002Fitems\u002F42b0ebc5f8a524a0ae17\"\u003Evuex をまだ理解していない全人類に捧ぐ vuex を利用したコードの図解 - Qiita\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n",date:"2019-12-07T06:43:15.000Z",excerpt:null,printDate:"December 7, 2019",printReadingTime:"1 min read",tags:["F2E","JavaScript"],image:"https:\u002F\u002Ff6bfb5.github.io\u002Fpreview\u002Fvue-vuex.png"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.93cf7d27.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.4.js";s.setAttribute("data-main","/client/client.93cf7d27.js")}document.head.appendChild(s)</script> 