import{S as Ja,i as Ya,s as ga,C as Fs,w as eo,x as to,y as so,z as ao,A as ja,q as oo,o as no,B as lo,v as po,R as Ha,e as a,t as n,k as i,c as o,a as l,h as p,d as t,m as u,G as xa,b as f,f as co,g as r,F as s,E as ro}from"./index-1cb0a915.js";import{P as io}from"./_post-84ef0c92.js";function uo(X){let _,h,k,D,E,m,w,me,d,ve,he,W,Dt,Ge,I,Z,It,L,J,Qs,De,yt,bt,Ie,Ct,Ot,B,Tt,ye,Pt,Lt,St,S,Rt,be,wt,At,Ce,jt,Ht,Ke,Y,xt,qe,y,Oe,Nt,Bt,C,Ut,$t,Mt,zt,Gt,Te,Kt,qt,Pe,Ft,Vt,v,Qt,Xt,Wt,Le,Zt,Jt,Se,Yt,gt,Re,es,ts,Fe,g,ss,Ve,A,as,we,os,ns,Qe,ee,ls,Xe,O,ps,Ae,cs,rs,je,is,us,We,te,ds,Ze,U,$a=`<code class="language-bash"><span class="token function">curl</span> -X POST
     -H <span class="token string">"Content-Type:application/x-www-form-urlencoded"</span>
     -d <span class="token string">"client_id=[CLIENT ID]
     &amp;client_secret=[CLIENT SECRET]
     &amp;grant_type=authorization_code
     &amp;code=[CODE]
     &amp;redirect_uri=[REDIRECT URL]\uFF08\u8981\u8207\u8A8D\u8B49 URL \u76F8\u540C\uFF09"</span>
     https://discordapp.com/api/oauth2/token</code>`,Je,$,fs,He,_s,Ye,M,Ma=`<code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"access_token"</span><span class="token operator">:</span> <span class="token punctuation">[</span>ACCESS TOKEN<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"expires_in"</span><span class="token operator">:</span> <span class="token number">604800</span><span class="token punctuation">,</span>
  <span class="token property">"refresh_token"</span><span class="token operator">:</span> <span class="token punctuation">[</span>REFRESH TOKEN<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"scope"</span><span class="token operator">:</span> <span class="token punctuation">[</span>SCOPE<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"token_type"</span><span class="token operator">:</span> <span class="token string">"Bearer"</span>
<span class="token punctuation">&#125;</span></code>`,ge,j,H,xe,Es,ks,Ne,ms,vs,hs,T,Be,Ds,Is,ys,bs,Ue,Cs,Os,et,se,Ts,tt,ae,Ps,st,z,za=`<code class="language-bash"><span class="token function">curl</span> -H <span class="token string">"Authorization: Bearer [ACCESS TOKEN]"</span>
     https://discordapp.com/api/users/@me</code>`,at,oe,Ls,ot,G,Ga=`<code class="language-json"><span class="token punctuation">&#123;</span>
   <span class="token property">"id"</span><span class="token operator">:</span> <span class="token punctuation">[</span>Discord ID<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"username"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u4F7F\u7528\u8005\u540D\u7A31<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"avatar"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u5927\u982D\u8CBC ID<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"discriminator"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u4F7F\u7528\u8005\u7DE8\u865F<span class="token punctuation">]</span>\uFF08\u5728\u540D\u7A31#\u5F8C\u9762\u7684\u6578\u5B57\uFF09<span class="token punctuation">,</span>
   <span class="token property">"public_flags"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">"flags"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">"email"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u4FE1\u7BB1<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"verified"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
   <span class="token property">"locale"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u4F7F\u7528\u8A9E\u8A00<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"mfa_enabled"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">&#125;</span></code>`,nt,ne,R,Ss,$e,Rs,ws,Me,As,js,lt,le,Hs,pt,pe,xs,ct,K,Ka=`<code class="language-bash"><span class="token function">curl</span> -X POST
     -H <span class="token string">"Content-Type:application/x-www-form-urlencoded"</span>
     -d <span class="token string">"client_id=[CLIENT ID]
     &amp;client_secret=[CLIENT SECRET]
     &amp;grant_type=refresh_token
     &amp;refresh_token=[REFRESH TOKEN]"</span>
     https://discordapp.com/api/oauth2/token</code>`,rt,ce,Ns,it,q,qa=`<code class="language-json"><span class="token punctuation">&#123;</span>
   <span class="token property">"access_token"</span><span class="token operator">:</span> <span class="token punctuation">[</span>ACCESS TOKEN<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"expires_in"</span><span class="token operator">:</span> <span class="token number">604800</span><span class="token punctuation">,</span>
   <span class="token property">"refresh_token"</span><span class="token operator">:</span> <span class="token punctuation">[</span>REFRESH TOKEN<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"scope"</span><span class="token operator">:</span> <span class="token punctuation">[</span>SCOPE<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"token_type"</span><span class="token operator">:</span> <span class="token string">"Bearer"</span>
<span class="token punctuation">&#125;</span></code>`,ut,re,Bs,dt,ie,Us,ft,F,$s,_t,ue,Et,b,de,Ms,fe;return{c(){_=a("ul"),h=a("li"),k=a("a"),D=a("img"),m=a("span"),w=n("\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),me=i(),d=a("h2"),ve=n("1. \u65BC Discord Developer Portal \u767B\u9304 Application"),he=i(),W=a("h3"),Dt=n("a. \u53D6\u5F97 \u300CClient ID\u300D\u548C\u300CClient Secert\u300D"),Ge=i(),I=a("ol"),Z=a("li"),It=n("\u767B\u5165 "),L=a("a"),J=a("img"),De=a("span"),yt=n("Discord Developer Portal"),bt=i(),Ie=a("li"),Ct=n("\u9EDE\u64CA\u53F3\u4E0A\u89D2\u7684\u300CNew Application\u300D"),Ot=i(),B=a("li"),Tt=n("\u53D6\u540D\uFF0C\u672C\u6587\u7BC4\u4F8B\u53D6\u70BA "),ye=a("code"),Pt=n("OAuth Vertify"),Lt=n("\uFF0C\u6B64\u540D\u7A31\u6703\u986F\u793A\u65BC\u6388\u6B0A\u9801\u9762\u4E0A\uFF0C\u4E4B\u5F8C\u9EDE\u64CA\u300CCreate\u300D"),St=i(),S=a("li"),Rt=n("\u8CC7\u8A0A\u9801\u53F3\u65B9\u7684 "),be=a("code"),wt=n("Client ID"),At=n(" \u548C "),Ce=a("code"),jt=n("Client Secert"),Ht=n(" \u5F8C\u9762\u4E5F\u6703\u7528\u5230"),Ke=i(),Y=a("h3"),xt=n("b. \u5EFA\u7ACB OAuth \u7528\u7684\u7DB2\u5740"),qe=i(),y=a("ol"),Oe=a("li"),Nt=n("\u9EDE\u64CA\u5DE6\u5074\u7684\u300COAuth2\u300D\u5206\u9801"),Bt=i(),C=a("li"),Ut=n("\u9EDE\u64CA\u53F3\u5074\u7684\u300CAdd Redirect\u300D\uFF0C\u8F38\u5165\u8981\u7528\u5230\u9A57\u8B49\u767B\u5165\u7684\u7DB2\u5740"),$t=a("br"),Mt=n(`
\u4F8B\u5982\u672C\u6587\u6700\u4E0B\u65B9\u6709\u9644\u4E0A\u5BE6\u4F5C\u7BC4\u4F8B`),zt=a("br"),Gt=n(`
\u8F38\u5165\u7684\u7DB2\u5740\u5C31\u662F\u672C\u6587\u9023\u7D50 `),Te=a("code"),Kt=n("https://f6bfb5.github.io/login-with-discord/"),qt=i(),Pe=a("li"),Ft=n(`\u52FE\u9078\u4E0B\u65B9\u300CSCOPE\u300D\uFF08\u7D22\u53D6\u7684\u8CC7\u8A0A\u6B04\u4F4D\uFF09
\u88E1\u7684\u300Cidentify\u300D\uFF08Discord \u7684 ID\uFF09\u548C\u300Cemail\u300D`),Vt=i(),v=a("li"),Qt=n("\u5C31\u53EF\u65BC\u9801\u9762\u4E0B\u65B9\u53D6\u5F97\u8A8D\u8B49\u7528\u7684\u9023\u7D50"),Xt=a("br"),Wt=n(`
\u4F8B\uFF1A`),Le=a("code"),Zt=n("https://discord.com/api/oauth2/authorize?client_id="),Jt=n("[CLIENT ID]"),Se=a("code"),Yt=n("&redirect_uri="),gt=n("[REDIRECT URL]"),Re=a("code"),es=n("&response_type=code&scope="),ts=n("[SCOPE]"),Fe=i(),g=a("h2"),ss=n("2. \u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97\u300Ccode\u300D"),Ve=i(),A=a("p"),as=n("\u4F7F\u7528\u6B64\u8A8D\u8B49\u9023\u7D50\u767B\u5165\uFF0C\u4E26\u91CD\u65B0\u5C0E\u5411\u5230\u7D50\u679C\u9801\u9762\u5F8C\uFF0C\u7DB2\u5740\u4E0A\u6703\u591A\u51FA\u4E00\u500B\u56DE\u50B3\u7684 "),we=a("code"),os=n("code"),ns=n(" \u53C3\u6578"),Qe=i(),ee=a("h2"),ls=n("3. \u4F7F\u7528\u300Ccode\u300D\u53D6\u5F97\u300Ctoken\u300D"),Xe=i(),O=a("p"),ps=n("\u518D\u4F7F\u7528\u9019\u500B "),Ae=a("code"),cs=n("code"),rs=n(" \u9001\u51FA\u8ACB\u6C42\uFF0C\u53D6\u5F97 "),je=a("code"),is=n("access_token"),us=n("\uFF0C\u624D\u80FD\u5F97\u5230\u5B58\u53D6\u8CC7\u6599\u7684\u6B0A\u9650"),We=i(),te=a("h3"),ds=n("a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),Ze=i(),U=a("pre"),Je=i(),$=a("h3"),fs=n("b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 "),He=a("code"),_s=n("access token"),Ye=i(),M=a("pre"),ge=i(),j=a("ul"),H=a("li"),xe=a("code"),Es=n("code"),ks=n(" \u70BA\u4E00\u6B21\u6027\u4F7F\u7528\uFF0C\u540C\u4E00\u500B "),Ne=a("code"),ms=n("code"),vs=n(" \u7121\u6CD5\u9032\u884C\u7B2C\u4E8C\u6B21\u5B58\u53D6"),hs=i(),T=a("li"),Be=a("code"),Ds=n("access token"),Is=n(" \u7684\u6709\u6548\u671F\u9650\u70BA 604800 \u79D2\uFF1D\u4E00\u500B\u79AE\u62DC"),ys=a("br"),bs=n(`
\u82E5\u6709\u66F4\u65B0\u9700\u6C42\uFF0C\u9808\u4F7F\u7528\u56DE\u50B3\u5167\u5BB9\u4E2D\u7684 `),Ue=a("code"),Cs=n("refresh token"),Os=n(" \u91CD\u65B0\u9001\u51FA\u8ACB\u6C42"),et=i(),se=a("h2"),Ts=n("4. \u4F7F\u7528\u300Ctoken\u300D\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),tt=i(),ae=a("h3"),Ps=n("a. \u50B3\u9001 GET \u8ACB\u6C42\u5230 Discord API"),st=i(),z=a("pre"),at=i(),oe=a("h3"),Ls=n("b. \u82E5\u9806\u5229\u6210\u529F\uFF0C\u5C31\u53EF\u53D6\u5F97\u76F8\u95DC\u8CC7\u6599"),ot=i(),G=a("pre"),nt=i(),ne=a("ul"),R=a("li"),Ss=n("\u982D\u50CF\u7DB2\u5740\u53EF\u4EE5\u4F7F\u7528\u300C"),$e=a("code"),Rs=n("https://cdn.discordapp.com/avatars/"),ws=n("[Discord ID]"),Me=a("code"),As=n("/"),js=n("[\u5927\u982D\u8CBC ID]\u300D\u53D6\u5F97"),lt=i(),le=a("h2"),Hs=n("5. \u4F7F\u7528 refresh token \u91CD\u65B0\u53D6\u5F97 access token"),pt=i(),pe=a("h3"),xs=n("a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),ct=i(),K=a("pre"),rt=i(),ce=a("h3"),Ns=n("b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 access token"),it=i(),q=a("pre"),ut=i(),re=a("h2"),Bs=n("\u7BC4\u4F8B"),dt=i(),ie=a("p"),Us=n("\u4EE5\u4E0B\u793A\u7BC4\u900F\u904E\u6B64\u65B9\u5F0F\uFF0C\u53D6\u5F97\u4F60\u7684 Discord ID \u8207\u5927\u982D\u8CBC\u5716\u7247\u3002"),ft=i(),F=a("button"),$s=n("Login with Discord"),_t=i(),ue=a("span"),Et=i(),b=a("div"),de=a("img"),Ms=i(),fe=a("div"),this.h()},l(e){_=o(e,"UL",{});var c=l(_);h=o(c,"LI",{});var Xs=l(h);k=o(Xs,"A",{href:!0,rel:!0,target:!0});var zs=l(k);D=o(zs,"IMG",{src:!0,alt:!0}),m=o(zs,"SPAN",{});var Ws=l(m);w=p(Ws,"\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),Ws.forEach(t),zs.forEach(t),Xs.forEach(t),c.forEach(t),me=u(e),d=o(e,"H2",{});var Zs=l(d);ve=p(Zs,"1. \u65BC Discord Developer Portal \u767B\u9304 Application"),Zs.forEach(t),he=u(e),W=o(e,"H3",{});var Js=l(W);Dt=p(Js,"a. \u53D6\u5F97 \u300CClient ID\u300D\u548C\u300CClient Secert\u300D"),Js.forEach(t),Ge=u(e),I=o(e,"OL",{});var x=l(I);Z=o(x,"LI",{});var Gs=l(Z);It=p(Gs,"\u767B\u5165 "),L=o(Gs,"A",{href:!0,rel:!0,target:!0});var Ks=l(L);J=o(Ks,"IMG",{src:!0,alt:!0}),De=o(Ks,"SPAN",{});var Ys=l(De);yt=p(Ys,"Discord Developer Portal"),Ys.forEach(t),Ks.forEach(t),Gs.forEach(t),bt=u(x),Ie=o(x,"LI",{});var gs=l(Ie);Ct=p(gs,"\u9EDE\u64CA\u53F3\u4E0A\u89D2\u7684\u300CNew Application\u300D"),gs.forEach(t),Ot=u(x),B=o(x,"LI",{});var kt=l(B);Tt=p(kt,"\u53D6\u540D\uFF0C\u672C\u6587\u7BC4\u4F8B\u53D6\u70BA "),ye=o(kt,"CODE",{});var ea=l(ye);Pt=p(ea,"OAuth Vertify"),ea.forEach(t),Lt=p(kt,"\uFF0C\u6B64\u540D\u7A31\u6703\u986F\u793A\u65BC\u6388\u6B0A\u9801\u9762\u4E0A\uFF0C\u4E4B\u5F8C\u9EDE\u64CA\u300CCreate\u300D"),kt.forEach(t),St=u(x),S=o(x,"LI",{});var _e=l(S);Rt=p(_e,"\u8CC7\u8A0A\u9801\u53F3\u65B9\u7684 "),be=o(_e,"CODE",{});var ta=l(be);wt=p(ta,"Client ID"),ta.forEach(t),At=p(_e," \u548C "),Ce=o(_e,"CODE",{});var sa=l(Ce);jt=p(sa,"Client Secert"),sa.forEach(t),Ht=p(_e," \u5F8C\u9762\u4E5F\u6703\u7528\u5230"),_e.forEach(t),x.forEach(t),Ke=u(e),Y=o(e,"H3",{});var aa=l(Y);xt=p(aa,"b. \u5EFA\u7ACB OAuth \u7528\u7684\u7DB2\u5740"),aa.forEach(t),qe=u(e),y=o(e,"OL",{});var N=l(y);Oe=o(N,"LI",{});var oa=l(Oe);Nt=p(oa,"\u9EDE\u64CA\u5DE6\u5074\u7684\u300COAuth2\u300D\u5206\u9801"),oa.forEach(t),Bt=u(N),C=o(N,"LI",{});var V=l(C);Ut=p(V,"\u9EDE\u64CA\u53F3\u5074\u7684\u300CAdd Redirect\u300D\uFF0C\u8F38\u5165\u8981\u7528\u5230\u9A57\u8B49\u767B\u5165\u7684\u7DB2\u5740"),$t=o(V,"BR",{}),Mt=p(V,`
\u4F8B\u5982\u672C\u6587\u6700\u4E0B\u65B9\u6709\u9644\u4E0A\u5BE6\u4F5C\u7BC4\u4F8B`),zt=o(V,"BR",{}),Gt=p(V,`
\u8F38\u5165\u7684\u7DB2\u5740\u5C31\u662F\u672C\u6587\u9023\u7D50 `),Te=o(V,"CODE",{});var na=l(Te);Kt=p(na,"https://f6bfb5.github.io/login-with-discord/"),na.forEach(t),V.forEach(t),qt=u(N),Pe=o(N,"LI",{});var la=l(Pe);Ft=p(la,`\u52FE\u9078\u4E0B\u65B9\u300CSCOPE\u300D\uFF08\u7D22\u53D6\u7684\u8CC7\u8A0A\u6B04\u4F4D\uFF09
\u88E1\u7684\u300Cidentify\u300D\uFF08Discord \u7684 ID\uFF09\u548C\u300Cemail\u300D`),la.forEach(t),Vt=u(N),v=o(N,"LI",{});var P=l(v);Qt=p(P,"\u5C31\u53EF\u65BC\u9801\u9762\u4E0B\u65B9\u53D6\u5F97\u8A8D\u8B49\u7528\u7684\u9023\u7D50"),Xt=o(P,"BR",{}),Wt=p(P,`
\u4F8B\uFF1A`),Le=o(P,"CODE",{});var pa=l(Le);Zt=p(pa,"https://discord.com/api/oauth2/authorize?client_id="),pa.forEach(t),Jt=p(P,"[CLIENT ID]"),Se=o(P,"CODE",{});var ca=l(Se);Yt=p(ca,"&redirect_uri="),ca.forEach(t),gt=p(P,"[REDIRECT URL]"),Re=o(P,"CODE",{});var ra=l(Re);es=p(ra,"&response_type=code&scope="),ra.forEach(t),ts=p(P,"[SCOPE]"),P.forEach(t),N.forEach(t),Fe=u(e),g=o(e,"H2",{});var ia=l(g);ss=p(ia,"2. \u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97\u300Ccode\u300D"),ia.forEach(t),Ve=u(e),A=o(e,"P",{});var mt=l(A);as=p(mt,"\u4F7F\u7528\u6B64\u8A8D\u8B49\u9023\u7D50\u767B\u5165\uFF0C\u4E26\u91CD\u65B0\u5C0E\u5411\u5230\u7D50\u679C\u9801\u9762\u5F8C\uFF0C\u7DB2\u5740\u4E0A\u6703\u591A\u51FA\u4E00\u500B\u56DE\u50B3\u7684 "),we=o(mt,"CODE",{});var ua=l(we);os=p(ua,"code"),ua.forEach(t),ns=p(mt," \u53C3\u6578"),mt.forEach(t),Qe=u(e),ee=o(e,"H2",{});var da=l(ee);ls=p(da,"3. \u4F7F\u7528\u300Ccode\u300D\u53D6\u5F97\u300Ctoken\u300D"),da.forEach(t),Xe=u(e),O=o(e,"P",{});var Ee=l(O);ps=p(Ee,"\u518D\u4F7F\u7528\u9019\u500B "),Ae=o(Ee,"CODE",{});var fa=l(Ae);cs=p(fa,"code"),fa.forEach(t),rs=p(Ee," \u9001\u51FA\u8ACB\u6C42\uFF0C\u53D6\u5F97 "),je=o(Ee,"CODE",{});var _a=l(je);is=p(_a,"access_token"),_a.forEach(t),us=p(Ee,"\uFF0C\u624D\u80FD\u5F97\u5230\u5B58\u53D6\u8CC7\u6599\u7684\u6B0A\u9650"),Ee.forEach(t),We=u(e),te=o(e,"H3",{});var Ea=l(te);ds=p(Ea,"a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),Ea.forEach(t),Ze=u(e),U=o(e,"PRE",{class:!0});var Fa=l(U);Fa.forEach(t),Je=u(e),$=o(e,"H3",{});var qs=l($);fs=p(qs,"b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 "),He=o(qs,"CODE",{});var ka=l(He);_s=p(ka,"access token"),ka.forEach(t),qs.forEach(t),Ye=u(e),M=o(e,"PRE",{class:!0});var Va=l(M);Va.forEach(t),ge=u(e),j=o(e,"UL",{});var vt=l(j);H=o(vt,"LI",{});var ze=l(H);xe=o(ze,"CODE",{});var ma=l(xe);Es=p(ma,"code"),ma.forEach(t),ks=p(ze," \u70BA\u4E00\u6B21\u6027\u4F7F\u7528\uFF0C\u540C\u4E00\u500B "),Ne=o(ze,"CODE",{});var va=l(Ne);ms=p(va,"code"),va.forEach(t),vs=p(ze," \u7121\u6CD5\u9032\u884C\u7B2C\u4E8C\u6B21\u5B58\u53D6"),ze.forEach(t),hs=u(vt),T=o(vt,"LI",{});var Q=l(T);Be=o(Q,"CODE",{});var ha=l(Be);Ds=p(ha,"access token"),ha.forEach(t),Is=p(Q," \u7684\u6709\u6548\u671F\u9650\u70BA 604800 \u79D2\uFF1D\u4E00\u500B\u79AE\u62DC"),ys=o(Q,"BR",{}),bs=p(Q,`
\u82E5\u6709\u66F4\u65B0\u9700\u6C42\uFF0C\u9808\u4F7F\u7528\u56DE\u50B3\u5167\u5BB9\u4E2D\u7684 `),Ue=o(Q,"CODE",{});var Da=l(Ue);Cs=p(Da,"refresh token"),Da.forEach(t),Os=p(Q," \u91CD\u65B0\u9001\u51FA\u8ACB\u6C42"),Q.forEach(t),vt.forEach(t),et=u(e),se=o(e,"H2",{});var Ia=l(se);Ts=p(Ia,"4. \u4F7F\u7528\u300Ctoken\u300D\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),Ia.forEach(t),tt=u(e),ae=o(e,"H3",{});var ya=l(ae);Ps=p(ya,"a. \u50B3\u9001 GET \u8ACB\u6C42\u5230 Discord API"),ya.forEach(t),st=u(e),z=o(e,"PRE",{class:!0});var Qa=l(z);Qa.forEach(t),at=u(e),oe=o(e,"H3",{});var ba=l(oe);Ls=p(ba,"b. \u82E5\u9806\u5229\u6210\u529F\uFF0C\u5C31\u53EF\u53D6\u5F97\u76F8\u95DC\u8CC7\u6599"),ba.forEach(t),ot=u(e),G=o(e,"PRE",{class:!0});var Xa=l(G);Xa.forEach(t),nt=u(e),ne=o(e,"UL",{});var Ca=l(ne);R=o(Ca,"LI",{});var ke=l(R);Ss=p(ke,"\u982D\u50CF\u7DB2\u5740\u53EF\u4EE5\u4F7F\u7528\u300C"),$e=o(ke,"CODE",{});var Oa=l($e);Rs=p(Oa,"https://cdn.discordapp.com/avatars/"),Oa.forEach(t),ws=p(ke,"[Discord ID]"),Me=o(ke,"CODE",{});var Ta=l(Me);As=p(Ta,"/"),Ta.forEach(t),js=p(ke,"[\u5927\u982D\u8CBC ID]\u300D\u53D6\u5F97"),ke.forEach(t),Ca.forEach(t),lt=u(e),le=o(e,"H2",{});var Pa=l(le);Hs=p(Pa,"5. \u4F7F\u7528 refresh token \u91CD\u65B0\u53D6\u5F97 access token"),Pa.forEach(t),pt=u(e),pe=o(e,"H3",{});var La=l(pe);xs=p(La,"a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),La.forEach(t),ct=u(e),K=o(e,"PRE",{class:!0});var Wa=l(K);Wa.forEach(t),rt=u(e),ce=o(e,"H3",{});var Sa=l(ce);Ns=p(Sa,"b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 access token"),Sa.forEach(t),it=u(e),q=o(e,"PRE",{class:!0});var Za=l(q);Za.forEach(t),ut=u(e),re=o(e,"H2",{});var Ra=l(re);Bs=p(Ra,"\u7BC4\u4F8B"),Ra.forEach(t),dt=u(e),ie=o(e,"P",{});var wa=l(ie);Us=p(wa,"\u4EE5\u4E0B\u793A\u7BC4\u900F\u904E\u6B64\u65B9\u5F0F\uFF0C\u53D6\u5F97\u4F60\u7684 Discord ID \u8207\u5927\u982D\u8CBC\u5716\u7247\u3002"),wa.forEach(t),ft=u(e),F=o(e,"BUTTON",{id:!0});var Aa=l(F);$s=p(Aa,"Login with Discord"),Aa.forEach(t),_t=u(e),ue=o(e,"SPAN",{id:!0}),l(ue).forEach(t),Et=u(e),b=o(e,"DIV",{class:!0,id:!0,style:!0});var ht=l(b);de=o(ht,"IMG",{alt:!0,class:!0,id:!0}),Ms=u(ht),fe=o(ht,"DIV",{class:!0,id:!0}),l(fe).forEach(t),ht.forEach(t),this.h()},h(){xa(D.src,E="https://s2.googleusercontent.com/s2/favicons?domain=https://qiita.com/masayoshi4649/items/46fdb744cb8255f5eb98")||f(D,"src",E),f(D,"alt","\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),f(k,"href","https://qiita.com/masayoshi4649/items/46fdb744cb8255f5eb98"),f(k,"rel","noopener"),f(k,"target","_blank"),xa(J.src,Qs="https://s2.googleusercontent.com/s2/favicons?domain=https://discord.com/developers/applications")||f(J,"src",Qs),f(J,"alt","Discord Developer Portal"),f(L,"href","https://discord.com/developers/applications"),f(L,"rel","noopener"),f(L,"target","_blank"),f(U,"class","language-bash"),f(M,"class","language-json"),f(z,"class","language-bash"),f(G,"class","language-json"),f(K,"class","language-bash"),f(q,"class","language-json"),f(F,"id","js-discord-button"),f(ue,"id","js-discord-status"),f(de,"alt","profile"),f(de,"class","discord-card--image svelte-9ys6tj"),f(de,"id","js-discord-card--image"),f(fe,"class","discord-card--username"),f(fe,"id","js-discord-card--username"),f(b,"class","discord-card"),f(b,"id","js-discord-card"),co(b,"display","none")},m(e,c){r(e,_,c),s(_,h),s(h,k),s(k,D),s(k,m),s(m,w),r(e,me,c),r(e,d,c),s(d,ve),r(e,he,c),r(e,W,c),s(W,Dt),r(e,Ge,c),r(e,I,c),s(I,Z),s(Z,It),s(Z,L),s(L,J),s(L,De),s(De,yt),s(I,bt),s(I,Ie),s(Ie,Ct),s(I,Ot),s(I,B),s(B,Tt),s(B,ye),s(ye,Pt),s(B,Lt),s(I,St),s(I,S),s(S,Rt),s(S,be),s(be,wt),s(S,At),s(S,Ce),s(Ce,jt),s(S,Ht),r(e,Ke,c),r(e,Y,c),s(Y,xt),r(e,qe,c),r(e,y,c),s(y,Oe),s(Oe,Nt),s(y,Bt),s(y,C),s(C,Ut),s(C,$t),s(C,Mt),s(C,zt),s(C,Gt),s(C,Te),s(Te,Kt),s(y,qt),s(y,Pe),s(Pe,Ft),s(y,Vt),s(y,v),s(v,Qt),s(v,Xt),s(v,Wt),s(v,Le),s(Le,Zt),s(v,Jt),s(v,Se),s(Se,Yt),s(v,gt),s(v,Re),s(Re,es),s(v,ts),r(e,Fe,c),r(e,g,c),s(g,ss),r(e,Ve,c),r(e,A,c),s(A,as),s(A,we),s(we,os),s(A,ns),r(e,Qe,c),r(e,ee,c),s(ee,ls),r(e,Xe,c),r(e,O,c),s(O,ps),s(O,Ae),s(Ae,cs),s(O,rs),s(O,je),s(je,is),s(O,us),r(e,We,c),r(e,te,c),s(te,ds),r(e,Ze,c),r(e,U,c),U.innerHTML=$a,r(e,Je,c),r(e,$,c),s($,fs),s($,He),s(He,_s),r(e,Ye,c),r(e,M,c),M.innerHTML=Ma,r(e,ge,c),r(e,j,c),s(j,H),s(H,xe),s(xe,Es),s(H,ks),s(H,Ne),s(Ne,ms),s(H,vs),s(j,hs),s(j,T),s(T,Be),s(Be,Ds),s(T,Is),s(T,ys),s(T,bs),s(T,Ue),s(Ue,Cs),s(T,Os),r(e,et,c),r(e,se,c),s(se,Ts),r(e,tt,c),r(e,ae,c),s(ae,Ps),r(e,st,c),r(e,z,c),z.innerHTML=za,r(e,at,c),r(e,oe,c),s(oe,Ls),r(e,ot,c),r(e,G,c),G.innerHTML=Ga,r(e,nt,c),r(e,ne,c),s(ne,R),s(R,Ss),s(R,$e),s($e,Rs),s(R,ws),s(R,Me),s(Me,As),s(R,js),r(e,lt,c),r(e,le,c),s(le,Hs),r(e,pt,c),r(e,pe,c),s(pe,xs),r(e,ct,c),r(e,K,c),K.innerHTML=Ka,r(e,rt,c),r(e,ce,c),s(ce,Ns),r(e,it,c),r(e,q,c),q.innerHTML=qa,r(e,ut,c),r(e,re,c),s(re,Bs),r(e,dt,c),r(e,ie,c),s(ie,Us),r(e,ft,c),r(e,F,c),s(F,$s),r(e,_t,c),r(e,ue,c),r(e,Et,c),r(e,b,c),s(b,de),s(b,Ms),s(b,fe)},p:ro,d(e){e&&t(_),e&&t(me),e&&t(d),e&&t(he),e&&t(W),e&&t(Ge),e&&t(I),e&&t(Ke),e&&t(Y),e&&t(qe),e&&t(y),e&&t(Fe),e&&t(g),e&&t(Ve),e&&t(A),e&&t(Qe),e&&t(ee),e&&t(Xe),e&&t(O),e&&t(We),e&&t(te),e&&t(Ze),e&&t(U),e&&t(Je),e&&t($),e&&t(Ye),e&&t(M),e&&t(ge),e&&t(j),e&&t(et),e&&t(se),e&&t(tt),e&&t(ae),e&&t(st),e&&t(z),e&&t(at),e&&t(oe),e&&t(ot),e&&t(G),e&&t(nt),e&&t(ne),e&&t(lt),e&&t(le),e&&t(pt),e&&t(pe),e&&t(ct),e&&t(K),e&&t(rt),e&&t(ce),e&&t(it),e&&t(q),e&&t(ut),e&&t(re),e&&t(dt),e&&t(ie),e&&t(ft),e&&t(F),e&&t(_t),e&&t(ue),e&&t(Et),e&&t(b)}}}function fo(X){let _,h;const k=[X[0],Vs];let D={$$slots:{default:[uo]},$$scope:{ctx:X}};for(let E=0;E<k.length;E+=1)D=Fs(D,k[E]);return _=new io({props:D}),{c(){eo(_.$$.fragment)},l(E){to(_.$$.fragment,E)},m(E,m){so(_,E,m),h=!0},p(E,[m]){const w=m&1?ao(k,[m&1&&ja(E[0]),m&0&&ja(Vs)]):{};m&2&&(w.$$scope={dirty:m,ctx:E}),_.$set(w)},i(E){h||(oo(_.$$.fragment,E),h=!0)},o(E){no(_.$$.fragment,E),h=!1},d(E){lo(_,E)}}}const Vs={title:"\u5BE6\u4F5C\u300C\u4F7F\u7528 Discord \u767B\u5165\u300D",date:"2021-01-14T00:24:23.000Z",tags:"F2E"},Na="798950274114781204",Ba="https://f6bfb5.github.io/login-with-discord",Ua="identify email";function _o(){document.location.href=`https://discord.com/api/oauth2/authorize?client_id=${Na}&redirect_uri=${encodeURIComponent(Ba)}&response_type=code&scope=${encodeURIComponent(Ua)}`}function Eo(X,_,h){return po(()=>{document.getElementById("js-discord-button").addEventListener("click",_o);const k=new URLSearchParams(window.location.search);if(k.has("code")){const D="3c-TeN5NxElL4la8E6h5BlT4zDHigser",E="https://discordapp.com/api/oauth2/token",m={client_id:Na,client_secret:D,grant_type:"authorization_code",code:k.get("code"),redirect_uri:Ba,scope:Ua},w=Object.keys(m).map(d=>encodeURIComponent(d)+"="+encodeURIComponent(m[d])).join("&");fetch(E,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:w}).then(function(d){if(!d.ok)throw new Error(d.statusText);return document.getElementById("js-discord-status").innerText="token got",d.json()}).then(function(d){let ve=d.access_token;return fetch("https://discordapp.com/api/users/@me",{method:"GET",headers:{authorization:"Bearer "+ve}})}).then(function(d){if(!d.ok)throw new Error(d.statusText);return document.getElementById("js-discord-status").innerText="user data got",d.json()}).catch(function(d){document.getElementById("js-discord-status").innerText=d}).then(function(d){d!=null&&(document.getElementById("js-discord-card").style.display="block",document.getElementById("js-discord-card--image").src=`https://cdn.discordapp.com/avatars/${d.id}/${d.avatar}`,document.getElementById("js-discord-card--username").innerText=`${d.username}#${d.discriminator}`)})}else document.getElementById("js-discord-status").innerText="Not logged in"}),X.$$set=k=>{h(0,_=Fs(Fs({},_),Ha(k)))},_=Ha(_),[_]}class ko extends Ja{constructor(_){super(),Ya(this,_,Eo,fo,ga,{})}}var ho=Object.freeze(Object.defineProperty({__proto__:null,default:ko,metadata:Vs},Symbol.toStringTag,{value:"Module"}));export{ko as L,ho as _,Vs as m};
