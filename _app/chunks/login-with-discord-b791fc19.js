import{S as Ja,i as Ya,s as ga,C as Fs,w as eo,x as to,y as so,z as ao,A as ja,q as oo,o as lo,B as no,v as ro,R as Ha,e as a,t as l,k as i,c as o,a as n,h as r,d as t,m as d,G as xa,b as f,f as co,g as p,F as s,E as po}from"./index-eaf72aad.js";import{P as io}from"./_post-b069be5f.js";function uo(X){let _,h,m,D,E,k,w,ke,u,ve,he,W,Dt,Ge,I,Z,It,L,J,Qs,De,yt,bt,Ie,Ct,Ot,B,Tt,ye,Pt,Lt,St,S,Rt,be,wt,At,Ce,jt,Ht,Ke,Y,xt,qe,y,Oe,Nt,Bt,C,Ut,$t,Mt,zt,Gt,Te,Kt,qt,Pe,Ft,Vt,v,Qt,Xt,Wt,Le,Zt,Jt,Se,Yt,gt,Re,es,ts,Fe,g,ss,Ve,A,as,we,os,ls,Qe,ee,ns,Xe,O,rs,Ae,cs,ps,je,is,ds,We,te,us,Ze,U,$a=`<code class="language-bash"><span class="token function">curl</span> -X POST
     -H <span class="token string">"Content-Type:application/x-www-form-urlencoded"</span>
     -d <span class="token string">"client_id=CLIENT ID
     &amp;client_secret=CLIENT SECRET
     &amp;grant_type=authorization_code
     &amp;code=CODE
     &amp;redirect_uri=REDIRECT URL\uFF08\u8981\u8207\u8A8D\u8B49 URL \u76F8\u540C\uFF09"</span>
     https://discordapp.com/api/oauth2/token</code>`,Je,$,fs,He,_s,Ye,M,Ma=`<code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"access_token"</span><span class="token operator">:</span> ACCESS TOKEN<span class="token punctuation">,</span>
  <span class="token property">"expires_in"</span><span class="token operator">:</span> <span class="token number">604800</span><span class="token punctuation">,</span>
  <span class="token property">"refresh_token"</span><span class="token operator">:</span> REFRESH TOKEN<span class="token punctuation">,</span>
  <span class="token property">"scope"</span><span class="token operator">:</span> SCOPE<span class="token punctuation">,</span>
  <span class="token property">"token_type"</span><span class="token operator">:</span> <span class="token string">"Bearer"</span>
<span class="token punctuation">&#125;</span></code>`,ge,j,H,xe,Es,ms,Ne,ks,vs,hs,T,Be,Ds,Is,ys,bs,Ue,Cs,Os,et,se,Ts,tt,ae,Ps,st,z,za=`<code class="language-bash"><span class="token function">curl</span> -H <span class="token string">"Authorization: Bearer ACCESS TOKEN"</span>
     https://discordapp.com/api/users/@me</code>`,at,oe,Ls,ot,G,Ga=`<code class="language-json"><span class="token punctuation">&#123;</span>
   <span class="token property">"id"</span><span class="token operator">:</span> Discord ID<span class="token punctuation">,</span>
   <span class="token property">"username"</span><span class="token operator">:</span> \u4F7F\u7528\u8005\u540D\u7A31<span class="token punctuation">,</span>
   <span class="token property">"avatar"</span><span class="token operator">:</span> \u5927\u982D\u8CBC ID<span class="token punctuation">,</span>
   <span class="token property">"discriminator"</span><span class="token operator">:</span> \u4F7F\u7528\u8005\u7DE8\u865F\uFF08\u5728\u540D\u7A31#\u5F8C\u9762\u7684\u6578\u5B57\uFF09<span class="token punctuation">,</span>
   <span class="token property">"public_flags"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">"flags"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">"email"</span><span class="token operator">:</span> \u4FE1\u7BB1<span class="token punctuation">,</span>
   <span class="token property">"verified"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
   <span class="token property">"locale"</span><span class="token operator">:</span> \u4F7F\u7528\u8A9E\u8A00<span class="token punctuation">,</span>
   <span class="token property">"mfa_enabled"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">&#125;</span></code>`,lt,le,R,Ss,$e,Rs,ws,Me,As,js,nt,ne,Hs,rt,re,xs,ct,K,Ka=`<code class="language-bash"><span class="token function">curl</span> -X POST
     -H <span class="token string">"Content-Type:application/x-www-form-urlencoded"</span>
     -d <span class="token string">"client_id=CLIENT ID
     &amp;client_secret=CLIENT SECRET
     &amp;grant_type=refresh_token
     &amp;refresh_token=REFRESH TOKEN"</span>
     https://discordapp.com/api/oauth2/token</code>`,pt,ce,Ns,it,q,qa=`<code class="language-json"><span class="token punctuation">&#123;</span>
   <span class="token property">"access_token"</span><span class="token operator">:</span> ACCESS TOKEN<span class="token punctuation">,</span>
   <span class="token property">"expires_in"</span><span class="token operator">:</span> <span class="token number">604800</span><span class="token punctuation">,</span>
   <span class="token property">"refresh_token"</span><span class="token operator">:</span> REFRESH TOKEN<span class="token punctuation">,</span>
   <span class="token property">"scope"</span><span class="token operator">:</span> SCOPE<span class="token punctuation">,</span>
   <span class="token property">"token_type"</span><span class="token operator">:</span> <span class="token string">"Bearer"</span>
<span class="token punctuation">&#125;</span></code>`,dt,pe,Bs,ut,ie,Us,ft,F,$s,_t,de,Et,b,ue,Ms,fe;return{c(){_=a("ul"),h=a("li"),m=a("a"),D=a("img"),k=a("span"),w=l("\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),ke=i(),u=a("h2"),ve=l("1. \u65BC Discord Developer Portal \u767B\u9304 Application"),he=i(),W=a("h3"),Dt=l("a. \u53D6\u5F97 \u300CClient ID\u300D\u548C\u300CClient Secert\u300D"),Ge=i(),I=a("ol"),Z=a("li"),It=l("\u767B\u5165 "),L=a("a"),J=a("img"),De=a("span"),yt=l("Discord Developer Portal"),bt=i(),Ie=a("li"),Ct=l("\u9EDE\u64CA\u53F3\u4E0A\u89D2\u7684\u300CNew Application\u300D"),Ot=i(),B=a("li"),Tt=l("\u53D6\u540D\uFF0C\u672C\u6587\u7BC4\u4F8B\u53D6\u70BA "),ye=a("code"),Pt=l("OAuth Vertify"),Lt=l("\uFF0C\u6B64\u540D\u7A31\u6703\u986F\u793A\u65BC\u6388\u6B0A\u9801\u9762\u4E0A\uFF0C\u4E4B\u5F8C\u9EDE\u64CA\u300CCreate\u300D"),St=i(),S=a("li"),Rt=l("\u8CC7\u8A0A\u9801\u53F3\u65B9\u7684 "),be=a("code"),wt=l("Client ID"),At=l(" \u548C "),Ce=a("code"),jt=l("Client Secert"),Ht=l(" \u5F8C\u9762\u4E5F\u6703\u7528\u5230"),Ke=i(),Y=a("h3"),xt=l("b. \u5EFA\u7ACB OAuth \u7528\u7684\u7DB2\u5740"),qe=i(),y=a("ol"),Oe=a("li"),Nt=l("\u9EDE\u64CA\u5DE6\u5074\u7684\u300COAuth2\u300D\u5206\u9801"),Bt=i(),C=a("li"),Ut=l("\u9EDE\u64CA\u53F3\u5074\u7684\u300CAdd Redirect\u300D\uFF0C\u8F38\u5165\u8981\u7528\u5230\u9A57\u8B49\u767B\u5165\u7684\u7DB2\u5740"),$t=a("br"),Mt=l(`
\u4F8B\u5982\u672C\u6587\u6700\u4E0B\u65B9\u6709\u9644\u4E0A\u5BE6\u4F5C\u7BC4\u4F8B`),zt=a("br"),Gt=l(`
\u8F38\u5165\u7684\u7DB2\u5740\u5C31\u662F\u672C\u6587\u9023\u7D50 `),Te=a("code"),Kt=l("https://f6bfb5.github.io/login-with-discord/"),qt=i(),Pe=a("li"),Ft=l(`\u52FE\u9078\u4E0B\u65B9\u300CSCOPE\u300D\uFF08\u7D22\u53D6\u7684\u8CC7\u8A0A\u6B04\u4F4D\uFF09
\u88E1\u7684\u300Cidentify\u300D\uFF08Discord \u7684 ID\uFF09\u548C\u300Cemail\u300D`),Vt=i(),v=a("li"),Qt=l("\u5C31\u53EF\u65BC\u9801\u9762\u4E0B\u65B9\u53D6\u5F97\u8A8D\u8B49\u7528\u7684\u9023\u7D50"),Xt=a("br"),Wt=l(`
\u4F8B\uFF1A`),Le=a("code"),Zt=l("https://discord.com/api/oauth2/authorize?client_id="),Jt=l("CLIENT ID"),Se=a("code"),Yt=l("&redirect_uri="),gt=l("REDIRECT URL"),Re=a("code"),es=l("&response_type=code&scope="),ts=l("SCOPE"),Fe=i(),g=a("h2"),ss=l("2. \u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97\u300Ccode\u300D"),Ve=i(),A=a("p"),as=l("\u4F7F\u7528\u6B64\u8A8D\u8B49\u9023\u7D50\u767B\u5165\uFF0C\u4E26\u91CD\u65B0\u5C0E\u5411\u5230\u7D50\u679C\u9801\u9762\u5F8C\uFF0C\u7DB2\u5740\u4E0A\u6703\u591A\u51FA\u4E00\u500B\u56DE\u50B3\u7684 "),we=a("code"),os=l("code"),ls=l(" \u53C3\u6578"),Qe=i(),ee=a("h2"),ns=l("3. \u4F7F\u7528\u300Ccode\u300D\u53D6\u5F97\u300Ctoken\u300D"),Xe=i(),O=a("p"),rs=l("\u518D\u4F7F\u7528\u9019\u500B "),Ae=a("code"),cs=l("code"),ps=l(" \u9001\u51FA\u8ACB\u6C42\uFF0C\u53D6\u5F97 "),je=a("code"),is=l("access_token"),ds=l("\uFF0C\u624D\u80FD\u5F97\u5230\u5B58\u53D6\u8CC7\u6599\u7684\u6B0A\u9650"),We=i(),te=a("h3"),us=l("a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),Ze=i(),U=a("pre"),Je=i(),$=a("h3"),fs=l("b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 "),He=a("code"),_s=l("access token"),Ye=i(),M=a("pre"),ge=i(),j=a("ul"),H=a("li"),xe=a("code"),Es=l("code"),ms=l(" \u70BA\u4E00\u6B21\u6027\u4F7F\u7528\uFF0C\u540C\u4E00\u500B "),Ne=a("code"),ks=l("code"),vs=l(" \u7121\u6CD5\u9032\u884C\u7B2C\u4E8C\u6B21\u5B58\u53D6"),hs=i(),T=a("li"),Be=a("code"),Ds=l("access token"),Is=l(" \u7684\u6709\u6548\u671F\u9650\u70BA 604800 \u79D2\uFF1D\u4E00\u500B\u79AE\u62DC"),ys=a("br"),bs=l(`
\u82E5\u6709\u66F4\u65B0\u9700\u6C42\uFF0C\u9808\u4F7F\u7528\u56DE\u50B3\u5167\u5BB9\u4E2D\u7684 `),Ue=a("code"),Cs=l("refresh token"),Os=l(" \u91CD\u65B0\u9001\u51FA\u8ACB\u6C42"),et=i(),se=a("h2"),Ts=l("4. \u4F7F\u7528\u300Ctoken\u300D\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),tt=i(),ae=a("h3"),Ps=l("a. \u50B3\u9001 GET \u8ACB\u6C42\u5230 Discord API"),st=i(),z=a("pre"),at=i(),oe=a("h3"),Ls=l("b. \u82E5\u9806\u5229\u6210\u529F\uFF0C\u5C31\u53EF\u53D6\u5F97\u76F8\u95DC\u8CC7\u6599"),ot=i(),G=a("pre"),lt=i(),le=a("ul"),R=a("li"),Ss=l("\u982D\u50CF\u7DB2\u5740\u53EF\u4EE5\u4F7F\u7528\u300C"),$e=a("code"),Rs=l("https://cdn.discordapp.com/avatars/"),ws=l("Discord ID"),Me=a("code"),As=l("/"),js=l("\u5927\u982D\u8CBC ID\u300D\u53D6\u5F97"),nt=i(),ne=a("h2"),Hs=l("5. \u4F7F\u7528 refresh token \u91CD\u65B0\u53D6\u5F97 access token"),rt=i(),re=a("h3"),xs=l("a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),ct=i(),K=a("pre"),pt=i(),ce=a("h3"),Ns=l("b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 access token"),it=i(),q=a("pre"),dt=i(),pe=a("h2"),Bs=l("\u7BC4\u4F8B"),ut=i(),ie=a("p"),Us=l("\u4EE5\u4E0B\u793A\u7BC4\u900F\u904E\u6B64\u65B9\u5F0F\uFF0C\u53D6\u5F97\u4F60\u7684 Discord ID \u8207\u5927\u982D\u8CBC\u5716\u7247\u3002"),ft=i(),F=a("button"),$s=l("Login with Discord"),_t=i(),de=a("span"),Et=i(),b=a("div"),ue=a("img"),Ms=i(),fe=a("div"),this.h()},l(e){_=o(e,"UL",{});var c=n(_);h=o(c,"LI",{});var Xs=n(h);m=o(Xs,"A",{href:!0,rel:!0,target:!0});var zs=n(m);D=o(zs,"IMG",{src:!0,alt:!0}),k=o(zs,"SPAN",{});var Ws=n(k);w=r(Ws,"\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),Ws.forEach(t),zs.forEach(t),Xs.forEach(t),c.forEach(t),ke=d(e),u=o(e,"H2",{});var Zs=n(u);ve=r(Zs,"1. \u65BC Discord Developer Portal \u767B\u9304 Application"),Zs.forEach(t),he=d(e),W=o(e,"H3",{});var Js=n(W);Dt=r(Js,"a. \u53D6\u5F97 \u300CClient ID\u300D\u548C\u300CClient Secert\u300D"),Js.forEach(t),Ge=d(e),I=o(e,"OL",{});var x=n(I);Z=o(x,"LI",{});var Gs=n(Z);It=r(Gs,"\u767B\u5165 "),L=o(Gs,"A",{href:!0,rel:!0,target:!0});var Ks=n(L);J=o(Ks,"IMG",{src:!0,alt:!0}),De=o(Ks,"SPAN",{});var Ys=n(De);yt=r(Ys,"Discord Developer Portal"),Ys.forEach(t),Ks.forEach(t),Gs.forEach(t),bt=d(x),Ie=o(x,"LI",{});var gs=n(Ie);Ct=r(gs,"\u9EDE\u64CA\u53F3\u4E0A\u89D2\u7684\u300CNew Application\u300D"),gs.forEach(t),Ot=d(x),B=o(x,"LI",{});var mt=n(B);Tt=r(mt,"\u53D6\u540D\uFF0C\u672C\u6587\u7BC4\u4F8B\u53D6\u70BA "),ye=o(mt,"CODE",{});var ea=n(ye);Pt=r(ea,"OAuth Vertify"),ea.forEach(t),Lt=r(mt,"\uFF0C\u6B64\u540D\u7A31\u6703\u986F\u793A\u65BC\u6388\u6B0A\u9801\u9762\u4E0A\uFF0C\u4E4B\u5F8C\u9EDE\u64CA\u300CCreate\u300D"),mt.forEach(t),St=d(x),S=o(x,"LI",{});var _e=n(S);Rt=r(_e,"\u8CC7\u8A0A\u9801\u53F3\u65B9\u7684 "),be=o(_e,"CODE",{});var ta=n(be);wt=r(ta,"Client ID"),ta.forEach(t),At=r(_e," \u548C "),Ce=o(_e,"CODE",{});var sa=n(Ce);jt=r(sa,"Client Secert"),sa.forEach(t),Ht=r(_e," \u5F8C\u9762\u4E5F\u6703\u7528\u5230"),_e.forEach(t),x.forEach(t),Ke=d(e),Y=o(e,"H3",{});var aa=n(Y);xt=r(aa,"b. \u5EFA\u7ACB OAuth \u7528\u7684\u7DB2\u5740"),aa.forEach(t),qe=d(e),y=o(e,"OL",{});var N=n(y);Oe=o(N,"LI",{});var oa=n(Oe);Nt=r(oa,"\u9EDE\u64CA\u5DE6\u5074\u7684\u300COAuth2\u300D\u5206\u9801"),oa.forEach(t),Bt=d(N),C=o(N,"LI",{});var V=n(C);Ut=r(V,"\u9EDE\u64CA\u53F3\u5074\u7684\u300CAdd Redirect\u300D\uFF0C\u8F38\u5165\u8981\u7528\u5230\u9A57\u8B49\u767B\u5165\u7684\u7DB2\u5740"),$t=o(V,"BR",{}),Mt=r(V,`
\u4F8B\u5982\u672C\u6587\u6700\u4E0B\u65B9\u6709\u9644\u4E0A\u5BE6\u4F5C\u7BC4\u4F8B`),zt=o(V,"BR",{}),Gt=r(V,`
\u8F38\u5165\u7684\u7DB2\u5740\u5C31\u662F\u672C\u6587\u9023\u7D50 `),Te=o(V,"CODE",{});var la=n(Te);Kt=r(la,"https://f6bfb5.github.io/login-with-discord/"),la.forEach(t),V.forEach(t),qt=d(N),Pe=o(N,"LI",{});var na=n(Pe);Ft=r(na,`\u52FE\u9078\u4E0B\u65B9\u300CSCOPE\u300D\uFF08\u7D22\u53D6\u7684\u8CC7\u8A0A\u6B04\u4F4D\uFF09
\u88E1\u7684\u300Cidentify\u300D\uFF08Discord \u7684 ID\uFF09\u548C\u300Cemail\u300D`),na.forEach(t),Vt=d(N),v=o(N,"LI",{});var P=n(v);Qt=r(P,"\u5C31\u53EF\u65BC\u9801\u9762\u4E0B\u65B9\u53D6\u5F97\u8A8D\u8B49\u7528\u7684\u9023\u7D50"),Xt=o(P,"BR",{}),Wt=r(P,`
\u4F8B\uFF1A`),Le=o(P,"CODE",{});var ra=n(Le);Zt=r(ra,"https://discord.com/api/oauth2/authorize?client_id="),ra.forEach(t),Jt=r(P,"CLIENT ID"),Se=o(P,"CODE",{});var ca=n(Se);Yt=r(ca,"&redirect_uri="),ca.forEach(t),gt=r(P,"REDIRECT URL"),Re=o(P,"CODE",{});var pa=n(Re);es=r(pa,"&response_type=code&scope="),pa.forEach(t),ts=r(P,"SCOPE"),P.forEach(t),N.forEach(t),Fe=d(e),g=o(e,"H2",{});var ia=n(g);ss=r(ia,"2. \u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97\u300Ccode\u300D"),ia.forEach(t),Ve=d(e),A=o(e,"P",{});var kt=n(A);as=r(kt,"\u4F7F\u7528\u6B64\u8A8D\u8B49\u9023\u7D50\u767B\u5165\uFF0C\u4E26\u91CD\u65B0\u5C0E\u5411\u5230\u7D50\u679C\u9801\u9762\u5F8C\uFF0C\u7DB2\u5740\u4E0A\u6703\u591A\u51FA\u4E00\u500B\u56DE\u50B3\u7684 "),we=o(kt,"CODE",{});var da=n(we);os=r(da,"code"),da.forEach(t),ls=r(kt," \u53C3\u6578"),kt.forEach(t),Qe=d(e),ee=o(e,"H2",{});var ua=n(ee);ns=r(ua,"3. \u4F7F\u7528\u300Ccode\u300D\u53D6\u5F97\u300Ctoken\u300D"),ua.forEach(t),Xe=d(e),O=o(e,"P",{});var Ee=n(O);rs=r(Ee,"\u518D\u4F7F\u7528\u9019\u500B "),Ae=o(Ee,"CODE",{});var fa=n(Ae);cs=r(fa,"code"),fa.forEach(t),ps=r(Ee," \u9001\u51FA\u8ACB\u6C42\uFF0C\u53D6\u5F97 "),je=o(Ee,"CODE",{});var _a=n(je);is=r(_a,"access_token"),_a.forEach(t),ds=r(Ee,"\uFF0C\u624D\u80FD\u5F97\u5230\u5B58\u53D6\u8CC7\u6599\u7684\u6B0A\u9650"),Ee.forEach(t),We=d(e),te=o(e,"H3",{});var Ea=n(te);us=r(Ea,"a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),Ea.forEach(t),Ze=d(e),U=o(e,"PRE",{class:!0});var Fa=n(U);Fa.forEach(t),Je=d(e),$=o(e,"H3",{});var qs=n($);fs=r(qs,"b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 "),He=o(qs,"CODE",{});var ma=n(He);_s=r(ma,"access token"),ma.forEach(t),qs.forEach(t),Ye=d(e),M=o(e,"PRE",{class:!0});var Va=n(M);Va.forEach(t),ge=d(e),j=o(e,"UL",{});var vt=n(j);H=o(vt,"LI",{});var ze=n(H);xe=o(ze,"CODE",{});var ka=n(xe);Es=r(ka,"code"),ka.forEach(t),ms=r(ze," \u70BA\u4E00\u6B21\u6027\u4F7F\u7528\uFF0C\u540C\u4E00\u500B "),Ne=o(ze,"CODE",{});var va=n(Ne);ks=r(va,"code"),va.forEach(t),vs=r(ze," \u7121\u6CD5\u9032\u884C\u7B2C\u4E8C\u6B21\u5B58\u53D6"),ze.forEach(t),hs=d(vt),T=o(vt,"LI",{});var Q=n(T);Be=o(Q,"CODE",{});var ha=n(Be);Ds=r(ha,"access token"),ha.forEach(t),Is=r(Q," \u7684\u6709\u6548\u671F\u9650\u70BA 604800 \u79D2\uFF1D\u4E00\u500B\u79AE\u62DC"),ys=o(Q,"BR",{}),bs=r(Q,`
\u82E5\u6709\u66F4\u65B0\u9700\u6C42\uFF0C\u9808\u4F7F\u7528\u56DE\u50B3\u5167\u5BB9\u4E2D\u7684 `),Ue=o(Q,"CODE",{});var Da=n(Ue);Cs=r(Da,"refresh token"),Da.forEach(t),Os=r(Q," \u91CD\u65B0\u9001\u51FA\u8ACB\u6C42"),Q.forEach(t),vt.forEach(t),et=d(e),se=o(e,"H2",{});var Ia=n(se);Ts=r(Ia,"4. \u4F7F\u7528\u300Ctoken\u300D\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),Ia.forEach(t),tt=d(e),ae=o(e,"H3",{});var ya=n(ae);Ps=r(ya,"a. \u50B3\u9001 GET \u8ACB\u6C42\u5230 Discord API"),ya.forEach(t),st=d(e),z=o(e,"PRE",{class:!0});var Qa=n(z);Qa.forEach(t),at=d(e),oe=o(e,"H3",{});var ba=n(oe);Ls=r(ba,"b. \u82E5\u9806\u5229\u6210\u529F\uFF0C\u5C31\u53EF\u53D6\u5F97\u76F8\u95DC\u8CC7\u6599"),ba.forEach(t),ot=d(e),G=o(e,"PRE",{class:!0});var Xa=n(G);Xa.forEach(t),lt=d(e),le=o(e,"UL",{});var Ca=n(le);R=o(Ca,"LI",{});var me=n(R);Ss=r(me,"\u982D\u50CF\u7DB2\u5740\u53EF\u4EE5\u4F7F\u7528\u300C"),$e=o(me,"CODE",{});var Oa=n($e);Rs=r(Oa,"https://cdn.discordapp.com/avatars/"),Oa.forEach(t),ws=r(me,"Discord ID"),Me=o(me,"CODE",{});var Ta=n(Me);As=r(Ta,"/"),Ta.forEach(t),js=r(me,"\u5927\u982D\u8CBC ID\u300D\u53D6\u5F97"),me.forEach(t),Ca.forEach(t),nt=d(e),ne=o(e,"H2",{});var Pa=n(ne);Hs=r(Pa,"5. \u4F7F\u7528 refresh token \u91CD\u65B0\u53D6\u5F97 access token"),Pa.forEach(t),rt=d(e),re=o(e,"H3",{});var La=n(re);xs=r(La,"a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),La.forEach(t),ct=d(e),K=o(e,"PRE",{class:!0});var Wa=n(K);Wa.forEach(t),pt=d(e),ce=o(e,"H3",{});var Sa=n(ce);Ns=r(Sa,"b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 access token"),Sa.forEach(t),it=d(e),q=o(e,"PRE",{class:!0});var Za=n(q);Za.forEach(t),dt=d(e),pe=o(e,"H2",{});var Ra=n(pe);Bs=r(Ra,"\u7BC4\u4F8B"),Ra.forEach(t),ut=d(e),ie=o(e,"P",{});var wa=n(ie);Us=r(wa,"\u4EE5\u4E0B\u793A\u7BC4\u900F\u904E\u6B64\u65B9\u5F0F\uFF0C\u53D6\u5F97\u4F60\u7684 Discord ID \u8207\u5927\u982D\u8CBC\u5716\u7247\u3002"),wa.forEach(t),ft=d(e),F=o(e,"BUTTON",{id:!0});var Aa=n(F);$s=r(Aa,"Login with Discord"),Aa.forEach(t),_t=d(e),de=o(e,"SPAN",{id:!0}),n(de).forEach(t),Et=d(e),b=o(e,"DIV",{class:!0,id:!0,style:!0});var ht=n(b);ue=o(ht,"IMG",{alt:!0,class:!0,id:!0}),Ms=d(ht),fe=o(ht,"DIV",{class:!0,id:!0}),n(fe).forEach(t),ht.forEach(t),this.h()},h(){xa(D.src,E="https://s2.googleusercontent.com/s2/favicons?domain=https://qiita.com/masayoshi4649/items/46fdb744cb8255f5eb98")||f(D,"src",E),f(D,"alt","\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),f(m,"href","https://qiita.com/masayoshi4649/items/46fdb744cb8255f5eb98"),f(m,"rel","noopener"),f(m,"target","_blank"),xa(J.src,Qs="https://s2.googleusercontent.com/s2/favicons?domain=https://discord.com/developers/applications")||f(J,"src",Qs),f(J,"alt","Discord Developer Portal"),f(L,"href","https://discord.com/developers/applications"),f(L,"rel","noopener"),f(L,"target","_blank"),f(U,"class","language-bash"),f(M,"class","language-json"),f(z,"class","language-bash"),f(G,"class","language-json"),f(K,"class","language-bash"),f(q,"class","language-json"),f(F,"id","js-discord-button"),f(de,"id","js-discord-status"),f(ue,"alt","profile"),f(ue,"class","discord-card--image svelte-9ys6tj"),f(ue,"id","js-discord-card--image"),f(fe,"class","discord-card--username"),f(fe,"id","js-discord-card--username"),f(b,"class","discord-card"),f(b,"id","js-discord-card"),co(b,"display","none")},m(e,c){p(e,_,c),s(_,h),s(h,m),s(m,D),s(m,k),s(k,w),p(e,ke,c),p(e,u,c),s(u,ve),p(e,he,c),p(e,W,c),s(W,Dt),p(e,Ge,c),p(e,I,c),s(I,Z),s(Z,It),s(Z,L),s(L,J),s(L,De),s(De,yt),s(I,bt),s(I,Ie),s(Ie,Ct),s(I,Ot),s(I,B),s(B,Tt),s(B,ye),s(ye,Pt),s(B,Lt),s(I,St),s(I,S),s(S,Rt),s(S,be),s(be,wt),s(S,At),s(S,Ce),s(Ce,jt),s(S,Ht),p(e,Ke,c),p(e,Y,c),s(Y,xt),p(e,qe,c),p(e,y,c),s(y,Oe),s(Oe,Nt),s(y,Bt),s(y,C),s(C,Ut),s(C,$t),s(C,Mt),s(C,zt),s(C,Gt),s(C,Te),s(Te,Kt),s(y,qt),s(y,Pe),s(Pe,Ft),s(y,Vt),s(y,v),s(v,Qt),s(v,Xt),s(v,Wt),s(v,Le),s(Le,Zt),s(v,Jt),s(v,Se),s(Se,Yt),s(v,gt),s(v,Re),s(Re,es),s(v,ts),p(e,Fe,c),p(e,g,c),s(g,ss),p(e,Ve,c),p(e,A,c),s(A,as),s(A,we),s(we,os),s(A,ls),p(e,Qe,c),p(e,ee,c),s(ee,ns),p(e,Xe,c),p(e,O,c),s(O,rs),s(O,Ae),s(Ae,cs),s(O,ps),s(O,je),s(je,is),s(O,ds),p(e,We,c),p(e,te,c),s(te,us),p(e,Ze,c),p(e,U,c),U.innerHTML=$a,p(e,Je,c),p(e,$,c),s($,fs),s($,He),s(He,_s),p(e,Ye,c),p(e,M,c),M.innerHTML=Ma,p(e,ge,c),p(e,j,c),s(j,H),s(H,xe),s(xe,Es),s(H,ms),s(H,Ne),s(Ne,ks),s(H,vs),s(j,hs),s(j,T),s(T,Be),s(Be,Ds),s(T,Is),s(T,ys),s(T,bs),s(T,Ue),s(Ue,Cs),s(T,Os),p(e,et,c),p(e,se,c),s(se,Ts),p(e,tt,c),p(e,ae,c),s(ae,Ps),p(e,st,c),p(e,z,c),z.innerHTML=za,p(e,at,c),p(e,oe,c),s(oe,Ls),p(e,ot,c),p(e,G,c),G.innerHTML=Ga,p(e,lt,c),p(e,le,c),s(le,R),s(R,Ss),s(R,$e),s($e,Rs),s(R,ws),s(R,Me),s(Me,As),s(R,js),p(e,nt,c),p(e,ne,c),s(ne,Hs),p(e,rt,c),p(e,re,c),s(re,xs),p(e,ct,c),p(e,K,c),K.innerHTML=Ka,p(e,pt,c),p(e,ce,c),s(ce,Ns),p(e,it,c),p(e,q,c),q.innerHTML=qa,p(e,dt,c),p(e,pe,c),s(pe,Bs),p(e,ut,c),p(e,ie,c),s(ie,Us),p(e,ft,c),p(e,F,c),s(F,$s),p(e,_t,c),p(e,de,c),p(e,Et,c),p(e,b,c),s(b,ue),s(b,Ms),s(b,fe)},p:po,d(e){e&&t(_),e&&t(ke),e&&t(u),e&&t(he),e&&t(W),e&&t(Ge),e&&t(I),e&&t(Ke),e&&t(Y),e&&t(qe),e&&t(y),e&&t(Fe),e&&t(g),e&&t(Ve),e&&t(A),e&&t(Qe),e&&t(ee),e&&t(Xe),e&&t(O),e&&t(We),e&&t(te),e&&t(Ze),e&&t(U),e&&t(Je),e&&t($),e&&t(Ye),e&&t(M),e&&t(ge),e&&t(j),e&&t(et),e&&t(se),e&&t(tt),e&&t(ae),e&&t(st),e&&t(z),e&&t(at),e&&t(oe),e&&t(ot),e&&t(G),e&&t(lt),e&&t(le),e&&t(nt),e&&t(ne),e&&t(rt),e&&t(re),e&&t(ct),e&&t(K),e&&t(pt),e&&t(ce),e&&t(it),e&&t(q),e&&t(dt),e&&t(pe),e&&t(ut),e&&t(ie),e&&t(ft),e&&t(F),e&&t(_t),e&&t(de),e&&t(Et),e&&t(b)}}}function fo(X){let _,h;const m=[X[0],Vs];let D={$$slots:{default:[uo]},$$scope:{ctx:X}};for(let E=0;E<m.length;E+=1)D=Fs(D,m[E]);return _=new io({props:D}),{c(){eo(_.$$.fragment)},l(E){to(_.$$.fragment,E)},m(E,k){so(_,E,k),h=!0},p(E,[k]){const w=k&1?ao(m,[k&1&&ja(E[0]),k&0&&ja(Vs)]):{};k&2&&(w.$$scope={dirty:k,ctx:E}),_.$set(w)},i(E){h||(oo(_.$$.fragment,E),h=!0)},o(E){lo(_.$$.fragment,E),h=!1},d(E){no(_,E)}}}const Vs={title:"\u5BE6\u4F5C\u300C\u4F7F\u7528 Discord \u767B\u5165\u300D",date:"2021-01-14T00:24:23.000Z",tags:"F2E"},Na="798950274114781204",Ba="https://f6bfb5.github.io/login-with-discord",Ua="identify email";function _o(){document.location.href=`https://discord.com/api/oauth2/authorize?client_id=${Na}&redirect_uri=${encodeURIComponent(Ba)}&response_type=code&scope=${encodeURIComponent(Ua)}`}function Eo(X,_,h){return ro(()=>{document.getElementById("js-discord-button").addEventListener("click",_o);const m=new URLSearchParams(window.location.search);if(m.has("code")){const D="3c-TeN5NxElL4la8E6h5BlT4zDHigser",E="https://discordapp.com/api/oauth2/token",k={client_id:Na,client_secret:D,grant_type:"authorization_code",code:m.get("code"),redirect_uri:Ba,scope:Ua},w=Object.keys(k).map(u=>encodeURIComponent(u)+"="+encodeURIComponent(k[u])).join("&");fetch(E,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:w}).then(function(u){if(!u.ok)throw new Error(u.statusText);return document.getElementById("js-discord-status").innerText="token got",u.json()}).then(function(u){let ve=u.access_token;return fetch("https://discordapp.com/api/users/@me",{method:"GET",headers:{authorization:"Bearer "+ve}})}).then(function(u){if(!u.ok)throw new Error(u.statusText);return document.getElementById("js-discord-status").innerText="user data got",u.json()}).catch(function(u){document.getElementById("js-discord-status").innerText=u}).then(function(u){u!=null&&(document.getElementById("js-discord-card").style.display="block",document.getElementById("js-discord-card--image").src=`https://cdn.discordapp.com/avatars/${u.id}/${u.avatar}`,document.getElementById("js-discord-card--username").innerText=`${u.username}#${u.discriminator}`)})}else document.getElementById("js-discord-status").innerText="Not logged in"}),X.$$set=m=>{h(0,_=Fs(Fs({},_),Ha(m)))},_=Ha(_),[_]}class mo extends Ja{constructor(_){super(),Ya(this,_,Eo,fo,ga,{})}}var ho=Object.freeze(Object.defineProperty({__proto__:null,default:mo,metadata:Vs},Symbol.toStringTag,{value:"Module"}));export{mo as L,ho as _,Vs as m};
