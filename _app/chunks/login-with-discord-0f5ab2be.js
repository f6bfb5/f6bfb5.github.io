import{S as ba,i as Ca,s as Ta,C as Cs,w as Oa,x as La,y as Pa,z as Ra,A as na,q as Sa,o as wa,B as Aa,v as ja,R as ra,e as o,t as p,k as i,c as l,a as r,h as c,d as t,m as d,b as E,f as Ha,g as n,G as s,E as xa}from"./index-946c5d3a.js";import{P as Ba}from"./_post-3d10a06c.js";function Na(V){let f,v,m,b,_,k,L,fe,u,_e,Ee,h,q,dt,H,ut,ft,ke,_t,Et,x,kt,me,mt,vt,ht,C,Dt,ve,It,yt,he,bt,Ct,je,Q,Tt,He,D,De,Ot,Lt,T,Pt,Rt,St,wt,At,jt,Ie,Ht,xt,B,Bt,Nt,Ut,xe,X,$t,Be,P,zt,ye,Mt,Kt,Ne,W,Gt,Ue,y,Ft,be,Vt,qt,Ce,Qt,Xt,$e,Z,Wt,ze,N,da=`<code class="language-bash"><span class="token function">curl</span> -X POST
     -H <span class="token string">"Content-Type:application/x-www-form-urlencoded"</span>
     -d <span class="token string">"client_id=CLIENT ID
     &amp;client_secret=CLIENT SECRET
     &amp;grant_type=authorization_code
     &amp;code=CODE
     &amp;redirect_uri=REDIRECT URL\uFF08\u8981\u8207\u8A8D\u8B49 URL \u76F8\u540C\uFF09"</span>
     https://discordapp.com/api/oauth2/token</code>`,Me,U,Zt,Te,Jt,Ke,$,ua=`<code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"access_token"</span><span class="token operator">:</span> ACCESS TOKEN<span class="token punctuation">,</span>
  <span class="token property">"expires_in"</span><span class="token operator">:</span> <span class="token number">604800</span><span class="token punctuation">,</span>
  <span class="token property">"refresh_token"</span><span class="token operator">:</span> REFRESH TOKEN<span class="token punctuation">,</span>
  <span class="token property">"scope"</span><span class="token operator">:</span> SCOPE<span class="token punctuation">,</span>
  <span class="token property">"token_type"</span><span class="token operator">:</span> <span class="token string">"Bearer"</span>
<span class="token punctuation">&#125;</span></code>`,Ge,R,S,Oe,Yt,gt,Le,es,ts,ss,w,Pe,as,os,ls,ns,Fe,J,rs,Ve,Y,ps,qe,z,fa=`<code class="language-bash"><span class="token function">curl</span> -H <span class="token string">"Authorization: Bearer ACCESS TOKEN"</span>
     https://discordapp.com/api/users/@me</code>`,Qe,g,cs,Xe,M,_a=`<code class="language-json"><span class="token punctuation">&#123;</span>
   <span class="token property">"id"</span><span class="token operator">:</span> Discord ID<span class="token punctuation">,</span>
   <span class="token property">"username"</span><span class="token operator">:</span> \u4F7F\u7528\u8005\u540D\u7A31<span class="token punctuation">,</span>
   <span class="token property">"avatar"</span><span class="token operator">:</span> \u5927\u982D\u8CBC ID<span class="token punctuation">,</span>
   <span class="token property">"discriminator"</span><span class="token operator">:</span> \u4F7F\u7528\u8005\u7DE8\u865F\uFF08\u5728\u540D\u7A31#\u5F8C\u9762\u7684\u6578\u5B57\uFF09<span class="token punctuation">,</span>
   <span class="token property">"public_flags"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">"flags"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">"email"</span><span class="token operator">:</span> \u4FE1\u7BB1<span class="token punctuation">,</span>
   <span class="token property">"verified"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
   <span class="token property">"locale"</span><span class="token operator">:</span> \u4F7F\u7528\u8A9E\u8A00<span class="token punctuation">,</span>
   <span class="token property">"mfa_enabled"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">&#125;</span></code>`,We,ee,O,is,Re,ds,us,Se,fs,_s,Ze,te,Es,Je,se,ks,Ye,K,Ea=`<code class="language-bash"><span class="token function">curl</span> -X POST
     -H <span class="token string">"Content-Type:application/x-www-form-urlencoded"</span>
     -d <span class="token string">"client_id=CLIENT ID
     &amp;client_secret=CLIENT SECRET
     &amp;grant_type=refresh_token
     &amp;refresh_token=REFRESH TOKEN"</span>
     https://discordapp.com/api/oauth2/token</code>`,ge,ae,ms,et,G,ka=`<code class="language-json"><span class="token punctuation">&#123;</span>
   <span class="token property">"access_token"</span><span class="token operator">:</span> ACCESS TOKEN<span class="token punctuation">,</span>
   <span class="token property">"expires_in"</span><span class="token operator">:</span> <span class="token number">604800</span><span class="token punctuation">,</span>
   <span class="token property">"refresh_token"</span><span class="token operator">:</span> REFRESH TOKEN<span class="token punctuation">,</span>
   <span class="token property">"scope"</span><span class="token operator">:</span> SCOPE<span class="token punctuation">,</span>
   <span class="token property">"token_type"</span><span class="token operator">:</span> <span class="token string">"Bearer"</span>
<span class="token punctuation">&#125;</span></code>`,tt,oe,vs,st,le,hs,at,F,Ds,ot,ne,lt,I,re,Is,pe;return{c(){f=o("ul"),v=o("li"),m=o("a"),b=p("\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),_=i(),k=o("h2"),L=p("1. \u65BC Discord Developer Portal \u767B\u9304 Application"),fe=i(),u=o("h3"),_e=p("a. \u53D6\u5F97 \u300CClient ID\u300D\u548C\u300CClient Secert\u300D"),Ee=i(),h=o("ol"),q=o("li"),dt=p("\u767B\u5165 "),H=o("a"),ut=p("Discord Developer Portal"),ft=i(),ke=o("li"),_t=p("\u9EDE\u64CA\u53F3\u4E0A\u89D2\u7684\u300CNew Application\u300D"),Et=i(),x=o("li"),kt=p("\u53D6\u540D\uFF0C\u672C\u6587\u7BC4\u4F8B\u53D6\u70BA "),me=o("code"),mt=p("OAuth Vertify"),vt=p("\uFF0C\u6B64\u540D\u7A31\u6703\u986F\u793A\u65BC\u6388\u6B0A\u9801\u9762\u4E0A\uFF0C\u4E4B\u5F8C\u9EDE\u64CA\u300CCreate\u300D"),ht=i(),C=o("li"),Dt=p("\u8CC7\u8A0A\u9801\u53F3\u65B9\u7684 "),ve=o("code"),It=p("Client ID"),yt=p(" \u548C "),he=o("code"),bt=p("Client Secert"),Ct=p(" \u5F8C\u9762\u4E5F\u6703\u7528\u5230"),je=i(),Q=o("h3"),Tt=p("b. \u5EFA\u7ACB OAuth \u7528\u7684\u7DB2\u5740"),He=i(),D=o("ol"),De=o("li"),Ot=p("\u9EDE\u64CA\u5DE6\u5074\u7684\u300COAuth2\u300D\u5206\u9801"),Lt=i(),T=o("li"),Pt=p("\u9EDE\u64CA\u53F3\u5074\u7684\u300CAdd Redirect\u300D\uFF0C\u8F38\u5165\u8981\u7528\u5230\u9A57\u8B49\u767B\u5165\u7684\u7DB2\u5740"),Rt=o("br"),St=p(`\u4F8B\u5982\u672C\u6587\u6700\u4E0B\u65B9\u4E5F\u6709\u9644\u4E0A\u5BE6\u4F5C\u7BC4\u4F8B
`),wt=o("br"),At=p("\u8F38\u5165\u7684\u7DB2\u5740\u5C31\u662F `https://f6bfb5.github.io/login-with-discord/`"),jt=i(),Ie=o("li"),Ht=p(`\u52FE\u9078\u4E0B\u65B9\u300CSCOPE\u300D\uFF08\u7D22\u53D6\u7684\u8CC7\u8A0A\u6B04\u4F4D\uFF09
\u88E1\u7684\u300Cidentify\u300D\uFF08Discord \u7684 ID\uFF09\u548C\u300Cemail\u300D`),xt=i(),B=o("li"),Bt=p("\u5C31\u53EF\u65BC\u9801\u9762\u4E0B\u65B9\u53D6\u5F97\u8A8D\u8B49\u7528\u7684\u9023\u7D50"),Nt=o("br"),Ut=p("\u4F8B\uFF1A`https://discord.com/api/oauth2/authorize?client_id=`CLIENT ID`&redirect_uri=`REDIRECT URL`&response_type=code&scope=`SCOPE"),xe=i(),X=o("h2"),$t=p("2. \u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97\u300Ccode\u300D"),Be=i(),P=o("p"),zt=p("\u4F7F\u7528\u6B64\u8A8D\u8B49\u9023\u7D50\u767B\u5165\uFF0C\u4E26\u91CD\u65B0\u5C0E\u5411\u5230\u7D50\u679C\u9801\u9762\u5F8C\uFF0C\u7DB2\u5740\u4E0A\u6703\u591A\u51FA\u4E00\u500B\u56DE\u50B3\u7684 "),ye=o("code"),Mt=p("code"),Kt=p(" \u53C3\u6578"),Ne=i(),W=o("h2"),Gt=p("3. \u4F7F\u7528\u300Ccode\u300D\u53D6\u5F97\u300Ctoken\u300D"),Ue=i(),y=o("p"),Ft=p("\u518D\u4F7F\u7528\u9019\u500B "),be=o("code"),Vt=p("code"),qt=p(" \u53BB\u53D6\u5F97 "),Ce=o("code"),Qt=p("access_token"),Xt=p("\uFF0C\u624D\u80FD\u5F97\u5230\u5B58\u53D6\u8CC7\u6599\u7684\u6B0A\u9650"),$e=i(),Z=o("h3"),Wt=p("a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),ze=i(),N=o("pre"),Me=i(),U=o("h3"),Zt=p("b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 "),Te=o("code"),Jt=p("access token"),Ke=i(),$=o("pre"),Ge=i(),R=o("ul"),S=o("li"),Oe=o("code"),Yt=p("code"),gt=p(" \u70BA\u4E00\u6B21\u6027\u4F7F\u7528\uFF0C\u540C\u4E00\u500B "),Le=o("code"),es=p("code"),ts=p(" \u7121\u6CD5\u9032\u884C\u7B2C\u4E8C\u6B21\u5B58\u53D6"),ss=i(),w=o("li"),Pe=o("code"),as=p("access token"),os=p(" \u7684\u6709\u6548\u671F\u9650\u70BA 604800 \u79D2\uFF1D\u4E00\u500B\u79AE\u62DC"),ls=o("br"),ns=p("\u82E5\u6709\u66F4\u65B0\u9700\u6C42\uFF0C\u9808\u4F7F\u7528\u56DE\u50B3\u5167\u5BB9\u4E2D\u7684 `refresh token` \u91CD\u65B0\u9001\u51FA\u8ACB\u6C42"),Fe=i(),J=o("h2"),rs=p("4. \u4F7F\u7528\u300Ctoken\u300D\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),Ve=i(),Y=o("h3"),ps=p("a. \u50B3\u9001 GET \u8ACB\u6C42\u5230 Discord API"),qe=i(),z=o("pre"),Qe=i(),g=o("h3"),cs=p("b. \u82E5\u9806\u5229\u6210\u529F\uFF0C\u5C31\u53EF\u53D6\u5F97\u76F8\u95DC\u8CC7\u6599"),Xe=i(),M=o("pre"),We=i(),ee=o("ul"),O=o("li"),is=p("\u982D\u50CF\u53EF\u4EE5\u4F7F\u7528\u300C"),Re=o("code"),ds=p("https://cdn.discordapp.com/avatars/"),us=p("Discord ID"),Se=o("code"),fs=p("/"),_s=p("\u5927\u982D\u8CBC ID\u300D\u53D6\u5F97"),Ze=i(),te=o("h2"),Es=p("5. \u4F7F\u7528 refresh token \u91CD\u65B0\u53D6\u5F97 access token"),Je=i(),se=o("h3"),ks=p("a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),Ye=i(),K=o("pre"),ge=i(),ae=o("h3"),ms=p("b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 access token"),et=i(),G=o("pre"),tt=i(),oe=o("h2"),vs=p("\u7BC4\u4F8B"),st=i(),le=o("p"),hs=p("\u4EE5\u4E0B\u793A\u7BC4\u900F\u904E\u6B64\u65B9\u5F0F\uFF0C\u53D6\u5F97\u4F60\u7684 Discord ID \u8207\u5927\u982D\u8CBC\u5716\u7247\u3002"),at=i(),F=o("button"),Ds=p("Login with Discord"),ot=i(),ne=o("span"),lt=i(),I=o("div"),re=o("img"),Is=i(),pe=o("div"),this.h()},l(e){f=l(e,"UL",{});var a=r(f);v=l(a,"LI",{});var Os=r(v);m=l(Os,"A",{href:!0,rel:!0});var Ls=r(m);b=c(Ls,"\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),Ls.forEach(t),Os.forEach(t),a.forEach(t),_=d(e),k=l(e,"H2",{});var Ps=r(k);L=c(Ps,"1. \u65BC Discord Developer Portal \u767B\u9304 Application"),Ps.forEach(t),fe=d(e),u=l(e,"H3",{});var Rs=r(u);_e=c(Rs,"a. \u53D6\u5F97 \u300CClient ID\u300D\u548C\u300CClient Secert\u300D"),Rs.forEach(t),Ee=d(e),h=l(e,"OL",{});var A=r(h);q=l(A,"LI",{});var ys=r(q);dt=c(ys,"\u767B\u5165 "),H=l(ys,"A",{href:!0,rel:!0});var Ss=r(H);ut=c(Ss,"Discord Developer Portal"),Ss.forEach(t),ys.forEach(t),ft=d(A),ke=l(A,"LI",{});var ws=r(ke);_t=c(ws,"\u9EDE\u64CA\u53F3\u4E0A\u89D2\u7684\u300CNew Application\u300D"),ws.forEach(t),Et=d(A),x=l(A,"LI",{});var nt=r(x);kt=c(nt,"\u53D6\u540D\uFF0C\u672C\u6587\u7BC4\u4F8B\u53D6\u70BA "),me=l(nt,"CODE",{});var As=r(me);mt=c(As,"OAuth Vertify"),As.forEach(t),vt=c(nt,"\uFF0C\u6B64\u540D\u7A31\u6703\u986F\u793A\u65BC\u6388\u6B0A\u9801\u9762\u4E0A\uFF0C\u4E4B\u5F8C\u9EDE\u64CA\u300CCreate\u300D"),nt.forEach(t),ht=d(A),C=l(A,"LI",{});var ce=r(C);Dt=c(ce,"\u8CC7\u8A0A\u9801\u53F3\u65B9\u7684 "),ve=l(ce,"CODE",{});var js=r(ve);It=c(js,"Client ID"),js.forEach(t),yt=c(ce," \u548C "),he=l(ce,"CODE",{});var Hs=r(he);bt=c(Hs,"Client Secert"),Hs.forEach(t),Ct=c(ce," \u5F8C\u9762\u4E5F\u6703\u7528\u5230"),ce.forEach(t),A.forEach(t),je=d(e),Q=l(e,"H3",{});var xs=r(Q);Tt=c(xs,"b. \u5EFA\u7ACB OAuth \u7528\u7684\u7DB2\u5740"),xs.forEach(t),He=d(e),D=l(e,"OL",{});var j=r(D);De=l(j,"LI",{});var Bs=r(De);Ot=c(Bs,"\u9EDE\u64CA\u5DE6\u5074\u7684\u300COAuth2\u300D\u5206\u9801"),Bs.forEach(t),Lt=d(j),T=l(j,"LI",{});var ie=r(T);Pt=c(ie,"\u9EDE\u64CA\u53F3\u5074\u7684\u300CAdd Redirect\u300D\uFF0C\u8F38\u5165\u8981\u7528\u5230\u9A57\u8B49\u767B\u5165\u7684\u7DB2\u5740"),Rt=l(ie,"BR",{}),St=c(ie,`\u4F8B\u5982\u672C\u6587\u6700\u4E0B\u65B9\u4E5F\u6709\u9644\u4E0A\u5BE6\u4F5C\u7BC4\u4F8B
`),wt=l(ie,"BR",{}),At=c(ie,"\u8F38\u5165\u7684\u7DB2\u5740\u5C31\u662F `https://f6bfb5.github.io/login-with-discord/`"),ie.forEach(t),jt=d(j),Ie=l(j,"LI",{});var Ns=r(Ie);Ht=c(Ns,`\u52FE\u9078\u4E0B\u65B9\u300CSCOPE\u300D\uFF08\u7D22\u53D6\u7684\u8CC7\u8A0A\u6B04\u4F4D\uFF09
\u88E1\u7684\u300Cidentify\u300D\uFF08Discord \u7684 ID\uFF09\u548C\u300Cemail\u300D`),Ns.forEach(t),xt=d(j),B=l(j,"LI",{});var rt=r(B);Bt=c(rt,"\u5C31\u53EF\u65BC\u9801\u9762\u4E0B\u65B9\u53D6\u5F97\u8A8D\u8B49\u7528\u7684\u9023\u7D50"),Nt=l(rt,"BR",{}),Ut=c(rt,"\u4F8B\uFF1A`https://discord.com/api/oauth2/authorize?client_id=`CLIENT ID`&redirect_uri=`REDIRECT URL`&response_type=code&scope=`SCOPE"),rt.forEach(t),j.forEach(t),xe=d(e),X=l(e,"H2",{});var Us=r(X);$t=c(Us,"2. \u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97\u300Ccode\u300D"),Us.forEach(t),Be=d(e),P=l(e,"P",{});var pt=r(P);zt=c(pt,"\u4F7F\u7528\u6B64\u8A8D\u8B49\u9023\u7D50\u767B\u5165\uFF0C\u4E26\u91CD\u65B0\u5C0E\u5411\u5230\u7D50\u679C\u9801\u9762\u5F8C\uFF0C\u7DB2\u5740\u4E0A\u6703\u591A\u51FA\u4E00\u500B\u56DE\u50B3\u7684 "),ye=l(pt,"CODE",{});var $s=r(ye);Mt=c($s,"code"),$s.forEach(t),Kt=c(pt," \u53C3\u6578"),pt.forEach(t),Ne=d(e),W=l(e,"H2",{});var zs=r(W);Gt=c(zs,"3. \u4F7F\u7528\u300Ccode\u300D\u53D6\u5F97\u300Ctoken\u300D"),zs.forEach(t),Ue=d(e),y=l(e,"P",{});var de=r(y);Ft=c(de,"\u518D\u4F7F\u7528\u9019\u500B "),be=l(de,"CODE",{});var Ms=r(be);Vt=c(Ms,"code"),Ms.forEach(t),qt=c(de," \u53BB\u53D6\u5F97 "),Ce=l(de,"CODE",{});var Ks=r(Ce);Qt=c(Ks,"access_token"),Ks.forEach(t),Xt=c(de,"\uFF0C\u624D\u80FD\u5F97\u5230\u5B58\u53D6\u8CC7\u6599\u7684\u6B0A\u9650"),de.forEach(t),$e=d(e),Z=l(e,"H3",{});var Gs=r(Z);Wt=c(Gs,"a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),Gs.forEach(t),ze=d(e),N=l(e,"PRE",{class:!0});var ma=r(N);ma.forEach(t),Me=d(e),U=l(e,"H3",{});var bs=r(U);Zt=c(bs,"b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 "),Te=l(bs,"CODE",{});var Fs=r(Te);Jt=c(Fs,"access token"),Fs.forEach(t),bs.forEach(t),Ke=d(e),$=l(e,"PRE",{class:!0});var va=r($);va.forEach(t),Ge=d(e),R=l(e,"UL",{});var ct=r(R);S=l(ct,"LI",{});var we=r(S);Oe=l(we,"CODE",{});var Vs=r(Oe);Yt=c(Vs,"code"),Vs.forEach(t),gt=c(we," \u70BA\u4E00\u6B21\u6027\u4F7F\u7528\uFF0C\u540C\u4E00\u500B "),Le=l(we,"CODE",{});var qs=r(Le);es=c(qs,"code"),qs.forEach(t),ts=c(we," \u7121\u6CD5\u9032\u884C\u7B2C\u4E8C\u6B21\u5B58\u53D6"),we.forEach(t),ss=d(ct),w=l(ct,"LI",{});var Ae=r(w);Pe=l(Ae,"CODE",{});var Qs=r(Pe);as=c(Qs,"access token"),Qs.forEach(t),os=c(Ae," \u7684\u6709\u6548\u671F\u9650\u70BA 604800 \u79D2\uFF1D\u4E00\u500B\u79AE\u62DC"),ls=l(Ae,"BR",{}),ns=c(Ae,"\u82E5\u6709\u66F4\u65B0\u9700\u6C42\uFF0C\u9808\u4F7F\u7528\u56DE\u50B3\u5167\u5BB9\u4E2D\u7684 `refresh token` \u91CD\u65B0\u9001\u51FA\u8ACB\u6C42"),Ae.forEach(t),ct.forEach(t),Fe=d(e),J=l(e,"H2",{});var Xs=r(J);rs=c(Xs,"4. \u4F7F\u7528\u300Ctoken\u300D\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),Xs.forEach(t),Ve=d(e),Y=l(e,"H3",{});var Ws=r(Y);ps=c(Ws,"a. \u50B3\u9001 GET \u8ACB\u6C42\u5230 Discord API"),Ws.forEach(t),qe=d(e),z=l(e,"PRE",{class:!0});var ha=r(z);ha.forEach(t),Qe=d(e),g=l(e,"H3",{});var Zs=r(g);cs=c(Zs,"b. \u82E5\u9806\u5229\u6210\u529F\uFF0C\u5C31\u53EF\u53D6\u5F97\u76F8\u95DC\u8CC7\u6599"),Zs.forEach(t),Xe=d(e),M=l(e,"PRE",{class:!0});var Da=r(M);Da.forEach(t),We=d(e),ee=l(e,"UL",{});var Js=r(ee);O=l(Js,"LI",{});var ue=r(O);is=c(ue,"\u982D\u50CF\u53EF\u4EE5\u4F7F\u7528\u300C"),Re=l(ue,"CODE",{});var Ys=r(Re);ds=c(Ys,"https://cdn.discordapp.com/avatars/"),Ys.forEach(t),us=c(ue,"Discord ID"),Se=l(ue,"CODE",{});var gs=r(Se);fs=c(gs,"/"),gs.forEach(t),_s=c(ue,"\u5927\u982D\u8CBC ID\u300D\u53D6\u5F97"),ue.forEach(t),Js.forEach(t),Ze=d(e),te=l(e,"H2",{});var ea=r(te);Es=c(ea,"5. \u4F7F\u7528 refresh token \u91CD\u65B0\u53D6\u5F97 access token"),ea.forEach(t),Je=d(e),se=l(e,"H3",{});var ta=r(se);ks=c(ta,"a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),ta.forEach(t),Ye=d(e),K=l(e,"PRE",{class:!0});var Ia=r(K);Ia.forEach(t),ge=d(e),ae=l(e,"H3",{});var sa=r(ae);ms=c(sa,"b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 access token"),sa.forEach(t),et=d(e),G=l(e,"PRE",{class:!0});var ya=r(G);ya.forEach(t),tt=d(e),oe=l(e,"H2",{});var aa=r(oe);vs=c(aa,"\u7BC4\u4F8B"),aa.forEach(t),st=d(e),le=l(e,"P",{});var oa=r(le);hs=c(oa,"\u4EE5\u4E0B\u793A\u7BC4\u900F\u904E\u6B64\u65B9\u5F0F\uFF0C\u53D6\u5F97\u4F60\u7684 Discord ID \u8207\u5927\u982D\u8CBC\u5716\u7247\u3002"),oa.forEach(t),at=d(e),F=l(e,"BUTTON",{id:!0});var la=r(F);Ds=c(la,"Login with Discord"),la.forEach(t),ot=d(e),ne=l(e,"SPAN",{id:!0}),r(ne).forEach(t),lt=d(e),I=l(e,"DIV",{class:!0,id:!0,style:!0});var it=r(I);re=l(it,"IMG",{alt:!0,class:!0,id:!0}),Is=d(it),pe=l(it,"DIV",{class:!0,id:!0}),r(pe).forEach(t),it.forEach(t),this.h()},h(){E(m,"href","https://qiita.com/masayoshi4649/items/46fdb744cb8255f5eb98"),E(m,"rel","nofollow"),E(H,"href","https://discord.com/developers/applications"),E(H,"rel","nofollow"),E(N,"class","language-bash"),E($,"class","language-json"),E(z,"class","language-bash"),E(M,"class","language-json"),E(K,"class","language-bash"),E(G,"class","language-json"),E(F,"id","js-discord-button"),E(ne,"id","js-discord-status"),E(re,"alt","profile"),E(re,"class","discord-card--image svelte-9ys6tj"),E(re,"id","js-discord-card--image"),E(pe,"class","discord-card--username"),E(pe,"id","js-discord-card--username"),E(I,"class","discord-card"),E(I,"id","js-discord-card"),Ha(I,"display","none")},m(e,a){n(e,f,a),s(f,v),s(v,m),s(m,b),n(e,_,a),n(e,k,a),s(k,L),n(e,fe,a),n(e,u,a),s(u,_e),n(e,Ee,a),n(e,h,a),s(h,q),s(q,dt),s(q,H),s(H,ut),s(h,ft),s(h,ke),s(ke,_t),s(h,Et),s(h,x),s(x,kt),s(x,me),s(me,mt),s(x,vt),s(h,ht),s(h,C),s(C,Dt),s(C,ve),s(ve,It),s(C,yt),s(C,he),s(he,bt),s(C,Ct),n(e,je,a),n(e,Q,a),s(Q,Tt),n(e,He,a),n(e,D,a),s(D,De),s(De,Ot),s(D,Lt),s(D,T),s(T,Pt),s(T,Rt),s(T,St),s(T,wt),s(T,At),s(D,jt),s(D,Ie),s(Ie,Ht),s(D,xt),s(D,B),s(B,Bt),s(B,Nt),s(B,Ut),n(e,xe,a),n(e,X,a),s(X,$t),n(e,Be,a),n(e,P,a),s(P,zt),s(P,ye),s(ye,Mt),s(P,Kt),n(e,Ne,a),n(e,W,a),s(W,Gt),n(e,Ue,a),n(e,y,a),s(y,Ft),s(y,be),s(be,Vt),s(y,qt),s(y,Ce),s(Ce,Qt),s(y,Xt),n(e,$e,a),n(e,Z,a),s(Z,Wt),n(e,ze,a),n(e,N,a),N.innerHTML=da,n(e,Me,a),n(e,U,a),s(U,Zt),s(U,Te),s(Te,Jt),n(e,Ke,a),n(e,$,a),$.innerHTML=ua,n(e,Ge,a),n(e,R,a),s(R,S),s(S,Oe),s(Oe,Yt),s(S,gt),s(S,Le),s(Le,es),s(S,ts),s(R,ss),s(R,w),s(w,Pe),s(Pe,as),s(w,os),s(w,ls),s(w,ns),n(e,Fe,a),n(e,J,a),s(J,rs),n(e,Ve,a),n(e,Y,a),s(Y,ps),n(e,qe,a),n(e,z,a),z.innerHTML=fa,n(e,Qe,a),n(e,g,a),s(g,cs),n(e,Xe,a),n(e,M,a),M.innerHTML=_a,n(e,We,a),n(e,ee,a),s(ee,O),s(O,is),s(O,Re),s(Re,ds),s(O,us),s(O,Se),s(Se,fs),s(O,_s),n(e,Ze,a),n(e,te,a),s(te,Es),n(e,Je,a),n(e,se,a),s(se,ks),n(e,Ye,a),n(e,K,a),K.innerHTML=Ea,n(e,ge,a),n(e,ae,a),s(ae,ms),n(e,et,a),n(e,G,a),G.innerHTML=ka,n(e,tt,a),n(e,oe,a),s(oe,vs),n(e,st,a),n(e,le,a),s(le,hs),n(e,at,a),n(e,F,a),s(F,Ds),n(e,ot,a),n(e,ne,a),n(e,lt,a),n(e,I,a),s(I,re),s(I,Is),s(I,pe)},p:xa,d(e){e&&t(f),e&&t(_),e&&t(k),e&&t(fe),e&&t(u),e&&t(Ee),e&&t(h),e&&t(je),e&&t(Q),e&&t(He),e&&t(D),e&&t(xe),e&&t(X),e&&t(Be),e&&t(P),e&&t(Ne),e&&t(W),e&&t(Ue),e&&t(y),e&&t($e),e&&t(Z),e&&t(ze),e&&t(N),e&&t(Me),e&&t(U),e&&t(Ke),e&&t($),e&&t(Ge),e&&t(R),e&&t(Fe),e&&t(J),e&&t(Ve),e&&t(Y),e&&t(qe),e&&t(z),e&&t(Qe),e&&t(g),e&&t(Xe),e&&t(M),e&&t(We),e&&t(ee),e&&t(Ze),e&&t(te),e&&t(Je),e&&t(se),e&&t(Ye),e&&t(K),e&&t(ge),e&&t(ae),e&&t(et),e&&t(G),e&&t(tt),e&&t(oe),e&&t(st),e&&t(le),e&&t(at),e&&t(F),e&&t(ot),e&&t(ne),e&&t(lt),e&&t(I)}}}function Ua(V){let f,v;const m=[V[0],Ts];let b={$$slots:{default:[Na]},$$scope:{ctx:V}};for(let _=0;_<m.length;_+=1)b=Cs(b,m[_]);return f=new Ba({props:b}),{c(){Oa(f.$$.fragment)},l(_){La(f.$$.fragment,_)},m(_,k){Pa(f,_,k),v=!0},p(_,[k]){const L=k&1?Ra(m,[k&1&&na(_[0]),k&0&&na(Ts)]):{};k&2&&(L.$$scope={dirty:k,ctx:_}),f.$set(L)},i(_){v||(Sa(f.$$.fragment,_),v=!0)},o(_){wa(f.$$.fragment,_),v=!1},d(_){Aa(f,_)}}}const Ts={title:"\u5BE6\u4F5C\u300C\u4F7F\u7528 Discord \u767B\u5165\u300D",date:"2021-01-14T00:24:23.000Z",tags:"F2E"},pa="798950274114781204",ca="https://f6bfb5.github.io/login-with-discord",ia="identify email";function $a(){document.location.href=`https://discord.com/api/oauth2/authorize?client_id=${pa}&redirect_uri=${encodeURIComponent(ca)}&response_type=code&scope=${encodeURIComponent(ia)}`}function za(V,f,v){return ja(()=>{document.getElementById("js-discord-button").addEventListener("click",$a);const m=new URLSearchParams(window.location.search);if(m.has("code")){const b="3c-TeN5NxElL4la8E6h5BlT4zDHigser",_="https://discordapp.com/api/oauth2/token",k={client_id:pa,client_secret:b,grant_type:"authorization_code",code:m.get("code"),redirect_uri:ca,scope:ia},L=Object.keys(k).map(u=>encodeURIComponent(u)+"="+encodeURIComponent(k[u])).join("&");fetch(_,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:L}).then(function(u){if(!u.ok)throw new Error(u.statusText);return document.getElementById("js-discord-status").innerText="token got",u.json()}).then(function(u){let _e=u.access_token;return fetch("https://discordapp.com/api/users/@me",{method:"GET",headers:{authorization:"Bearer "+_e}})}).then(function(u){if(!u.ok)throw new Error(u.statusText);return document.getElementById("js-discord-status").innerText="user data got",u.json()}).catch(function(u){document.getElementById("js-discord-status").innerText=u}).then(function(u){u!=null&&(document.getElementById("js-discord-card").style.display="block",document.getElementById("js-discord-card--image").src=`https://cdn.discordapp.com/avatars/${u.id}/${u.avatar}`,document.getElementById("js-discord-card--username").innerText=`${u.username}#${u.discriminator}`)})}else document.getElementById("js-discord-status").innerText="Not logged in"}),V.$$set=m=>{v(0,f=Cs(Cs({},f),ra(m)))},f=ra(f),[f]}class Ma extends ba{constructor(f){super(),Ca(this,f,za,Ua,Ta,{})}}var Fa=Object.freeze(Object.defineProperty({__proto__:null,default:Ma,metadata:Ts},Symbol.toStringTag,{value:"Module"}));export{Ma as L,Fa as _,Ts as m};
