import{S as Ka,i as Ga,s as Fa,C as Us,w as Va,x as qa,y as Qa,z as Xa,A as Oa,q as Wa,o as Za,B as Ja,v as Ya,R as Ta,e as a,t as l,k as i,c as o,a as c,h as n,d as t,m as d,b as E,f as ga,g as p,G as s,E as eo}from"./index-1ddf5aaf.js";import{P as to}from"./_post-4b9489f2.js";function so(X){let f,h,k,L,_,m,S,Ee,u,ke,me,D,W,kt,w,mt,vt,ve,ht,Dt,N,It,he,yt,Ct,bt,P,Ot,De,Tt,Lt,Ie,Pt,Rt,$e,Z,St,ze,I,ye,wt,At,C,jt,Ht,xt,Bt,Nt,Ce,Ut,$t,be,zt,Mt,v,Kt,Gt,Ft,Oe,Vt,qt,Te,Qt,Xt,Le,Wt,Zt,Me,J,Jt,Ke,A,Yt,Pe,gt,es,Ge,Y,ts,Fe,b,ss,Re,as,os,Se,ls,ns,Ve,g,rs,qe,U,Sa=`<code class="language-bash"><span class="token function">curl</span> -X POST
     -H <span class="token string">"Content-Type:application/x-www-form-urlencoded"</span>
     -d <span class="token string">"client_id=CLIENT ID
     &amp;client_secret=CLIENT SECRET
     &amp;grant_type=authorization_code
     &amp;code=CODE
     &amp;redirect_uri=REDIRECT URL\uFF08\u8981\u8207\u8A8D\u8B49 URL \u76F8\u540C\uFF09"</span>
     https://discordapp.com/api/oauth2/token</code>`,Qe,$,cs,we,ps,Xe,z,wa=`<code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"access_token"</span><span class="token operator">:</span> ACCESS TOKEN<span class="token punctuation">,</span>
  <span class="token property">"expires_in"</span><span class="token operator">:</span> <span class="token number">604800</span><span class="token punctuation">,</span>
  <span class="token property">"refresh_token"</span><span class="token operator">:</span> REFRESH TOKEN<span class="token punctuation">,</span>
  <span class="token property">"scope"</span><span class="token operator">:</span> SCOPE<span class="token punctuation">,</span>
  <span class="token property">"token_type"</span><span class="token operator">:</span> <span class="token string">"Bearer"</span>
<span class="token punctuation">&#125;</span></code>`,We,j,H,Ae,is,ds,je,us,fs,_s,O,He,Es,ks,ms,vs,xe,hs,Ds,Ze,ee,Is,Je,te,ys,Ye,M,Aa=`<code class="language-bash"><span class="token function">curl</span> -H <span class="token string">"Authorization: Bearer ACCESS TOKEN"</span>
     https://discordapp.com/api/users/@me</code>`,ge,se,Cs,et,K,ja=`<code class="language-json"><span class="token punctuation">&#123;</span>
   <span class="token property">"id"</span><span class="token operator">:</span> Discord ID<span class="token punctuation">,</span>
   <span class="token property">"username"</span><span class="token operator">:</span> \u4F7F\u7528\u8005\u540D\u7A31<span class="token punctuation">,</span>
   <span class="token property">"avatar"</span><span class="token operator">:</span> \u5927\u982D\u8CBC ID<span class="token punctuation">,</span>
   <span class="token property">"discriminator"</span><span class="token operator">:</span> \u4F7F\u7528\u8005\u7DE8\u865F\uFF08\u5728\u540D\u7A31#\u5F8C\u9762\u7684\u6578\u5B57\uFF09<span class="token punctuation">,</span>
   <span class="token property">"public_flags"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">"flags"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">"email"</span><span class="token operator">:</span> \u4FE1\u7BB1<span class="token punctuation">,</span>
   <span class="token property">"verified"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
   <span class="token property">"locale"</span><span class="token operator">:</span> \u4F7F\u7528\u8A9E\u8A00<span class="token punctuation">,</span>
   <span class="token property">"mfa_enabled"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">&#125;</span></code>`,tt,ae,R,bs,Be,Os,Ts,Ne,Ls,Ps,st,oe,Rs,at,le,Ss,ot,G,Ha=`<code class="language-bash"><span class="token function">curl</span> -X POST
     -H <span class="token string">"Content-Type:application/x-www-form-urlencoded"</span>
     -d <span class="token string">"client_id=CLIENT ID
     &amp;client_secret=CLIENT SECRET
     &amp;grant_type=refresh_token
     &amp;refresh_token=REFRESH TOKEN"</span>
     https://discordapp.com/api/oauth2/token</code>`,lt,ne,ws,nt,F,xa=`<code class="language-json"><span class="token punctuation">&#123;</span>
   <span class="token property">"access_token"</span><span class="token operator">:</span> ACCESS TOKEN<span class="token punctuation">,</span>
   <span class="token property">"expires_in"</span><span class="token operator">:</span> <span class="token number">604800</span><span class="token punctuation">,</span>
   <span class="token property">"refresh_token"</span><span class="token operator">:</span> REFRESH TOKEN<span class="token punctuation">,</span>
   <span class="token property">"scope"</span><span class="token operator">:</span> SCOPE<span class="token punctuation">,</span>
   <span class="token property">"token_type"</span><span class="token operator">:</span> <span class="token string">"Bearer"</span>
<span class="token punctuation">&#125;</span></code>`,rt,re,As,ct,ce,js,pt,V,Hs,it,pe,dt,y,ie,xs,de;return{c(){f=a("ul"),h=a("li"),k=a("a"),L=l("\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),_=i(),m=a("h2"),S=l("1. \u65BC Discord Developer Portal \u767B\u9304 Application"),Ee=i(),u=a("h3"),ke=l("a. \u53D6\u5F97 \u300CClient ID\u300D\u548C\u300CClient Secert\u300D"),me=i(),D=a("ol"),W=a("li"),kt=l("\u767B\u5165 "),w=a("a"),mt=l("Discord Developer Portal"),vt=i(),ve=a("li"),ht=l("\u9EDE\u64CA\u53F3\u4E0A\u89D2\u7684\u300CNew Application\u300D"),Dt=i(),N=a("li"),It=l("\u53D6\u540D\uFF0C\u672C\u6587\u7BC4\u4F8B\u53D6\u70BA "),he=a("code"),yt=l("OAuth Vertify"),Ct=l("\uFF0C\u6B64\u540D\u7A31\u6703\u986F\u793A\u65BC\u6388\u6B0A\u9801\u9762\u4E0A\uFF0C\u4E4B\u5F8C\u9EDE\u64CA\u300CCreate\u300D"),bt=i(),P=a("li"),Ot=l("\u8CC7\u8A0A\u9801\u53F3\u65B9\u7684 "),De=a("code"),Tt=l("Client ID"),Lt=l(" \u548C "),Ie=a("code"),Pt=l("Client Secert"),Rt=l(" \u5F8C\u9762\u4E5F\u6703\u7528\u5230"),$e=i(),Z=a("h3"),St=l("b. \u5EFA\u7ACB OAuth \u7528\u7684\u7DB2\u5740"),ze=i(),I=a("ol"),ye=a("li"),wt=l("\u9EDE\u64CA\u5DE6\u5074\u7684\u300COAuth2\u300D\u5206\u9801"),At=i(),C=a("li"),jt=l("\u9EDE\u64CA\u53F3\u5074\u7684\u300CAdd Redirect\u300D\uFF0C\u8F38\u5165\u8981\u7528\u5230\u9A57\u8B49\u767B\u5165\u7684\u7DB2\u5740"),Ht=a("br"),xt=l(`
\u4F8B\u5982\u672C\u6587\u6700\u4E0B\u65B9\u6709\u9644\u4E0A\u5BE6\u4F5C\u7BC4\u4F8B`),Bt=a("br"),Nt=l(`
\u8F38\u5165\u7684\u7DB2\u5740\u5C31\u662F\u672C\u6587\u9023\u7D50 `),Ce=a("code"),Ut=l("https://f6bfb5.github.io/login-with-discord/"),$t=i(),be=a("li"),zt=l(`\u52FE\u9078\u4E0B\u65B9\u300CSCOPE\u300D\uFF08\u7D22\u53D6\u7684\u8CC7\u8A0A\u6B04\u4F4D\uFF09
\u88E1\u7684\u300Cidentify\u300D\uFF08Discord \u7684 ID\uFF09\u548C\u300Cemail\u300D`),Mt=i(),v=a("li"),Kt=l("\u5C31\u53EF\u65BC\u9801\u9762\u4E0B\u65B9\u53D6\u5F97\u8A8D\u8B49\u7528\u7684\u9023\u7D50"),Gt=a("br"),Ft=l(`
\u4F8B\uFF1A`),Oe=a("code"),Vt=l("https://discord.com/api/oauth2/authorize?client_id="),qt=l("CLIENT ID"),Te=a("code"),Qt=l("&redirect_uri="),Xt=l("REDIRECT URL"),Le=a("code"),Wt=l("&response_type=code&scope="),Zt=l("SCOPE"),Me=i(),J=a("h2"),Jt=l("2. \u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97\u300Ccode\u300D"),Ke=i(),A=a("p"),Yt=l("\u4F7F\u7528\u6B64\u8A8D\u8B49\u9023\u7D50\u767B\u5165\uFF0C\u4E26\u91CD\u65B0\u5C0E\u5411\u5230\u7D50\u679C\u9801\u9762\u5F8C\uFF0C\u7DB2\u5740\u4E0A\u6703\u591A\u51FA\u4E00\u500B\u56DE\u50B3\u7684 "),Pe=a("code"),gt=l("code"),es=l(" \u53C3\u6578"),Ge=i(),Y=a("h2"),ts=l("3. \u4F7F\u7528\u300Ccode\u300D\u53D6\u5F97\u300Ctoken\u300D"),Fe=i(),b=a("p"),ss=l("\u518D\u4F7F\u7528\u9019\u500B "),Re=a("code"),as=l("code"),os=l(" \u9001\u51FA\u8ACB\u6C42\uFF0C\u53D6\u5F97 "),Se=a("code"),ls=l("access_token"),ns=l("\uFF0C\u624D\u80FD\u5F97\u5230\u5B58\u53D6\u8CC7\u6599\u7684\u6B0A\u9650"),Ve=i(),g=a("h3"),rs=l("a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),qe=i(),U=a("pre"),Qe=i(),$=a("h3"),cs=l("b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 "),we=a("code"),ps=l("access token"),Xe=i(),z=a("pre"),We=i(),j=a("ul"),H=a("li"),Ae=a("code"),is=l("code"),ds=l(" \u70BA\u4E00\u6B21\u6027\u4F7F\u7528\uFF0C\u540C\u4E00\u500B "),je=a("code"),us=l("code"),fs=l(" \u7121\u6CD5\u9032\u884C\u7B2C\u4E8C\u6B21\u5B58\u53D6"),_s=i(),O=a("li"),He=a("code"),Es=l("access token"),ks=l(" \u7684\u6709\u6548\u671F\u9650\u70BA 604800 \u79D2\uFF1D\u4E00\u500B\u79AE\u62DC"),ms=a("br"),vs=l(`
\u82E5\u6709\u66F4\u65B0\u9700\u6C42\uFF0C\u9808\u4F7F\u7528\u56DE\u50B3\u5167\u5BB9\u4E2D\u7684 `),xe=a("code"),hs=l("refresh token"),Ds=l(" \u91CD\u65B0\u9001\u51FA\u8ACB\u6C42"),Ze=i(),ee=a("h2"),Is=l("4. \u4F7F\u7528\u300Ctoken\u300D\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),Je=i(),te=a("h3"),ys=l("a. \u50B3\u9001 GET \u8ACB\u6C42\u5230 Discord API"),Ye=i(),M=a("pre"),ge=i(),se=a("h3"),Cs=l("b. \u82E5\u9806\u5229\u6210\u529F\uFF0C\u5C31\u53EF\u53D6\u5F97\u76F8\u95DC\u8CC7\u6599"),et=i(),K=a("pre"),tt=i(),ae=a("ul"),R=a("li"),bs=l("\u982D\u50CF\u7DB2\u5740\u53EF\u4EE5\u4F7F\u7528\u300C"),Be=a("code"),Os=l("https://cdn.discordapp.com/avatars/"),Ts=l("Discord ID"),Ne=a("code"),Ls=l("/"),Ps=l("\u5927\u982D\u8CBC ID\u300D\u53D6\u5F97"),st=i(),oe=a("h2"),Rs=l("5. \u4F7F\u7528 refresh token \u91CD\u65B0\u53D6\u5F97 access token"),at=i(),le=a("h3"),Ss=l("a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),ot=i(),G=a("pre"),lt=i(),ne=a("h3"),ws=l("b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 access token"),nt=i(),F=a("pre"),rt=i(),re=a("h2"),As=l("\u7BC4\u4F8B"),ct=i(),ce=a("p"),js=l("\u4EE5\u4E0B\u793A\u7BC4\u900F\u904E\u6B64\u65B9\u5F0F\uFF0C\u53D6\u5F97\u4F60\u7684 Discord ID \u8207\u5927\u982D\u8CBC\u5716\u7247\u3002"),pt=i(),V=a("button"),Hs=l("Login with Discord"),it=i(),pe=a("span"),dt=i(),y=a("div"),ie=a("img"),xs=i(),de=a("div"),this.h()},l(e){f=o(e,"UL",{});var r=c(f);h=o(r,"LI",{});var zs=c(h);k=o(zs,"A",{href:!0,rel:!0,target:!0});var Ms=c(k);L=n(Ms,"\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),Ms.forEach(t),zs.forEach(t),r.forEach(t),_=d(e),m=o(e,"H2",{});var Ks=c(m);S=n(Ks,"1. \u65BC Discord Developer Portal \u767B\u9304 Application"),Ks.forEach(t),Ee=d(e),u=o(e,"H3",{});var Gs=c(u);ke=n(Gs,"a. \u53D6\u5F97 \u300CClient ID\u300D\u548C\u300CClient Secert\u300D"),Gs.forEach(t),me=d(e),D=o(e,"OL",{});var x=c(D);W=o(x,"LI",{});var Bs=c(W);kt=n(Bs,"\u767B\u5165 "),w=o(Bs,"A",{href:!0,rel:!0,target:!0});var Fs=c(w);mt=n(Fs,"Discord Developer Portal"),Fs.forEach(t),Bs.forEach(t),vt=d(x),ve=o(x,"LI",{});var Vs=c(ve);ht=n(Vs,"\u9EDE\u64CA\u53F3\u4E0A\u89D2\u7684\u300CNew Application\u300D"),Vs.forEach(t),Dt=d(x),N=o(x,"LI",{});var ut=c(N);It=n(ut,"\u53D6\u540D\uFF0C\u672C\u6587\u7BC4\u4F8B\u53D6\u70BA "),he=o(ut,"CODE",{});var qs=c(he);yt=n(qs,"OAuth Vertify"),qs.forEach(t),Ct=n(ut,"\uFF0C\u6B64\u540D\u7A31\u6703\u986F\u793A\u65BC\u6388\u6B0A\u9801\u9762\u4E0A\uFF0C\u4E4B\u5F8C\u9EDE\u64CA\u300CCreate\u300D"),ut.forEach(t),bt=d(x),P=o(x,"LI",{});var ue=c(P);Ot=n(ue,"\u8CC7\u8A0A\u9801\u53F3\u65B9\u7684 "),De=o(ue,"CODE",{});var Qs=c(De);Tt=n(Qs,"Client ID"),Qs.forEach(t),Lt=n(ue," \u548C "),Ie=o(ue,"CODE",{});var Xs=c(Ie);Pt=n(Xs,"Client Secert"),Xs.forEach(t),Rt=n(ue," \u5F8C\u9762\u4E5F\u6703\u7528\u5230"),ue.forEach(t),x.forEach(t),$e=d(e),Z=o(e,"H3",{});var Ws=c(Z);St=n(Ws,"b. \u5EFA\u7ACB OAuth \u7528\u7684\u7DB2\u5740"),Ws.forEach(t),ze=d(e),I=o(e,"OL",{});var B=c(I);ye=o(B,"LI",{});var Zs=c(ye);wt=n(Zs,"\u9EDE\u64CA\u5DE6\u5074\u7684\u300COAuth2\u300D\u5206\u9801"),Zs.forEach(t),At=d(B),C=o(B,"LI",{});var q=c(C);jt=n(q,"\u9EDE\u64CA\u53F3\u5074\u7684\u300CAdd Redirect\u300D\uFF0C\u8F38\u5165\u8981\u7528\u5230\u9A57\u8B49\u767B\u5165\u7684\u7DB2\u5740"),Ht=o(q,"BR",{}),xt=n(q,`
\u4F8B\u5982\u672C\u6587\u6700\u4E0B\u65B9\u6709\u9644\u4E0A\u5BE6\u4F5C\u7BC4\u4F8B`),Bt=o(q,"BR",{}),Nt=n(q,`
\u8F38\u5165\u7684\u7DB2\u5740\u5C31\u662F\u672C\u6587\u9023\u7D50 `),Ce=o(q,"CODE",{});var Js=c(Ce);Ut=n(Js,"https://f6bfb5.github.io/login-with-discord/"),Js.forEach(t),q.forEach(t),$t=d(B),be=o(B,"LI",{});var Ys=c(be);zt=n(Ys,`\u52FE\u9078\u4E0B\u65B9\u300CSCOPE\u300D\uFF08\u7D22\u53D6\u7684\u8CC7\u8A0A\u6B04\u4F4D\uFF09
\u88E1\u7684\u300Cidentify\u300D\uFF08Discord \u7684 ID\uFF09\u548C\u300Cemail\u300D`),Ys.forEach(t),Mt=d(B),v=o(B,"LI",{});var T=c(v);Kt=n(T,"\u5C31\u53EF\u65BC\u9801\u9762\u4E0B\u65B9\u53D6\u5F97\u8A8D\u8B49\u7528\u7684\u9023\u7D50"),Gt=o(T,"BR",{}),Ft=n(T,`
\u4F8B\uFF1A`),Oe=o(T,"CODE",{});var gs=c(Oe);Vt=n(gs,"https://discord.com/api/oauth2/authorize?client_id="),gs.forEach(t),qt=n(T,"CLIENT ID"),Te=o(T,"CODE",{});var ea=c(Te);Qt=n(ea,"&redirect_uri="),ea.forEach(t),Xt=n(T,"REDIRECT URL"),Le=o(T,"CODE",{});var ta=c(Le);Wt=n(ta,"&response_type=code&scope="),ta.forEach(t),Zt=n(T,"SCOPE"),T.forEach(t),B.forEach(t),Me=d(e),J=o(e,"H2",{});var sa=c(J);Jt=n(sa,"2. \u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97\u300Ccode\u300D"),sa.forEach(t),Ke=d(e),A=o(e,"P",{});var ft=c(A);Yt=n(ft,"\u4F7F\u7528\u6B64\u8A8D\u8B49\u9023\u7D50\u767B\u5165\uFF0C\u4E26\u91CD\u65B0\u5C0E\u5411\u5230\u7D50\u679C\u9801\u9762\u5F8C\uFF0C\u7DB2\u5740\u4E0A\u6703\u591A\u51FA\u4E00\u500B\u56DE\u50B3\u7684 "),Pe=o(ft,"CODE",{});var aa=c(Pe);gt=n(aa,"code"),aa.forEach(t),es=n(ft," \u53C3\u6578"),ft.forEach(t),Ge=d(e),Y=o(e,"H2",{});var oa=c(Y);ts=n(oa,"3. \u4F7F\u7528\u300Ccode\u300D\u53D6\u5F97\u300Ctoken\u300D"),oa.forEach(t),Fe=d(e),b=o(e,"P",{});var fe=c(b);ss=n(fe,"\u518D\u4F7F\u7528\u9019\u500B "),Re=o(fe,"CODE",{});var la=c(Re);as=n(la,"code"),la.forEach(t),os=n(fe," \u9001\u51FA\u8ACB\u6C42\uFF0C\u53D6\u5F97 "),Se=o(fe,"CODE",{});var na=c(Se);ls=n(na,"access_token"),na.forEach(t),ns=n(fe,"\uFF0C\u624D\u80FD\u5F97\u5230\u5B58\u53D6\u8CC7\u6599\u7684\u6B0A\u9650"),fe.forEach(t),Ve=d(e),g=o(e,"H3",{});var ra=c(g);rs=n(ra,"a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),ra.forEach(t),qe=d(e),U=o(e,"PRE",{class:!0});var Ba=c(U);Ba.forEach(t),Qe=d(e),$=o(e,"H3",{});var Ns=c($);cs=n(Ns,"b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 "),we=o(Ns,"CODE",{});var ca=c(we);ps=n(ca,"access token"),ca.forEach(t),Ns.forEach(t),Xe=d(e),z=o(e,"PRE",{class:!0});var Na=c(z);Na.forEach(t),We=d(e),j=o(e,"UL",{});var _t=c(j);H=o(_t,"LI",{});var Ue=c(H);Ae=o(Ue,"CODE",{});var pa=c(Ae);is=n(pa,"code"),pa.forEach(t),ds=n(Ue," \u70BA\u4E00\u6B21\u6027\u4F7F\u7528\uFF0C\u540C\u4E00\u500B "),je=o(Ue,"CODE",{});var ia=c(je);us=n(ia,"code"),ia.forEach(t),fs=n(Ue," \u7121\u6CD5\u9032\u884C\u7B2C\u4E8C\u6B21\u5B58\u53D6"),Ue.forEach(t),_s=d(_t),O=o(_t,"LI",{});var Q=c(O);He=o(Q,"CODE",{});var da=c(He);Es=n(da,"access token"),da.forEach(t),ks=n(Q," \u7684\u6709\u6548\u671F\u9650\u70BA 604800 \u79D2\uFF1D\u4E00\u500B\u79AE\u62DC"),ms=o(Q,"BR",{}),vs=n(Q,`
\u82E5\u6709\u66F4\u65B0\u9700\u6C42\uFF0C\u9808\u4F7F\u7528\u56DE\u50B3\u5167\u5BB9\u4E2D\u7684 `),xe=o(Q,"CODE",{});var ua=c(xe);hs=n(ua,"refresh token"),ua.forEach(t),Ds=n(Q," \u91CD\u65B0\u9001\u51FA\u8ACB\u6C42"),Q.forEach(t),_t.forEach(t),Ze=d(e),ee=o(e,"H2",{});var fa=c(ee);Is=n(fa,"4. \u4F7F\u7528\u300Ctoken\u300D\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),fa.forEach(t),Je=d(e),te=o(e,"H3",{});var _a=c(te);ys=n(_a,"a. \u50B3\u9001 GET \u8ACB\u6C42\u5230 Discord API"),_a.forEach(t),Ye=d(e),M=o(e,"PRE",{class:!0});var Ua=c(M);Ua.forEach(t),ge=d(e),se=o(e,"H3",{});var Ea=c(se);Cs=n(Ea,"b. \u82E5\u9806\u5229\u6210\u529F\uFF0C\u5C31\u53EF\u53D6\u5F97\u76F8\u95DC\u8CC7\u6599"),Ea.forEach(t),et=d(e),K=o(e,"PRE",{class:!0});var $a=c(K);$a.forEach(t),tt=d(e),ae=o(e,"UL",{});var ka=c(ae);R=o(ka,"LI",{});var _e=c(R);bs=n(_e,"\u982D\u50CF\u7DB2\u5740\u53EF\u4EE5\u4F7F\u7528\u300C"),Be=o(_e,"CODE",{});var ma=c(Be);Os=n(ma,"https://cdn.discordapp.com/avatars/"),ma.forEach(t),Ts=n(_e,"Discord ID"),Ne=o(_e,"CODE",{});var va=c(Ne);Ls=n(va,"/"),va.forEach(t),Ps=n(_e,"\u5927\u982D\u8CBC ID\u300D\u53D6\u5F97"),_e.forEach(t),ka.forEach(t),st=d(e),oe=o(e,"H2",{});var ha=c(oe);Rs=n(ha,"5. \u4F7F\u7528 refresh token \u91CD\u65B0\u53D6\u5F97 access token"),ha.forEach(t),at=d(e),le=o(e,"H3",{});var Da=c(le);Ss=n(Da,"a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),Da.forEach(t),ot=d(e),G=o(e,"PRE",{class:!0});var za=c(G);za.forEach(t),lt=d(e),ne=o(e,"H3",{});var Ia=c(ne);ws=n(Ia,"b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 access token"),Ia.forEach(t),nt=d(e),F=o(e,"PRE",{class:!0});var Ma=c(F);Ma.forEach(t),rt=d(e),re=o(e,"H2",{});var ya=c(re);As=n(ya,"\u7BC4\u4F8B"),ya.forEach(t),ct=d(e),ce=o(e,"P",{});var Ca=c(ce);js=n(Ca,"\u4EE5\u4E0B\u793A\u7BC4\u900F\u904E\u6B64\u65B9\u5F0F\uFF0C\u53D6\u5F97\u4F60\u7684 Discord ID \u8207\u5927\u982D\u8CBC\u5716\u7247\u3002"),Ca.forEach(t),pt=d(e),V=o(e,"BUTTON",{id:!0});var ba=c(V);Hs=n(ba,"Login with Discord"),ba.forEach(t),it=d(e),pe=o(e,"SPAN",{id:!0}),c(pe).forEach(t),dt=d(e),y=o(e,"DIV",{class:!0,id:!0,style:!0});var Et=c(y);ie=o(Et,"IMG",{alt:!0,class:!0,id:!0}),xs=d(Et),de=o(Et,"DIV",{class:!0,id:!0}),c(de).forEach(t),Et.forEach(t),this.h()},h(){E(k,"href","https://qiita.com/masayoshi4649/items/46fdb744cb8255f5eb98"),E(k,"rel","noopener"),E(k,"target","_blank"),E(w,"href","https://discord.com/developers/applications"),E(w,"rel","noopener"),E(w,"target","_blank"),E(U,"class","language-bash"),E(z,"class","language-json"),E(M,"class","language-bash"),E(K,"class","language-json"),E(G,"class","language-bash"),E(F,"class","language-json"),E(V,"id","js-discord-button"),E(pe,"id","js-discord-status"),E(ie,"alt","profile"),E(ie,"class","discord-card--image svelte-9ys6tj"),E(ie,"id","js-discord-card--image"),E(de,"class","discord-card--username"),E(de,"id","js-discord-card--username"),E(y,"class","discord-card"),E(y,"id","js-discord-card"),ga(y,"display","none")},m(e,r){p(e,f,r),s(f,h),s(h,k),s(k,L),p(e,_,r),p(e,m,r),s(m,S),p(e,Ee,r),p(e,u,r),s(u,ke),p(e,me,r),p(e,D,r),s(D,W),s(W,kt),s(W,w),s(w,mt),s(D,vt),s(D,ve),s(ve,ht),s(D,Dt),s(D,N),s(N,It),s(N,he),s(he,yt),s(N,Ct),s(D,bt),s(D,P),s(P,Ot),s(P,De),s(De,Tt),s(P,Lt),s(P,Ie),s(Ie,Pt),s(P,Rt),p(e,$e,r),p(e,Z,r),s(Z,St),p(e,ze,r),p(e,I,r),s(I,ye),s(ye,wt),s(I,At),s(I,C),s(C,jt),s(C,Ht),s(C,xt),s(C,Bt),s(C,Nt),s(C,Ce),s(Ce,Ut),s(I,$t),s(I,be),s(be,zt),s(I,Mt),s(I,v),s(v,Kt),s(v,Gt),s(v,Ft),s(v,Oe),s(Oe,Vt),s(v,qt),s(v,Te),s(Te,Qt),s(v,Xt),s(v,Le),s(Le,Wt),s(v,Zt),p(e,Me,r),p(e,J,r),s(J,Jt),p(e,Ke,r),p(e,A,r),s(A,Yt),s(A,Pe),s(Pe,gt),s(A,es),p(e,Ge,r),p(e,Y,r),s(Y,ts),p(e,Fe,r),p(e,b,r),s(b,ss),s(b,Re),s(Re,as),s(b,os),s(b,Se),s(Se,ls),s(b,ns),p(e,Ve,r),p(e,g,r),s(g,rs),p(e,qe,r),p(e,U,r),U.innerHTML=Sa,p(e,Qe,r),p(e,$,r),s($,cs),s($,we),s(we,ps),p(e,Xe,r),p(e,z,r),z.innerHTML=wa,p(e,We,r),p(e,j,r),s(j,H),s(H,Ae),s(Ae,is),s(H,ds),s(H,je),s(je,us),s(H,fs),s(j,_s),s(j,O),s(O,He),s(He,Es),s(O,ks),s(O,ms),s(O,vs),s(O,xe),s(xe,hs),s(O,Ds),p(e,Ze,r),p(e,ee,r),s(ee,Is),p(e,Je,r),p(e,te,r),s(te,ys),p(e,Ye,r),p(e,M,r),M.innerHTML=Aa,p(e,ge,r),p(e,se,r),s(se,Cs),p(e,et,r),p(e,K,r),K.innerHTML=ja,p(e,tt,r),p(e,ae,r),s(ae,R),s(R,bs),s(R,Be),s(Be,Os),s(R,Ts),s(R,Ne),s(Ne,Ls),s(R,Ps),p(e,st,r),p(e,oe,r),s(oe,Rs),p(e,at,r),p(e,le,r),s(le,Ss),p(e,ot,r),p(e,G,r),G.innerHTML=Ha,p(e,lt,r),p(e,ne,r),s(ne,ws),p(e,nt,r),p(e,F,r),F.innerHTML=xa,p(e,rt,r),p(e,re,r),s(re,As),p(e,ct,r),p(e,ce,r),s(ce,js),p(e,pt,r),p(e,V,r),s(V,Hs),p(e,it,r),p(e,pe,r),p(e,dt,r),p(e,y,r),s(y,ie),s(y,xs),s(y,de)},p:eo,d(e){e&&t(f),e&&t(_),e&&t(m),e&&t(Ee),e&&t(u),e&&t(me),e&&t(D),e&&t($e),e&&t(Z),e&&t(ze),e&&t(I),e&&t(Me),e&&t(J),e&&t(Ke),e&&t(A),e&&t(Ge),e&&t(Y),e&&t(Fe),e&&t(b),e&&t(Ve),e&&t(g),e&&t(qe),e&&t(U),e&&t(Qe),e&&t($),e&&t(Xe),e&&t(z),e&&t(We),e&&t(j),e&&t(Ze),e&&t(ee),e&&t(Je),e&&t(te),e&&t(Ye),e&&t(M),e&&t(ge),e&&t(se),e&&t(et),e&&t(K),e&&t(tt),e&&t(ae),e&&t(st),e&&t(oe),e&&t(at),e&&t(le),e&&t(ot),e&&t(G),e&&t(lt),e&&t(ne),e&&t(nt),e&&t(F),e&&t(rt),e&&t(re),e&&t(ct),e&&t(ce),e&&t(pt),e&&t(V),e&&t(it),e&&t(pe),e&&t(dt),e&&t(y)}}}function ao(X){let f,h;const k=[X[0],$s];let L={$$slots:{default:[so]},$$scope:{ctx:X}};for(let _=0;_<k.length;_+=1)L=Us(L,k[_]);return f=new to({props:L}),{c(){Va(f.$$.fragment)},l(_){qa(f.$$.fragment,_)},m(_,m){Qa(f,_,m),h=!0},p(_,[m]){const S=m&1?Xa(k,[m&1&&Oa(_[0]),m&0&&Oa($s)]):{};m&2&&(S.$$scope={dirty:m,ctx:_}),f.$set(S)},i(_){h||(Wa(f.$$.fragment,_),h=!0)},o(_){Za(f.$$.fragment,_),h=!1},d(_){Ja(f,_)}}}const $s={title:"\u5BE6\u4F5C\u300C\u4F7F\u7528 Discord \u767B\u5165\u300D",date:"2021-01-14T00:24:23.000Z",tags:"F2E"},La="798950274114781204",Pa="https://f6bfb5.github.io/login-with-discord",Ra="identify email";function oo(){document.location.href=`https://discord.com/api/oauth2/authorize?client_id=${La}&redirect_uri=${encodeURIComponent(Pa)}&response_type=code&scope=${encodeURIComponent(Ra)}`}function lo(X,f,h){return Ya(()=>{document.getElementById("js-discord-button").addEventListener("click",oo);const k=new URLSearchParams(window.location.search);if(k.has("code")){const L="3c-TeN5NxElL4la8E6h5BlT4zDHigser",_="https://discordapp.com/api/oauth2/token",m={client_id:La,client_secret:L,grant_type:"authorization_code",code:k.get("code"),redirect_uri:Pa,scope:Ra},S=Object.keys(m).map(u=>encodeURIComponent(u)+"="+encodeURIComponent(m[u])).join("&");fetch(_,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:S}).then(function(u){if(!u.ok)throw new Error(u.statusText);return document.getElementById("js-discord-status").innerText="token got",u.json()}).then(function(u){let ke=u.access_token;return fetch("https://discordapp.com/api/users/@me",{method:"GET",headers:{authorization:"Bearer "+ke}})}).then(function(u){if(!u.ok)throw new Error(u.statusText);return document.getElementById("js-discord-status").innerText="user data got",u.json()}).catch(function(u){document.getElementById("js-discord-status").innerText=u}).then(function(u){u!=null&&(document.getElementById("js-discord-card").style.display="block",document.getElementById("js-discord-card--image").src=`https://cdn.discordapp.com/avatars/${u.id}/${u.avatar}`,document.getElementById("js-discord-card--username").innerText=`${u.username}#${u.discriminator}`)})}else document.getElementById("js-discord-status").innerText="Not logged in"}),X.$$set=k=>{h(0,f=Us(Us({},f),Ta(k)))},f=Ta(f),[f]}class no extends Ka{constructor(f){super(),Ga(this,f,lo,ao,Fa,{})}}var po=Object.freeze(Object.defineProperty({__proto__:null,default:no,metadata:$s},Symbol.toStringTag,{value:"Module"}));export{no as L,po as _,$s as m};
