import{S as ql,i as Vl,s as Ml,C as so,w as zl,x as Kl,y as Fl,z as Ql,A as yl,q as Xl,o as Wl,B as Zl,v as Jl,_ as Ll,e as a,t as n,k as d,c as o,a as l,h as r,d as t,m as u,H as Cl,b as p,f as Yl,g as i,I as s,E as gl}from"../../chunks/index-8418cccc.js";import{P as en}from"../../chunks/_post-d4b6a172.js";import"../../chunks/BlinkAnchor-aec4dee8.js";function tn(de){let _,h,k,m,E,v,w,He,f,H,bt,St,ue,Es,Pt,I,fe,ks,O,_e,ao,Ne,vs,hs,xe,ms,Is,N,Ds,Be,ys,x,$e,Ls,Cs,Ge,Os,Ts,T,ws,qe,bs,Ss,Ve,Ps,js,jt,Ee,Rs,Rt,D,Me,As,Us,ke,Hs,B,ze,Ns,xs,ve,Bs,Ke,Fe,Qe,$s,Gs,he,qs,$,Xe,Vs,Ms,We,zs,Ks,me,Fs,Ze,y,Qs,Je,Xs,Ws,Ye,Zs,Js,ge,Ys,gs,At,G,et,ea,Ut,Ie,De,ta,tt,q,sa,st,aa,oa,Ht,V,at,la,Nt,ye,b,na,ot,ra,ca,lt,M,ia,nt,pa,da,xt,Le,ua,Bt,z,Sl=`<code class="language-bash"><span class="token function">curl</span> -X POST
     -H <span class="token string">"Content-Type:application/x-www-form-urlencoded"</span>
     -d <span class="token string">"client_id=[CLIENT ID]
     &amp;client_secret=[CLIENT SECRET]
     &amp;grant_type=authorization_code
     &amp;code=[CODE]
     &amp;redirect_uri=[REDIRECT URL]\uFF08\u8981\u8207\u8A8D\u8B49 URL \u76F8\u540C\uFF09"</span>
     https://discordapp.com/api/oauth2/token</code>`,$t,K,fa,rt,_a,Gt,F,Pl=`<code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"access_token"</span><span class="token operator">:</span> <span class="token punctuation">[</span>ACCESS TOKEN<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"expires_in"</span><span class="token operator">:</span> <span class="token number">604800</span><span class="token punctuation">,</span>
  <span class="token property">"refresh_token"</span><span class="token operator">:</span> <span class="token punctuation">[</span>REFRESH TOKEN<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"scope"</span><span class="token operator">:</span> <span class="token punctuation">[</span>SCOPE<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"token_type"</span><span class="token operator">:</span> <span class="token string">"Bearer"</span>
<span class="token punctuation">&#125;</span></code>`,qt,S,P,ct,Ea,ka,it,va,ha,ma,Q,pt,Ia,Da,dt,X,ya,ut,La,Ca,Vt,W,ft,Oa,Mt,Ce,Ta,zt,Z,jl=`<code class="language-bash"><span class="token function">curl</span> -H <span class="token string">"Authorization: Bearer [ACCESS TOKEN]"</span>
     https://discordapp.com/api/users/@me</code>`,Kt,Oe,wa,Ft,J,Rl=`<code class="language-json"><span class="token punctuation">&#123;</span>
   <span class="token property">"id"</span><span class="token operator">:</span> <span class="token punctuation">[</span>Discord ID<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"username"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u4F7F\u7528\u8005\u540D\u7A31<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"avatar"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u5927\u982D\u8CBC ID<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"discriminator"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u4F7F\u7528\u8005\u7DE8\u865F<span class="token punctuation">]</span>\uFF08\u5728\u540D\u7A31#\u5F8C\u9762\u7684\u6578\u5B57\uFF09<span class="token punctuation">,</span>
   <span class="token property">"public_flags"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">"flags"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">"email"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u4FE1\u7BB1<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"verified"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
   <span class="token property">"locale"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u4F7F\u7528\u8A9E\u8A00<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"mfa_enabled"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">&#125;</span></code>`,Qt,Te,we,ba,_t,j,Et,Sa,Pa,kt,ja,Ra,Xt,Y,vt,Aa,Wt,be,Ua,Zt,g,Al=`<code class="language-bash"><span class="token function">curl</span> -X POST
     -H <span class="token string">"Content-Type:application/x-www-form-urlencoded"</span>
     -d <span class="token string">"client_id=[CLIENT ID]
     &amp;client_secret=[CLIENT SECRET]
     &amp;grant_type=refresh_token
     &amp;refresh_token=[REFRESH TOKEN]"</span>
     https://discordapp.com/api/oauth2/token</code>`,Jt,Se,Ha,Yt,ee,Ul=`<code class="language-json"><span class="token punctuation">&#123;</span>
   <span class="token property">"access_token"</span><span class="token operator">:</span> <span class="token punctuation">[</span>ACCESS TOKEN<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"expires_in"</span><span class="token operator">:</span> <span class="token number">604800</span><span class="token punctuation">,</span>
   <span class="token property">"refresh_token"</span><span class="token operator">:</span> <span class="token punctuation">[</span>REFRESH TOKEN<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"scope"</span><span class="token operator">:</span> <span class="token punctuation">[</span>SCOPE<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"token_type"</span><span class="token operator">:</span> <span class="token string">"Bearer"</span>
<span class="token punctuation">&#125;</span></code>`,gt,te,ht,Na,es,Pe,xa,ts,se,Ba,ss,je,as,L,Re,$a,Ae,os,ae,C,mt,oe,Ga,It,le,qa,Dt,ne,Va,yt,re,Ma,Lt,ce,za,Ct,ie,Ka;return{c(){_=a("ul"),h=a("li"),k=a("a"),m=a("img"),v=a("span"),w=n("\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),He=d(),f=a("h2"),H=a("strong"),bt=n("1. \u65BC Discord Developer Portal \u767B\u9304\u61C9\u7528"),St=d(),ue=a("h3"),Es=n("a. \u53D6\u5F97 \u300CClient ID\u300D\u548C\u300CClient Secert\u300D"),Pt=d(),I=a("ol"),fe=a("li"),ks=n("\u767B\u5165 "),O=a("a"),_e=a("img"),Ne=a("span"),vs=n("Discord Developer Portal"),hs=d(),xe=a("li"),ms=n("\u300CNew Application\u300D"),Is=d(),N=a("li"),Ds=n("\u53D6\u540D\uFF0C\u672C\u6587\u7BC4\u4F8B\u53D6\u70BA "),Be=a("code"),ys=n("OAuth Verify"),x=a("ul"),$e=a("li"),Ls=n("\u6B64\u540D\u7A31\u6703\u986F\u793A\u65BC\u6388\u6B0A\u9801\u9762\u4E0A"),Cs=d(),Ge=a("li"),Os=n("\u300CCreate\u300D"),Ts=d(),T=a("li"),ws=n("\u8CC7\u8A0A\u9801\u53F3\u65B9\u7684 "),qe=a("code"),bs=n("Client ID"),Ss=n(" \u548C "),Ve=a("code"),Ps=n("Client Secert"),js=n(" \u4E4B\u5F8C\u6703\u7528\u5230"),jt=d(),Ee=a("h3"),Rs=n("b. \u5EFA\u7ACB OAuth \u7528\u7684\u7DB2\u5740"),Rt=d(),D=a("ol"),Me=a("li"),As=n("\u9EDE\u64CA\u5DE6\u5074\u7684\u300COAuth2\u300D\u5206\u9801"),Us=d(),ke=a("li"),Hs=n("\u9EDE\u64CA\u53F3\u5074\u7684\u300CAdd Redirect\u300D\uFF0C\u8F38\u5165\u9A57\u8B49\u5B8C\u5F8C\u91CD\u5C0E\u5411\u7684\u7DB2\u5740"),B=a("ul"),ze=a("li"),Ns=n("\u4E5F\u5C31\u662F\u8981\u7528\u65BC\u9A57\u8B49\u767B\u5165\u7684\u7DB2\u5740"),xs=d(),ve=a("li"),Bs=n("\u672C\u6587\u5BE6\u4F5C\u7BC4\u4F8B\u7684\u7DB2\u5740\u5C31\u662F\u6B64\u9801\u9762\u9023\u7D50\uFF1A"),Ke=a("ul"),Fe=a("li"),Qe=a("code"),$s=n("https://f6bfb5.github.io/login-with-discord"),Gs=d(),he=a("li"),qs=n("\u52FE\u9078\u4E0B\u65B9\u300CSCOPE\u300D\uFF08\u7D22\u53D6\u7684\u8CC7\u8A0A\u6B04\u4F4D\uFF09\u88E1\u7684"),$=a("ul"),Xe=a("li"),Vs=n("\u300Cidentify\u300D\uFF08Discord \u7684 ID\uFF09"),Ms=d(),We=a("li"),zs=n("\u300Cemail\u300D"),Ks=d(),me=a("li"),Fs=n("\u5C31\u53EF\u65BC\u9801\u9762\u4E0B\u65B9\u53D6\u5F97\u8A8D\u8B49\u7528\u7684\u9023\u7D50"),Ze=a("ul"),y=a("li"),Qs=n("\u4F8B\uFF1A"),Je=a("code"),Xs=n("https://discord.com/api/oauth2/authorize?client_id="),Ws=n("[CLIENT ID]"),Ye=a("code"),Zs=n("&redirect_uri="),Js=n("[REDIRECT URL]"),ge=a("code"),Ys=n("&response_type=code&scope="),gs=n("[SCOPE]"),At=d(),G=a("h2"),et=a("strong"),ea=n("2. \u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97\u300Ccode\u300D"),Ut=d(),Ie=a("ul"),De=a("li"),ta=n("\u4F7F\u7528\u8A8D\u8B49\u9023\u7D50\u767B\u5165"),tt=a("ul"),q=a("li"),sa=n("\u91CD\u5C0E\u5411\u5230\u7D50\u679C\u9801\u9762\u5F8C\uFF0C\u7DB2\u5740\u4E0A\u6703\u591A\u51FA\u4E00\u500B\u56DE\u50B3\u7684 "),st=a("code"),aa=n("code"),oa=n(" \u53C3\u6578"),Ht=d(),V=a("h2"),at=a("strong"),la=n("3. \u4F7F\u7528\u300Ccode\u300D\u53D6\u5F97\u300Caccess token\u300D"),Nt=d(),ye=a("ul"),b=a("li"),na=n("\u4F7F\u7528\u9019\u500B "),ot=a("code"),ra=n("code"),ca=n(" \u9001\u51FA\u8ACB\u6C42"),lt=a("ul"),M=a("li"),ia=n("\u53D6\u5F97 "),nt=a("code"),pa=n("access_token"),da=n("\uFF0C\u624D\u80FD\u64C1\u6709\u5B58\u53D6\u8CC7\u6599\u7684\u6B0A\u9650"),xt=d(),Le=a("h3"),ua=n("a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),Bt=d(),z=a("pre"),$t=d(),K=a("h3"),fa=n("b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 "),rt=a("code"),_a=n("access token"),Gt=d(),F=a("pre"),qt=d(),S=a("ul"),P=a("li"),ct=a("code"),Ea=n("code"),ka=n(" \u70BA\u4E00\u6B21\u6027\u4F7F\u7528\uFF0C\u540C\u4E00\u500B "),it=a("code"),va=n("code"),ha=n(" \u7121\u6CD5\u9032\u884C\u7B2C\u4E8C\u6B21\u5B58\u53D6"),ma=d(),Q=a("li"),pt=a("code"),Ia=n("access token"),Da=n(" \u7684\u6709\u6548\u671F\u9650\u70BA 604800 \u79D2\uFF1D\u4E00\u500B\u79AE\u62DC"),dt=a("ul"),X=a("li"),ya=n("\u82E5\u6709\u66F4\u65B0\u9700\u6C42\uFF0C\u9808\u4F7F\u7528\u56DE\u50B3\u5167\u5BB9\u4E2D\u7684 "),ut=a("code"),La=n("refresh token"),Ca=n(" \u91CD\u65B0\u9001\u51FA\u8ACB\u6C42"),Vt=d(),W=a("h2"),ft=a("strong"),Oa=n("4. \u4F7F\u7528\u300Caccess token\u300D\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),Mt=d(),Ce=a("h3"),Ta=n("a. \u50B3\u9001 GET \u8ACB\u6C42\u5230 Discord API"),zt=d(),Z=a("pre"),Kt=d(),Oe=a("h3"),wa=n("b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97\u76F8\u95DC\u8CC7\u6599"),Ft=d(),J=a("pre"),Qt=d(),Te=a("ul"),we=a("li"),ba=n("\u642D\u914D\u982D\u50CF\u7DB2\u5740\u53D6\u5F97\u5716\u7247"),_t=a("ul"),j=a("li"),Et=a("code"),Sa=n("https://cdn.discordapp.com/avatars/"),Pa=n("[Discord ID]"),kt=a("code"),ja=n("/"),Ra=n("[\u5927\u982D\u8CBC ID]"),Xt=d(),Y=a("h2"),vt=a("strong"),Aa=n("5. \u4F7F\u7528 refresh token \u91CD\u65B0\u53D6\u5F97 access token"),Wt=d(),be=a("h3"),Ua=n("a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),Zt=d(),g=a("pre"),Jt=d(),Se=a("h3"),Ha=n("b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 access token"),Yt=d(),ee=a("pre"),gt=d(),te=a("h2"),ht=a("strong"),Na=n("\u7BC4\u4F8B"),es=d(),Pe=a("p"),xa=n("\u4EE5\u4E0B\u793A\u7BC4\u900F\u904E\u6B64\u65B9\u5F0F\uFF0C\u53D6\u5F97\u4F60\u7684 Discord ID \u8207\u5927\u982D\u8CBC\u5716\u7247\u3002"),ts=d(),se=a("button"),Ba=n("Login with Discord"),ss=d(),je=a("span"),as=d(),L=a("div"),Re=a("img"),$a=d(),Ae=a("div"),os=d(),ae=a("div"),C=a("ul"),mt=a("li"),oe=a("a"),Ga=n("undefined"),It=a("li"),le=a("a"),qa=n("undefined"),Dt=a("li"),ne=a("a"),Va=n("undefined"),yt=a("li"),re=a("a"),Ma=n("undefined"),Lt=a("li"),ce=a("a"),za=n("undefined"),Ct=a("li"),ie=a("a"),Ka=n("undefined"),this.h()},l(e){_=o(e,"UL",{});var c=l(_);h=o(c,"LI",{});var oo=l(h);k=o(oo,"A",{href:!0,rel:!0,target:!0});var Fa=l(k);m=o(Fa,"IMG",{src:!0,alt:!0}),v=o(Fa,"SPAN",{});var lo=l(v);w=r(lo,"\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),lo.forEach(t),Fa.forEach(t),oo.forEach(t),c.forEach(t),He=u(e),f=o(e,"H2",{id:!0});var no=l(f);H=o(no,"STRONG",{});var ro=l(H);bt=r(ro,"1. \u65BC Discord Developer Portal \u767B\u9304\u61C9\u7528"),ro.forEach(t),no.forEach(t),St=u(e),ue=o(e,"H3",{});var co=l(ue);Es=r(co,"a. \u53D6\u5F97 \u300CClient ID\u300D\u548C\u300CClient Secert\u300D"),co.forEach(t),Pt=u(e),I=o(e,"OL",{});var R=l(I);fe=o(R,"LI",{});var Qa=l(fe);ks=r(Qa,"\u767B\u5165 "),O=o(Qa,"A",{href:!0,rel:!0,target:!0});var Xa=l(O);_e=o(Xa,"IMG",{src:!0,alt:!0}),Ne=o(Xa,"SPAN",{});var io=l(Ne);vs=r(io,"Discord Developer Portal"),io.forEach(t),Xa.forEach(t),Qa.forEach(t),hs=u(R),xe=o(R,"LI",{});var po=l(xe);ms=r(po,"\u300CNew Application\u300D"),po.forEach(t),Is=u(R),N=o(R,"LI",{});var ls=l(N);Ds=r(ls,"\u53D6\u540D\uFF0C\u672C\u6587\u7BC4\u4F8B\u53D6\u70BA "),Be=o(ls,"CODE",{});var uo=l(Be);ys=r(uo,"OAuth Verify"),uo.forEach(t),x=o(ls,"UL",{});var ns=l(x);$e=o(ns,"LI",{});var fo=l($e);Ls=r(fo,"\u6B64\u540D\u7A31\u6703\u986F\u793A\u65BC\u6388\u6B0A\u9801\u9762\u4E0A"),fo.forEach(t),Cs=u(ns),Ge=o(ns,"LI",{});var _o=l(Ge);Os=r(_o,"\u300CCreate\u300D"),_o.forEach(t),ns.forEach(t),ls.forEach(t),Ts=u(R),T=o(R,"LI",{});var Ue=l(T);ws=r(Ue,"\u8CC7\u8A0A\u9801\u53F3\u65B9\u7684 "),qe=o(Ue,"CODE",{});var Eo=l(qe);bs=r(Eo,"Client ID"),Eo.forEach(t),Ss=r(Ue," \u548C "),Ve=o(Ue,"CODE",{});var ko=l(Ve);Ps=r(ko,"Client Secert"),ko.forEach(t),js=r(Ue," \u4E4B\u5F8C\u6703\u7528\u5230"),Ue.forEach(t),R.forEach(t),jt=u(e),Ee=o(e,"H3",{});var vo=l(Ee);Rs=r(vo,"b. \u5EFA\u7ACB OAuth \u7528\u7684\u7DB2\u5740"),vo.forEach(t),Rt=u(e),D=o(e,"OL",{});var A=l(D);Me=o(A,"LI",{});var ho=l(Me);As=r(ho,"\u9EDE\u64CA\u5DE6\u5074\u7684\u300COAuth2\u300D\u5206\u9801"),ho.forEach(t),Us=u(A),ke=o(A,"LI",{});var Wa=l(ke);Hs=r(Wa,"\u9EDE\u64CA\u53F3\u5074\u7684\u300CAdd Redirect\u300D\uFF0C\u8F38\u5165\u9A57\u8B49\u5B8C\u5F8C\u91CD\u5C0E\u5411\u7684\u7DB2\u5740"),B=o(Wa,"UL",{});var rs=l(B);ze=o(rs,"LI",{});var mo=l(ze);Ns=r(mo,"\u4E5F\u5C31\u662F\u8981\u7528\u65BC\u9A57\u8B49\u767B\u5165\u7684\u7DB2\u5740"),mo.forEach(t),xs=u(rs),ve=o(rs,"LI",{});var Za=l(ve);Bs=r(Za,"\u672C\u6587\u5BE6\u4F5C\u7BC4\u4F8B\u7684\u7DB2\u5740\u5C31\u662F\u6B64\u9801\u9762\u9023\u7D50\uFF1A"),Ke=o(Za,"UL",{});var Io=l(Ke);Fe=o(Io,"LI",{});var Do=l(Fe);Qe=o(Do,"CODE",{});var yo=l(Qe);$s=r(yo,"https://f6bfb5.github.io/login-with-discord"),yo.forEach(t),Do.forEach(t),Io.forEach(t),Za.forEach(t),rs.forEach(t),Wa.forEach(t),Gs=u(A),he=o(A,"LI",{});var Ja=l(he);qs=r(Ja,"\u52FE\u9078\u4E0B\u65B9\u300CSCOPE\u300D\uFF08\u7D22\u53D6\u7684\u8CC7\u8A0A\u6B04\u4F4D\uFF09\u88E1\u7684"),$=o(Ja,"UL",{});var cs=l($);Xe=o(cs,"LI",{});var Lo=l(Xe);Vs=r(Lo,"\u300Cidentify\u300D\uFF08Discord \u7684 ID\uFF09"),Lo.forEach(t),Ms=u(cs),We=o(cs,"LI",{});var Co=l(We);zs=r(Co,"\u300Cemail\u300D"),Co.forEach(t),cs.forEach(t),Ja.forEach(t),Ks=u(A),me=o(A,"LI",{});var Ya=l(me);Fs=r(Ya,"\u5C31\u53EF\u65BC\u9801\u9762\u4E0B\u65B9\u53D6\u5F97\u8A8D\u8B49\u7528\u7684\u9023\u7D50"),Ze=o(Ya,"UL",{});var Oo=l(Ze);y=o(Oo,"LI",{});var U=l(y);Qs=r(U,"\u4F8B\uFF1A"),Je=o(U,"CODE",{});var To=l(Je);Xs=r(To,"https://discord.com/api/oauth2/authorize?client_id="),To.forEach(t),Ws=r(U,"[CLIENT ID]"),Ye=o(U,"CODE",{});var wo=l(Ye);Zs=r(wo,"&redirect_uri="),wo.forEach(t),Js=r(U,"[REDIRECT URL]"),ge=o(U,"CODE",{});var bo=l(ge);Ys=r(bo,"&response_type=code&scope="),bo.forEach(t),gs=r(U,"[SCOPE]"),U.forEach(t),Oo.forEach(t),Ya.forEach(t),A.forEach(t),At=u(e),G=o(e,"H2",{id:!0});var So=l(G);et=o(So,"STRONG",{});var Po=l(et);ea=r(Po,"2. \u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97\u300Ccode\u300D"),Po.forEach(t),So.forEach(t),Ut=u(e),Ie=o(e,"UL",{});var jo=l(Ie);De=o(jo,"LI",{});var ga=l(De);ta=r(ga,"\u4F7F\u7528\u8A8D\u8B49\u9023\u7D50\u767B\u5165"),tt=o(ga,"UL",{});var Ro=l(tt);q=o(Ro,"LI",{});var is=l(q);sa=r(is,"\u91CD\u5C0E\u5411\u5230\u7D50\u679C\u9801\u9762\u5F8C\uFF0C\u7DB2\u5740\u4E0A\u6703\u591A\u51FA\u4E00\u500B\u56DE\u50B3\u7684 "),st=o(is,"CODE",{});var Ao=l(st);aa=r(Ao,"code"),Ao.forEach(t),oa=r(is," \u53C3\u6578"),is.forEach(t),Ro.forEach(t),ga.forEach(t),jo.forEach(t),Ht=u(e),V=o(e,"H2",{id:!0});var Uo=l(V);at=o(Uo,"STRONG",{});var Ho=l(at);la=r(Ho,"3. \u4F7F\u7528\u300Ccode\u300D\u53D6\u5F97\u300Caccess token\u300D"),Ho.forEach(t),Uo.forEach(t),Nt=u(e),ye=o(e,"UL",{});var No=l(ye);b=o(No,"LI",{});var Ot=l(b);na=r(Ot,"\u4F7F\u7528\u9019\u500B "),ot=o(Ot,"CODE",{});var xo=l(ot);ra=r(xo,"code"),xo.forEach(t),ca=r(Ot," \u9001\u51FA\u8ACB\u6C42"),lt=o(Ot,"UL",{});var Bo=l(lt);M=o(Bo,"LI",{});var ps=l(M);ia=r(ps,"\u53D6\u5F97 "),nt=o(ps,"CODE",{});var $o=l(nt);pa=r($o,"access_token"),$o.forEach(t),da=r(ps,"\uFF0C\u624D\u80FD\u64C1\u6709\u5B58\u53D6\u8CC7\u6599\u7684\u6B0A\u9650"),ps.forEach(t),Bo.forEach(t),Ot.forEach(t),No.forEach(t),xt=u(e),Le=o(e,"H3",{});var Go=l(Le);ua=r(Go,"a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),Go.forEach(t),Bt=u(e),z=o(e,"PRE",{class:!0});var Hl=l(z);Hl.forEach(t),$t=u(e),K=o(e,"H3",{});var eo=l(K);fa=r(eo,"b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 "),rt=o(eo,"CODE",{});var qo=l(rt);_a=r(qo,"access token"),qo.forEach(t),eo.forEach(t),Gt=u(e),F=o(e,"PRE",{class:!0});var Nl=l(F);Nl.forEach(t),qt=u(e),S=o(e,"UL",{});var ds=l(S);P=o(ds,"LI",{});var Tt=l(P);ct=o(Tt,"CODE",{});var Vo=l(ct);Ea=r(Vo,"code"),Vo.forEach(t),ka=r(Tt," \u70BA\u4E00\u6B21\u6027\u4F7F\u7528\uFF0C\u540C\u4E00\u500B "),it=o(Tt,"CODE",{});var Mo=l(it);va=r(Mo,"code"),Mo.forEach(t),ha=r(Tt," \u7121\u6CD5\u9032\u884C\u7B2C\u4E8C\u6B21\u5B58\u53D6"),Tt.forEach(t),ma=u(ds),Q=o(ds,"LI",{});var us=l(Q);pt=o(us,"CODE",{});var zo=l(pt);Ia=r(zo,"access token"),zo.forEach(t),Da=r(us," \u7684\u6709\u6548\u671F\u9650\u70BA 604800 \u79D2\uFF1D\u4E00\u500B\u79AE\u62DC"),dt=o(us,"UL",{});var Ko=l(dt);X=o(Ko,"LI",{});var fs=l(X);ya=r(fs,"\u82E5\u6709\u66F4\u65B0\u9700\u6C42\uFF0C\u9808\u4F7F\u7528\u56DE\u50B3\u5167\u5BB9\u4E2D\u7684 "),ut=o(fs,"CODE",{});var Fo=l(ut);La=r(Fo,"refresh token"),Fo.forEach(t),Ca=r(fs," \u91CD\u65B0\u9001\u51FA\u8ACB\u6C42"),fs.forEach(t),Ko.forEach(t),us.forEach(t),ds.forEach(t),Vt=u(e),W=o(e,"H2",{id:!0});var Qo=l(W);ft=o(Qo,"STRONG",{});var Xo=l(ft);Oa=r(Xo,"4. \u4F7F\u7528\u300Caccess token\u300D\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),Xo.forEach(t),Qo.forEach(t),Mt=u(e),Ce=o(e,"H3",{});var Wo=l(Ce);Ta=r(Wo,"a. \u50B3\u9001 GET \u8ACB\u6C42\u5230 Discord API"),Wo.forEach(t),zt=u(e),Z=o(e,"PRE",{class:!0});var xl=l(Z);xl.forEach(t),Kt=u(e),Oe=o(e,"H3",{});var Zo=l(Oe);wa=r(Zo,"b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97\u76F8\u95DC\u8CC7\u6599"),Zo.forEach(t),Ft=u(e),J=o(e,"PRE",{class:!0});var Bl=l(J);Bl.forEach(t),Qt=u(e),Te=o(e,"UL",{});var Jo=l(Te);we=o(Jo,"LI",{});var to=l(we);ba=r(to,"\u642D\u914D\u982D\u50CF\u7DB2\u5740\u53D6\u5F97\u5716\u7247"),_t=o(to,"UL",{});var Yo=l(_t);j=o(Yo,"LI",{});var wt=l(j);Et=o(wt,"CODE",{});var go=l(Et);Sa=r(go,"https://cdn.discordapp.com/avatars/"),go.forEach(t),Pa=r(wt,"[Discord ID]"),kt=o(wt,"CODE",{});var el=l(kt);ja=r(el,"/"),el.forEach(t),Ra=r(wt,"[\u5927\u982D\u8CBC ID]"),wt.forEach(t),Yo.forEach(t),to.forEach(t),Jo.forEach(t),Xt=u(e),Y=o(e,"H2",{id:!0});var tl=l(Y);vt=o(tl,"STRONG",{});var sl=l(vt);Aa=r(sl,"5. \u4F7F\u7528 refresh token \u91CD\u65B0\u53D6\u5F97 access token"),sl.forEach(t),tl.forEach(t),Wt=u(e),be=o(e,"H3",{});var al=l(be);Ua=r(al,"a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),al.forEach(t),Zt=u(e),g=o(e,"PRE",{class:!0});var $l=l(g);$l.forEach(t),Jt=u(e),Se=o(e,"H3",{});var ol=l(Se);Ha=r(ol,"b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 access token"),ol.forEach(t),Yt=u(e),ee=o(e,"PRE",{class:!0});var Gl=l(ee);Gl.forEach(t),gt=u(e),te=o(e,"H2",{id:!0});var ll=l(te);ht=o(ll,"STRONG",{});var nl=l(ht);Na=r(nl,"\u7BC4\u4F8B"),nl.forEach(t),ll.forEach(t),es=u(e),Pe=o(e,"P",{});var rl=l(Pe);xa=r(rl,"\u4EE5\u4E0B\u793A\u7BC4\u900F\u904E\u6B64\u65B9\u5F0F\uFF0C\u53D6\u5F97\u4F60\u7684 Discord ID \u8207\u5927\u982D\u8CBC\u5716\u7247\u3002"),rl.forEach(t),ts=u(e),se=o(e,"BUTTON",{id:!0});var cl=l(se);Ba=r(cl,"Login with Discord"),cl.forEach(t),ss=u(e),je=o(e,"SPAN",{id:!0}),l(je).forEach(t),as=u(e),L=o(e,"DIV",{class:!0,id:!0,style:!0});var _s=l(L);Re=o(_s,"IMG",{alt:!0,class:!0,id:!0}),$a=u(_s),Ae=o(_s,"DIV",{class:!0,id:!0}),l(Ae).forEach(t),_s.forEach(t),os=u(e),ae=o(e,"DIV",{class:!0});var il=l(ae);C=o(il,"UL",{class:!0});var pe=l(C);mt=o(pe,"LI",{});var pl=l(mt);oe=o(pl,"A",{href:!0,onclick:!0});var dl=l(oe);Ga=r(dl,"undefined"),dl.forEach(t),pl.forEach(t),It=o(pe,"LI",{});var ul=l(It);le=o(ul,"A",{href:!0,onclick:!0});var fl=l(le);qa=r(fl,"undefined"),fl.forEach(t),ul.forEach(t),Dt=o(pe,"LI",{});var _l=l(Dt);ne=o(_l,"A",{href:!0,onclick:!0});var El=l(ne);Va=r(El,"undefined"),El.forEach(t),_l.forEach(t),yt=o(pe,"LI",{});var kl=l(yt);re=o(kl,"A",{href:!0,onclick:!0});var vl=l(re);Ma=r(vl,"undefined"),vl.forEach(t),kl.forEach(t),Lt=o(pe,"LI",{});var hl=l(Lt);ce=o(hl,"A",{href:!0,onclick:!0});var ml=l(ce);za=r(ml,"undefined"),ml.forEach(t),hl.forEach(t),Ct=o(pe,"LI",{});var Il=l(Ct);ie=o(Il,"A",{href:!0,onclick:!0});var Dl=l(ie);Ka=r(Dl,"undefined"),Dl.forEach(t),Il.forEach(t),pe.forEach(t),il.forEach(t),this.h()},h(){Cl(m.src,E="https://s2.googleusercontent.com/s2/favicons?domain=https://qiita.com/masayoshi4649/items/46fdb744cb8255f5eb98")||p(m,"src",E),p(m,"alt","\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),p(k,"href","https://qiita.com/masayoshi4649/items/46fdb744cb8255f5eb98"),p(k,"rel","noopener"),p(k,"target","_blank"),p(f,"id","js-id-1-\u65BC-discord-developer-portal-\u767B\u9304\u61C9\u7528"),Cl(_e.src,ao="https://s2.googleusercontent.com/s2/favicons?domain=https://discord.com/developers/applications")||p(_e,"src",ao),p(_e,"alt","Discord Developer Portal"),p(O,"href","https://discord.com/developers/applications"),p(O,"rel","noopener"),p(O,"target","_blank"),p(G,"id","js-id-2-\u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97code"),p(V,"id","js-id-3-\u4F7F\u7528code\u53D6\u5F97access-token"),p(z,"class","language-bash"),p(F,"class","language-json"),p(W,"id","js-id-4-\u4F7F\u7528access-token\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),p(Z,"class","language-bash"),p(J,"class","language-json"),p(Y,"id","js-id-5-\u4F7F\u7528-refresh-token-\u91CD\u65B0\u53D6\u5F97-access-token"),p(g,"class","language-bash"),p(ee,"class","language-json"),p(te,"id","js-id-\u7BC4\u4F8B"),p(se,"id","js-discord-button"),p(je,"id","js-discord-status"),p(Re,"alt","profile"),p(Re,"class","discord-card--image svelte-9ys6tj"),p(Re,"id","js-discord-card--image"),p(Ae,"class","discord-card--username"),p(Ae,"id","js-discord-card--username"),p(L,"class","discord-card"),p(L,"id","js-discord-card"),Yl(L,"display","none"),p(oe,"href","#"),p(oe,"onclick","document.querySelector('#js-id-1-\u65BC-discord-developer-portal-\u767B\u9304\u61C9\u7528').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),p(le,"href","#"),p(le,"onclick","document.querySelector('#js-id-2-\u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97code').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),p(ne,"href","#"),p(ne,"onclick","document.querySelector('#js-id-3-\u4F7F\u7528code\u53D6\u5F97access-token').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),p(re,"href","#"),p(re,"onclick","document.querySelector('#js-id-4-\u4F7F\u7528access-token\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),p(ce,"href","#"),p(ce,"onclick","document.querySelector('#js-id-5-\u4F7F\u7528-refresh-token-\u91CD\u65B0\u53D6\u5F97-access-token').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),p(ie,"href","#"),p(ie,"onclick","document.querySelector('#js-id-\u7BC4\u4F8B').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),p(C,"class","toc"),p(ae,"class","toc-container")},m(e,c){i(e,_,c),s(_,h),s(h,k),s(k,m),s(k,v),s(v,w),i(e,He,c),i(e,f,c),s(f,H),s(H,bt),i(e,St,c),i(e,ue,c),s(ue,Es),i(e,Pt,c),i(e,I,c),s(I,fe),s(fe,ks),s(fe,O),s(O,_e),s(O,Ne),s(Ne,vs),s(I,hs),s(I,xe),s(xe,ms),s(I,Is),s(I,N),s(N,Ds),s(N,Be),s(Be,ys),s(N,x),s(x,$e),s($e,Ls),s(x,Cs),s(x,Ge),s(Ge,Os),s(I,Ts),s(I,T),s(T,ws),s(T,qe),s(qe,bs),s(T,Ss),s(T,Ve),s(Ve,Ps),s(T,js),i(e,jt,c),i(e,Ee,c),s(Ee,Rs),i(e,Rt,c),i(e,D,c),s(D,Me),s(Me,As),s(D,Us),s(D,ke),s(ke,Hs),s(ke,B),s(B,ze),s(ze,Ns),s(B,xs),s(B,ve),s(ve,Bs),s(ve,Ke),s(Ke,Fe),s(Fe,Qe),s(Qe,$s),s(D,Gs),s(D,he),s(he,qs),s(he,$),s($,Xe),s(Xe,Vs),s($,Ms),s($,We),s(We,zs),s(D,Ks),s(D,me),s(me,Fs),s(me,Ze),s(Ze,y),s(y,Qs),s(y,Je),s(Je,Xs),s(y,Ws),s(y,Ye),s(Ye,Zs),s(y,Js),s(y,ge),s(ge,Ys),s(y,gs),i(e,At,c),i(e,G,c),s(G,et),s(et,ea),i(e,Ut,c),i(e,Ie,c),s(Ie,De),s(De,ta),s(De,tt),s(tt,q),s(q,sa),s(q,st),s(st,aa),s(q,oa),i(e,Ht,c),i(e,V,c),s(V,at),s(at,la),i(e,Nt,c),i(e,ye,c),s(ye,b),s(b,na),s(b,ot),s(ot,ra),s(b,ca),s(b,lt),s(lt,M),s(M,ia),s(M,nt),s(nt,pa),s(M,da),i(e,xt,c),i(e,Le,c),s(Le,ua),i(e,Bt,c),i(e,z,c),z.innerHTML=Sl,i(e,$t,c),i(e,K,c),s(K,fa),s(K,rt),s(rt,_a),i(e,Gt,c),i(e,F,c),F.innerHTML=Pl,i(e,qt,c),i(e,S,c),s(S,P),s(P,ct),s(ct,Ea),s(P,ka),s(P,it),s(it,va),s(P,ha),s(S,ma),s(S,Q),s(Q,pt),s(pt,Ia),s(Q,Da),s(Q,dt),s(dt,X),s(X,ya),s(X,ut),s(ut,La),s(X,Ca),i(e,Vt,c),i(e,W,c),s(W,ft),s(ft,Oa),i(e,Mt,c),i(e,Ce,c),s(Ce,Ta),i(e,zt,c),i(e,Z,c),Z.innerHTML=jl,i(e,Kt,c),i(e,Oe,c),s(Oe,wa),i(e,Ft,c),i(e,J,c),J.innerHTML=Rl,i(e,Qt,c),i(e,Te,c),s(Te,we),s(we,ba),s(we,_t),s(_t,j),s(j,Et),s(Et,Sa),s(j,Pa),s(j,kt),s(kt,ja),s(j,Ra),i(e,Xt,c),i(e,Y,c),s(Y,vt),s(vt,Aa),i(e,Wt,c),i(e,be,c),s(be,Ua),i(e,Zt,c),i(e,g,c),g.innerHTML=Al,i(e,Jt,c),i(e,Se,c),s(Se,Ha),i(e,Yt,c),i(e,ee,c),ee.innerHTML=Ul,i(e,gt,c),i(e,te,c),s(te,ht),s(ht,Na),i(e,es,c),i(e,Pe,c),s(Pe,xa),i(e,ts,c),i(e,se,c),s(se,Ba),i(e,ss,c),i(e,je,c),i(e,as,c),i(e,L,c),s(L,Re),s(L,$a),s(L,Ae),i(e,os,c),i(e,ae,c),s(ae,C),s(C,mt),s(mt,oe),s(oe,Ga),s(C,It),s(It,le),s(le,qa),s(C,Dt),s(Dt,ne),s(ne,Va),s(C,yt),s(yt,re),s(re,Ma),s(C,Lt),s(Lt,ce),s(ce,za),s(C,Ct),s(Ct,ie),s(ie,Ka)},p:gl,d(e){e&&t(_),e&&t(He),e&&t(f),e&&t(St),e&&t(ue),e&&t(Pt),e&&t(I),e&&t(jt),e&&t(Ee),e&&t(Rt),e&&t(D),e&&t(At),e&&t(G),e&&t(Ut),e&&t(Ie),e&&t(Ht),e&&t(V),e&&t(Nt),e&&t(ye),e&&t(xt),e&&t(Le),e&&t(Bt),e&&t(z),e&&t($t),e&&t(K),e&&t(Gt),e&&t(F),e&&t(qt),e&&t(S),e&&t(Vt),e&&t(W),e&&t(Mt),e&&t(Ce),e&&t(zt),e&&t(Z),e&&t(Kt),e&&t(Oe),e&&t(Ft),e&&t(J),e&&t(Qt),e&&t(Te),e&&t(Xt),e&&t(Y),e&&t(Wt),e&&t(be),e&&t(Zt),e&&t(g),e&&t(Jt),e&&t(Se),e&&t(Yt),e&&t(ee),e&&t(gt),e&&t(te),e&&t(es),e&&t(Pe),e&&t(ts),e&&t(se),e&&t(ss),e&&t(je),e&&t(as),e&&t(L),e&&t(os),e&&t(ae)}}}function sn(de){let _,h;const k=[de[0],Ol];let m={$$slots:{default:[tn]},$$scope:{ctx:de}};for(let E=0;E<k.length;E+=1)m=so(m,k[E]);return _=new en({props:m}),{c(){zl(_.$$.fragment)},l(E){Kl(_.$$.fragment,E)},m(E,v){Fl(_,E,v),h=!0},p(E,[v]){const w=v&1?Ql(k,[v&1&&yl(E[0]),v&0&&yl(Ol)]):{};v&2&&(w.$$scope={dirty:v,ctx:E}),_.$set(w)},i(E){h||(Xl(_.$$.fragment,E),h=!0)},o(E){Wl(_.$$.fragment,E),h=!1},d(E){Zl(_,E)}}}const Ol={title:"\u5BE6\u4F5C\u300C\u4F7F\u7528Discord\u767B\u5165\u300D",date:"2021-01-14T00:24:23.000Z",tags:"F2E"},Tl="798950274114781204",wl="https://f6bfb5.github.io/login-with-discord",bl="identify email";function an(){document.location.href=`https://discord.com/api/oauth2/authorize
?client_id=${Tl}
&redirect_uri=${encodeURIComponent(wl)}
&response_type=code
&scope=${encodeURIComponent(bl)}`}function on(de,_,h){return Jl(()=>{document.getElementById("js-discord-button").addEventListener("click",an);const k=new URLSearchParams(window.location.search);if(k.has("code")){const m="3c-TeN5NxElL4la8E6h5BlT4zDHigser",E="https://discordapp.com/api/oauth2/token",v={client_id:Tl,client_secret:m,grant_type:"authorization_code",code:k.get("code"),redirect_uri:wl,scope:bl},w=Object.keys(v).map(f=>encodeURIComponent(f)+"="+encodeURIComponent(v[f])).join("&");fetch(E,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:w}).then(function(f){if(!f.ok)throw new Error(f.statusText);return document.getElementById("js-discord-status").innerText="token got",f.json()}).then(function(f){let H=f.access_token;return fetch("https://discordapp.com/api/users/@me",{method:"GET",headers:{authorization:"Bearer "+H}})}).then(function(f){if(!f.ok)throw new Error(f.statusText);return document.getElementById("js-discord-status").innerText="user data got",f.json()}).catch(function(f){document.getElementById("js-discord-status").innerText=f}).then(function(f){f!=null&&(document.getElementById("js-discord-card").style.display="block",document.getElementById("js-discord-card--image").src=`https://cdn.discordapp.com/avatars/${f.id}/${f.avatar}`,document.getElementById("js-discord-card--username").innerText=`${f.username}#${f.discriminator}`)})}else document.getElementById("js-discord-status").innerText="Not logged in"}),de.$$set=k=>{h(0,_=so(so({},_),Ll(k)))},_=Ll(_),[_]}class cn extends ql{constructor(_){super(),Vl(this,_,on,sn,Ml,{})}}export{cn as default,Ol as metadata};
