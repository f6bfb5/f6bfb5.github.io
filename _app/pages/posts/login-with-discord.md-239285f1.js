import{S as cl,i as rl,s as pl,C as Ra,w as il,x as dl,y as ul,z as fl,A as Mo,q as _l,o as kl,B as El,v as vl,_ as zo,e as a,t as n,k as d,c as o,a as l,h as c,d as t,m as u,H as Go,b as i,f as hl,g as p,I as s,E as ml}from"../../chunks/index-8418cccc.js";import{P as Dl}from"../../chunks/_post-d4178251.js";import"../../chunks/BlinkAnchor-aec4dee8.js";function Il(re){let _,h,E,m,k,v,S,Se,f,je,Ae,pe,Jt,Et,D,ie,Yt,O,de,Ha,Re,gt,es,He,ts,ss,j,as,Ue,os,ls,xe,Be,ns,cs,b,rs,Ne,ps,is,$e,ds,us,vt,ue,fs,ht,I,qe,_s,ks,fe,Es,T,Ve,vs,hs,Me,ms,Ds,ze,Ge,Is,ys,_e,Cs,N,Ke,Ls,ws,Fe,Os,bs,ke,Ts,Qe,y,Ps,Xe,Ss,js,We,As,Rs,Ze,Hs,Us,mt,$,xs,Dt,A,Bs,Je,Ns,$s,It,q,qs,yt,w,Vs,Ye,Ms,zs,ge,Gs,Ks,Ct,Ee,Fs,Lt,V,Wo=`<code class="language-bash"><span class="token function">curl</span> -X POST
     -H <span class="token string">"Content-Type:application/x-www-form-urlencoded"</span>
     -d <span class="token string">"client_id=[CLIENT ID]
     &amp;client_secret=[CLIENT SECRET]
     &amp;grant_type=authorization_code
     &amp;code=[CODE]
     &amp;redirect_uri=[REDIRECT URL]\uFF08\u8981\u8207\u8A8D\u8B49 URL \u76F8\u540C\uFF09"</span>
     https://discordapp.com/api/oauth2/token</code>`,wt,M,Qs,et,Xs,Ot,z,Zo=`<code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"access_token"</span><span class="token operator">:</span> <span class="token punctuation">[</span>ACCESS TOKEN<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"expires_in"</span><span class="token operator">:</span> <span class="token number">604800</span><span class="token punctuation">,</span>
  <span class="token property">"refresh_token"</span><span class="token operator">:</span> <span class="token punctuation">[</span>REFRESH TOKEN<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"scope"</span><span class="token operator">:</span> <span class="token punctuation">[</span>SCOPE<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"token_type"</span><span class="token operator">:</span> <span class="token string">"Bearer"</span>
<span class="token punctuation">&#125;</span></code>`,bt,R,H,tt,Ws,Zs,st,Js,Ys,gs,G,at,ea,ta,ot,K,sa,lt,aa,oa,Tt,F,la,Pt,ve,na,St,Q,Jo=`<code class="language-bash"><span class="token function">curl</span> -H <span class="token string">"Authorization: Bearer [ACCESS TOKEN]"</span>
     https://discordapp.com/api/users/@me</code>`,jt,he,ca,At,X,Yo=`<code class="language-json"><span class="token punctuation">&#123;</span>
   <span class="token property">"id"</span><span class="token operator">:</span> <span class="token punctuation">[</span>Discord ID<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"username"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u4F7F\u7528\u8005\u540D\u7A31<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"avatar"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u5927\u982D\u8CBC ID<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"discriminator"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u4F7F\u7528\u8005\u7DE8\u865F<span class="token punctuation">]</span>\uFF08\u5728\u540D\u7A31#\u5F8C\u9762\u7684\u6578\u5B57\uFF09<span class="token punctuation">,</span>
   <span class="token property">"public_flags"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">"flags"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">"email"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u4FE1\u7BB1<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"verified"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
   <span class="token property">"locale"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u4F7F\u7528\u8A9E\u8A00<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"mfa_enabled"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">&#125;</span></code>`,Rt,me,P,ra,nt,pa,ia,ct,da,ua,Ht,W,fa,Ut,De,_a,xt,Z,go=`<code class="language-bash"><span class="token function">curl</span> -X POST
     -H <span class="token string">"Content-Type:application/x-www-form-urlencoded"</span>
     -d <span class="token string">"client_id=[CLIENT ID]
     &amp;client_secret=[CLIENT SECRET]
     &amp;grant_type=refresh_token
     &amp;refresh_token=[REFRESH TOKEN]"</span>
     https://discordapp.com/api/oauth2/token</code>`,Bt,Ie,ka,Nt,J,el=`<code class="language-json"><span class="token punctuation">&#123;</span>
   <span class="token property">"access_token"</span><span class="token operator">:</span> <span class="token punctuation">[</span>ACCESS TOKEN<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"expires_in"</span><span class="token operator">:</span> <span class="token number">604800</span><span class="token punctuation">,</span>
   <span class="token property">"refresh_token"</span><span class="token operator">:</span> <span class="token punctuation">[</span>REFRESH TOKEN<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"scope"</span><span class="token operator">:</span> <span class="token punctuation">[</span>SCOPE<span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"token_type"</span><span class="token operator">:</span> <span class="token string">"Bearer"</span>
<span class="token punctuation">&#125;</span></code>`,$t,Y,Ea,qt,ye,va,Vt,g,ha,Mt,Ce,zt,C,Le,ma,we,Gt,ee,L,rt,te,Da,pt,se,Ia,it,ae,ya,dt,oe,Ca,ut,le,La,ft,ne,wa;return{c(){_=a("ul"),h=a("li"),E=a("a"),m=a("img"),v=a("span"),S=n("\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),Se=d(),f=a("h2"),je=n("1. \u65BC Discord Developer Portal \u767B\u9304\u61C9\u7528"),Ae=d(),pe=a("h3"),Jt=n("a. \u53D6\u5F97 \u300CClient ID\u300D\u548C\u300CClient Secert\u300D"),Et=d(),D=a("ol"),ie=a("li"),Yt=n("\u767B\u5165 "),O=a("a"),de=a("img"),Re=a("span"),gt=n("Discord Developer Portal"),es=d(),He=a("li"),ts=n("\u9EDE\u64CA\u53F3\u4E0A\u89D2\u7684\u300CNew Application\u300D"),ss=d(),j=a("li"),as=n("\u53D6\u540D\uFF0C\u672C\u6587\u7BC4\u4F8B\u53D6\u70BA "),Ue=a("code"),os=n("OAuth Verify"),ls=n("\uFF0C\u4E4B\u5F8C\u9EDE\u64CA\u300CCreate\u300D"),xe=a("ul"),Be=a("li"),ns=n("\u6B64\u540D\u7A31\u6703\u986F\u793A\u65BC\u6388\u6B0A\u9801\u9762\u4E0A"),cs=d(),b=a("li"),rs=n("\u8CC7\u8A0A\u9801\u53F3\u65B9\u7684 "),Ne=a("code"),ps=n("Client ID"),is=n(" \u548C "),$e=a("code"),ds=n("Client Secert"),us=n(" \u5F8C\u9762\u4E5F\u6703\u7528\u5230"),vt=d(),ue=a("h3"),fs=n("b. \u5EFA\u7ACB OAuth \u7528\u7684\u7DB2\u5740"),ht=d(),I=a("ol"),qe=a("li"),_s=n("\u9EDE\u64CA\u5DE6\u5074\u7684\u300COAuth2\u300D\u5206\u9801"),ks=d(),fe=a("li"),Es=n("\u9EDE\u64CA\u53F3\u5074\u7684\u300CAdd Redirect\u300D\uFF0C\u8F38\u5165\u9A57\u8B49\u5B8C\u5F8C\u91CD\u5C0E\u5411\u7684\u7DB2\u5740"),T=a("ul"),Ve=a("li"),vs=n("\u4E5F\u5C31\u662F\u8981\u7528\u65BC\u9A57\u8B49\u767B\u5165\u7684\u7DB2\u5740"),hs=d(),Me=a("li"),ms=n("\u4F8B\u5982\u672C\u6587\u6700\u4E0B\u65B9\u7684\u5BE6\u4F5C\u7BC4\u4F8B\uFF0C\u7DB2\u5740\u5C31\u662F\u672C\u6587\u9023\u7D50\uFF1A"),Ds=d(),ze=a("li"),Ge=a("code"),Is=n("https://f6bfb5.github.io/login-with-discord"),ys=d(),_e=a("li"),Cs=n("\u52FE\u9078\u4E0B\u65B9\u300CSCOPE\u300D\uFF08\u7D22\u53D6\u7684\u8CC7\u8A0A\u6B04\u4F4D\uFF09\u88E1\u7684"),N=a("ul"),Ke=a("li"),Ls=n("\u300Cidentify\u300D\uFF08Discord \u7684 ID\uFF09"),ws=d(),Fe=a("li"),Os=n("\u300Cemail\u300D"),bs=d(),ke=a("li"),Ts=n("\u5C31\u53EF\u65BC\u9801\u9762\u4E0B\u65B9\u53D6\u5F97\u8A8D\u8B49\u7528\u7684\u9023\u7D50"),Qe=a("ul"),y=a("li"),Ps=n("\u4F8B\uFF1A"),Xe=a("code"),Ss=n("https://discord.com/api/oauth2/authorize?client_id="),js=n("[CLIENT ID]"),We=a("code"),As=n("&redirect_uri="),Rs=n("[REDIRECT URL]"),Ze=a("code"),Hs=n("&response_type=code&scope="),Us=n("[SCOPE]"),mt=d(),$=a("h2"),xs=n("2. \u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97\u300Ccode\u300D"),Dt=d(),A=a("p"),Bs=n("\u4F7F\u7528\u6B64\u8A8D\u8B49\u9023\u7D50\u767B\u5165\uFF0C\u91CD\u65B0\u5C0E\u5411\u5230\u7D50\u679C\u9801\u9762\u5F8C\uFF0C\u7DB2\u5740\u4E0A\u6703\u591A\u51FA\u4E00\u500B\u56DE\u50B3\u7684 "),Je=a("code"),Ns=n("code"),$s=n(" \u53C3\u6578"),It=d(),q=a("h2"),qs=n("3. \u4F7F\u7528\u300Ccode\u300D\u53D6\u5F97\u300Ctoken\u300D"),yt=d(),w=a("p"),Vs=n("\u4F7F\u7528\u9019\u500B "),Ye=a("code"),Ms=n("code"),zs=n(" \u9001\u51FA\u8ACB\u6C42\uFF0C\u53D6\u5F97 "),ge=a("code"),Gs=n("access_token"),Ks=n("\uFF0C\u624D\u80FD\u5F97\u5230\u5B58\u53D6\u8CC7\u6599\u7684\u6B0A\u9650"),Ct=d(),Ee=a("h3"),Fs=n("a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),Lt=d(),V=a("pre"),wt=d(),M=a("h3"),Qs=n("b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 "),et=a("code"),Xs=n("access token"),Ot=d(),z=a("pre"),bt=d(),R=a("ul"),H=a("li"),tt=a("code"),Ws=n("code"),Zs=n(" \u70BA\u4E00\u6B21\u6027\u4F7F\u7528\uFF0C\u540C\u4E00\u500B "),st=a("code"),Js=n("code"),Ys=n(" \u7121\u6CD5\u9032\u884C\u7B2C\u4E8C\u6B21\u5B58\u53D6"),gs=d(),G=a("li"),at=a("code"),ea=n("access token"),ta=n(" \u7684\u6709\u6548\u671F\u9650\u70BA 604800 \u79D2\uFF1D\u4E00\u500B\u79AE\u62DC"),ot=a("ul"),K=a("li"),sa=n("\u82E5\u6709\u66F4\u65B0\u9700\u6C42\uFF0C\u9808\u4F7F\u7528\u56DE\u50B3\u5167\u5BB9\u4E2D\u7684 "),lt=a("code"),aa=n("refresh token"),oa=n(" \u91CD\u65B0\u9001\u51FA\u8ACB\u6C42"),Tt=d(),F=a("h2"),la=n("4. \u4F7F\u7528\u300Ctoken\u300D\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),Pt=d(),ve=a("h3"),na=n("a. \u50B3\u9001 GET \u8ACB\u6C42\u5230 Discord API"),St=d(),Q=a("pre"),jt=d(),he=a("h3"),ca=n("b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97\u76F8\u95DC\u8CC7\u6599"),At=d(),X=a("pre"),Rt=d(),me=a("ul"),P=a("li"),ra=n("\u982D\u50CF\u7DB2\u5740\u53EF\u4EE5\u4F7F\u7528\u300C"),nt=a("code"),pa=n("https://cdn.discordapp.com/avatars/"),ia=n("[Discord ID]"),ct=a("code"),da=n("/"),ua=n("[\u5927\u982D\u8CBC ID]\u300D\u53D6\u5F97"),Ht=d(),W=a("h2"),fa=n("5. \u4F7F\u7528 refresh token \u91CD\u65B0\u53D6\u5F97 access token"),Ut=d(),De=a("h3"),_a=n("a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),xt=d(),Z=a("pre"),Bt=d(),Ie=a("h3"),ka=n("b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 access token"),Nt=d(),J=a("pre"),$t=d(),Y=a("h2"),Ea=n("\u7BC4\u4F8B"),qt=d(),ye=a("p"),va=n("\u4EE5\u4E0B\u793A\u7BC4\u900F\u904E\u6B64\u65B9\u5F0F\uFF0C\u53D6\u5F97\u4F60\u7684 Discord ID \u8207\u5927\u982D\u8CBC\u5716\u7247\u3002"),Vt=d(),g=a("button"),ha=n("Login with Discord"),Mt=d(),Ce=a("span"),zt=d(),C=a("div"),Le=a("img"),ma=d(),we=a("div"),Gt=d(),ee=a("div"),L=a("ul"),rt=a("li"),te=a("a"),Da=n("1. \u65BC Discord Developer Portal \u767B\u9304\u61C9\u7528"),pt=a("li"),se=a("a"),Ia=n("2. \u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97\u300Ccode\u300D"),it=a("li"),ae=a("a"),ya=n("3. \u4F7F\u7528\u300Ccode\u300D\u53D6\u5F97\u300Ctoken\u300D"),dt=a("li"),oe=a("a"),Ca=n("4. \u4F7F\u7528\u300Ctoken\u300D\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),ut=a("li"),le=a("a"),La=n("5. \u4F7F\u7528 refresh token \u91CD\u65B0\u53D6\u5F97 access token"),ft=a("li"),ne=a("a"),wa=n("\u7BC4\u4F8B"),this.h()},l(e){_=o(e,"UL",{});var r=l(_);h=o(r,"LI",{});var Ua=l(h);E=o(Ua,"A",{href:!0,rel:!0,target:!0});var Oa=l(E);m=o(Oa,"IMG",{src:!0,alt:!0}),v=o(Oa,"SPAN",{});var xa=l(v);S=c(xa,"\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),xa.forEach(t),Oa.forEach(t),Ua.forEach(t),r.forEach(t),Se=u(e),f=o(e,"H2",{id:!0});var Ba=l(f);je=c(Ba,"1. \u65BC Discord Developer Portal \u767B\u9304\u61C9\u7528"),Ba.forEach(t),Ae=u(e),pe=o(e,"H3",{});var Na=l(pe);Jt=c(Na,"a. \u53D6\u5F97 \u300CClient ID\u300D\u548C\u300CClient Secert\u300D"),Na.forEach(t),Et=u(e),D=o(e,"OL",{});var U=l(D);ie=o(U,"LI",{});var ba=l(ie);Yt=c(ba,"\u767B\u5165 "),O=o(ba,"A",{href:!0,rel:!0,target:!0});var Ta=l(O);de=o(Ta,"IMG",{src:!0,alt:!0}),Re=o(Ta,"SPAN",{});var $a=l(Re);gt=c($a,"Discord Developer Portal"),$a.forEach(t),Ta.forEach(t),ba.forEach(t),es=u(U),He=o(U,"LI",{});var qa=l(He);ts=c(qa,"\u9EDE\u64CA\u53F3\u4E0A\u89D2\u7684\u300CNew Application\u300D"),qa.forEach(t),ss=u(U),j=o(U,"LI",{});var _t=l(j);as=c(_t,"\u53D6\u540D\uFF0C\u672C\u6587\u7BC4\u4F8B\u53D6\u70BA "),Ue=o(_t,"CODE",{});var Va=l(Ue);os=c(Va,"OAuth Verify"),Va.forEach(t),ls=c(_t,"\uFF0C\u4E4B\u5F8C\u9EDE\u64CA\u300CCreate\u300D"),xe=o(_t,"UL",{});var Ma=l(xe);Be=o(Ma,"LI",{});var za=l(Be);ns=c(za,"\u6B64\u540D\u7A31\u6703\u986F\u793A\u65BC\u6388\u6B0A\u9801\u9762\u4E0A"),za.forEach(t),Ma.forEach(t),_t.forEach(t),cs=u(U),b=o(U,"LI",{});var Oe=l(b);rs=c(Oe,"\u8CC7\u8A0A\u9801\u53F3\u65B9\u7684 "),Ne=o(Oe,"CODE",{});var Ga=l(Ne);ps=c(Ga,"Client ID"),Ga.forEach(t),is=c(Oe," \u548C "),$e=o(Oe,"CODE",{});var Ka=l($e);ds=c(Ka,"Client Secert"),Ka.forEach(t),us=c(Oe," \u5F8C\u9762\u4E5F\u6703\u7528\u5230"),Oe.forEach(t),U.forEach(t),vt=u(e),ue=o(e,"H3",{});var Fa=l(ue);fs=c(Fa,"b. \u5EFA\u7ACB OAuth \u7528\u7684\u7DB2\u5740"),Fa.forEach(t),ht=u(e),I=o(e,"OL",{});var x=l(I);qe=o(x,"LI",{});var Qa=l(qe);_s=c(Qa,"\u9EDE\u64CA\u5DE6\u5074\u7684\u300COAuth2\u300D\u5206\u9801"),Qa.forEach(t),ks=u(x),fe=o(x,"LI",{});var Pa=l(fe);Es=c(Pa,"\u9EDE\u64CA\u53F3\u5074\u7684\u300CAdd Redirect\u300D\uFF0C\u8F38\u5165\u9A57\u8B49\u5B8C\u5F8C\u91CD\u5C0E\u5411\u7684\u7DB2\u5740"),T=o(Pa,"UL",{});var be=l(T);Ve=o(be,"LI",{});var Xa=l(Ve);vs=c(Xa,"\u4E5F\u5C31\u662F\u8981\u7528\u65BC\u9A57\u8B49\u767B\u5165\u7684\u7DB2\u5740"),Xa.forEach(t),hs=u(be),Me=o(be,"LI",{});var Wa=l(Me);ms=c(Wa,"\u4F8B\u5982\u672C\u6587\u6700\u4E0B\u65B9\u7684\u5BE6\u4F5C\u7BC4\u4F8B\uFF0C\u7DB2\u5740\u5C31\u662F\u672C\u6587\u9023\u7D50\uFF1A"),Wa.forEach(t),Ds=u(be),ze=o(be,"LI",{});var Za=l(ze);Ge=o(Za,"CODE",{});var Ja=l(Ge);Is=c(Ja,"https://f6bfb5.github.io/login-with-discord"),Ja.forEach(t),Za.forEach(t),be.forEach(t),Pa.forEach(t),ys=u(x),_e=o(x,"LI",{});var Sa=l(_e);Cs=c(Sa,"\u52FE\u9078\u4E0B\u65B9\u300CSCOPE\u300D\uFF08\u7D22\u53D6\u7684\u8CC7\u8A0A\u6B04\u4F4D\uFF09\u88E1\u7684"),N=o(Sa,"UL",{});var Kt=l(N);Ke=o(Kt,"LI",{});var Ya=l(Ke);Ls=c(Ya,"\u300Cidentify\u300D\uFF08Discord \u7684 ID\uFF09"),Ya.forEach(t),ws=u(Kt),Fe=o(Kt,"LI",{});var ga=l(Fe);Os=c(ga,"\u300Cemail\u300D"),ga.forEach(t),Kt.forEach(t),Sa.forEach(t),bs=u(x),ke=o(x,"LI",{});var ja=l(ke);Ts=c(ja,"\u5C31\u53EF\u65BC\u9801\u9762\u4E0B\u65B9\u53D6\u5F97\u8A8D\u8B49\u7528\u7684\u9023\u7D50"),Qe=o(ja,"UL",{});var eo=l(Qe);y=o(eo,"LI",{});var B=l(y);Ps=c(B,"\u4F8B\uFF1A"),Xe=o(B,"CODE",{});var to=l(Xe);Ss=c(to,"https://discord.com/api/oauth2/authorize?client_id="),to.forEach(t),js=c(B,"[CLIENT ID]"),We=o(B,"CODE",{});var so=l(We);As=c(so,"&redirect_uri="),so.forEach(t),Rs=c(B,"[REDIRECT URL]"),Ze=o(B,"CODE",{});var ao=l(Ze);Hs=c(ao,"&response_type=code&scope="),ao.forEach(t),Us=c(B,"[SCOPE]"),B.forEach(t),eo.forEach(t),ja.forEach(t),x.forEach(t),mt=u(e),$=o(e,"H2",{id:!0});var oo=l($);xs=c(oo,"2. \u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97\u300Ccode\u300D"),oo.forEach(t),Dt=u(e),A=o(e,"P",{});var Ft=l(A);Bs=c(Ft,"\u4F7F\u7528\u6B64\u8A8D\u8B49\u9023\u7D50\u767B\u5165\uFF0C\u91CD\u65B0\u5C0E\u5411\u5230\u7D50\u679C\u9801\u9762\u5F8C\uFF0C\u7DB2\u5740\u4E0A\u6703\u591A\u51FA\u4E00\u500B\u56DE\u50B3\u7684 "),Je=o(Ft,"CODE",{});var lo=l(Je);Ns=c(lo,"code"),lo.forEach(t),$s=c(Ft," \u53C3\u6578"),Ft.forEach(t),It=u(e),q=o(e,"H2",{id:!0});var no=l(q);qs=c(no,"3. \u4F7F\u7528\u300Ccode\u300D\u53D6\u5F97\u300Ctoken\u300D"),no.forEach(t),yt=u(e),w=o(e,"P",{});var Te=l(w);Vs=c(Te,"\u4F7F\u7528\u9019\u500B "),Ye=o(Te,"CODE",{});var co=l(Ye);Ms=c(co,"code"),co.forEach(t),zs=c(Te," \u9001\u51FA\u8ACB\u6C42\uFF0C\u53D6\u5F97 "),ge=o(Te,"CODE",{});var ro=l(ge);Gs=c(ro,"access_token"),ro.forEach(t),Ks=c(Te,"\uFF0C\u624D\u80FD\u5F97\u5230\u5B58\u53D6\u8CC7\u6599\u7684\u6B0A\u9650"),Te.forEach(t),Ct=u(e),Ee=o(e,"H3",{});var po=l(Ee);Fs=c(po,"a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),po.forEach(t),Lt=u(e),V=o(e,"PRE",{class:!0});var tl=l(V);tl.forEach(t),wt=u(e),M=o(e,"H3",{});var Aa=l(M);Qs=c(Aa,"b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 "),et=o(Aa,"CODE",{});var io=l(et);Xs=c(io,"access token"),io.forEach(t),Aa.forEach(t),Ot=u(e),z=o(e,"PRE",{class:!0});var sl=l(z);sl.forEach(t),bt=u(e),R=o(e,"UL",{});var Qt=l(R);H=o(Qt,"LI",{});var kt=l(H);tt=o(kt,"CODE",{});var uo=l(tt);Ws=c(uo,"code"),uo.forEach(t),Zs=c(kt," \u70BA\u4E00\u6B21\u6027\u4F7F\u7528\uFF0C\u540C\u4E00\u500B "),st=o(kt,"CODE",{});var fo=l(st);Js=c(fo,"code"),fo.forEach(t),Ys=c(kt," \u7121\u6CD5\u9032\u884C\u7B2C\u4E8C\u6B21\u5B58\u53D6"),kt.forEach(t),gs=u(Qt),G=o(Qt,"LI",{});var Xt=l(G);at=o(Xt,"CODE",{});var _o=l(at);ea=c(_o,"access token"),_o.forEach(t),ta=c(Xt," \u7684\u6709\u6548\u671F\u9650\u70BA 604800 \u79D2\uFF1D\u4E00\u500B\u79AE\u62DC"),ot=o(Xt,"UL",{});var ko=l(ot);K=o(ko,"LI",{});var Wt=l(K);sa=c(Wt,"\u82E5\u6709\u66F4\u65B0\u9700\u6C42\uFF0C\u9808\u4F7F\u7528\u56DE\u50B3\u5167\u5BB9\u4E2D\u7684 "),lt=o(Wt,"CODE",{});var Eo=l(lt);aa=c(Eo,"refresh token"),Eo.forEach(t),oa=c(Wt," \u91CD\u65B0\u9001\u51FA\u8ACB\u6C42"),Wt.forEach(t),ko.forEach(t),Xt.forEach(t),Qt.forEach(t),Tt=u(e),F=o(e,"H2",{id:!0});var vo=l(F);la=c(vo,"4. \u4F7F\u7528\u300Ctoken\u300D\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),vo.forEach(t),Pt=u(e),ve=o(e,"H3",{});var ho=l(ve);na=c(ho,"a. \u50B3\u9001 GET \u8ACB\u6C42\u5230 Discord API"),ho.forEach(t),St=u(e),Q=o(e,"PRE",{class:!0});var al=l(Q);al.forEach(t),jt=u(e),he=o(e,"H3",{});var mo=l(he);ca=c(mo,"b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97\u76F8\u95DC\u8CC7\u6599"),mo.forEach(t),At=u(e),X=o(e,"PRE",{class:!0});var ol=l(X);ol.forEach(t),Rt=u(e),me=o(e,"UL",{});var Do=l(me);P=o(Do,"LI",{});var Pe=l(P);ra=c(Pe,"\u982D\u50CF\u7DB2\u5740\u53EF\u4EE5\u4F7F\u7528\u300C"),nt=o(Pe,"CODE",{});var Io=l(nt);pa=c(Io,"https://cdn.discordapp.com/avatars/"),Io.forEach(t),ia=c(Pe,"[Discord ID]"),ct=o(Pe,"CODE",{});var yo=l(ct);da=c(yo,"/"),yo.forEach(t),ua=c(Pe,"[\u5927\u982D\u8CBC ID]\u300D\u53D6\u5F97"),Pe.forEach(t),Do.forEach(t),Ht=u(e),W=o(e,"H2",{id:!0});var Co=l(W);fa=c(Co,"5. \u4F7F\u7528 refresh token \u91CD\u65B0\u53D6\u5F97 access token"),Co.forEach(t),Ut=u(e),De=o(e,"H3",{});var Lo=l(De);_a=c(Lo,"a. \u50B3\u9001 POST \u8ACB\u6C42\u5230 Discord API"),Lo.forEach(t),xt=u(e),Z=o(e,"PRE",{class:!0});var ll=l(Z);ll.forEach(t),Bt=u(e),Ie=o(e,"H3",{});var wo=l(Ie);ka=c(wo,"b. \u82E5\u6210\u529F\u5C31\u53EF\u53D6\u5F97 access token"),wo.forEach(t),Nt=u(e),J=o(e,"PRE",{class:!0});var nl=l(J);nl.forEach(t),$t=u(e),Y=o(e,"H2",{id:!0});var Oo=l(Y);Ea=c(Oo,"\u7BC4\u4F8B"),Oo.forEach(t),qt=u(e),ye=o(e,"P",{});var bo=l(ye);va=c(bo,"\u4EE5\u4E0B\u793A\u7BC4\u900F\u904E\u6B64\u65B9\u5F0F\uFF0C\u53D6\u5F97\u4F60\u7684 Discord ID \u8207\u5927\u982D\u8CBC\u5716\u7247\u3002"),bo.forEach(t),Vt=u(e),g=o(e,"BUTTON",{id:!0});var To=l(g);ha=c(To,"Login with Discord"),To.forEach(t),Mt=u(e),Ce=o(e,"SPAN",{id:!0}),l(Ce).forEach(t),zt=u(e),C=o(e,"DIV",{class:!0,id:!0,style:!0});var Zt=l(C);Le=o(Zt,"IMG",{alt:!0,class:!0,id:!0}),ma=u(Zt),we=o(Zt,"DIV",{class:!0,id:!0}),l(we).forEach(t),Zt.forEach(t),Gt=u(e),ee=o(e,"DIV",{class:!0});var Po=l(ee);L=o(Po,"UL",{class:!0});var ce=l(L);rt=o(ce,"LI",{});var So=l(rt);te=o(So,"A",{href:!0,onclick:!0});var jo=l(te);Da=c(jo,"1. \u65BC Discord Developer Portal \u767B\u9304\u61C9\u7528"),jo.forEach(t),So.forEach(t),pt=o(ce,"LI",{});var Ao=l(pt);se=o(Ao,"A",{href:!0,onclick:!0});var Ro=l(se);Ia=c(Ro,"2. \u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97\u300Ccode\u300D"),Ro.forEach(t),Ao.forEach(t),it=o(ce,"LI",{});var Ho=l(it);ae=o(Ho,"A",{href:!0,onclick:!0});var Uo=l(ae);ya=c(Uo,"3. \u4F7F\u7528\u300Ccode\u300D\u53D6\u5F97\u300Ctoken\u300D"),Uo.forEach(t),Ho.forEach(t),dt=o(ce,"LI",{});var xo=l(dt);oe=o(xo,"A",{href:!0,onclick:!0});var Bo=l(oe);Ca=c(Bo,"4. \u4F7F\u7528\u300Ctoken\u300D\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),Bo.forEach(t),xo.forEach(t),ut=o(ce,"LI",{});var No=l(ut);le=o(No,"A",{href:!0,onclick:!0});var $o=l(le);La=c($o,"5. \u4F7F\u7528 refresh token \u91CD\u65B0\u53D6\u5F97 access token"),$o.forEach(t),No.forEach(t),ft=o(ce,"LI",{});var qo=l(ft);ne=o(qo,"A",{href:!0,onclick:!0});var Vo=l(ne);wa=c(Vo,"\u7BC4\u4F8B"),Vo.forEach(t),qo.forEach(t),ce.forEach(t),Po.forEach(t),this.h()},h(){Go(m.src,k="https://s2.googleusercontent.com/s2/favicons?domain=https://qiita.com/masayoshi4649/items/46fdb744cb8255f5eb98")||i(m,"src",k),i(m,"alt","\u300CDiscord \u306E ID \u3067\u30ED\u30B0\u30A4\u30F3\u300D\u3092\u5B9F\u88C5\u3059\u308B(Oauth2) - Qiita"),i(E,"href","https://qiita.com/masayoshi4649/items/46fdb744cb8255f5eb98"),i(E,"rel","noopener"),i(E,"target","_blank"),i(f,"id","js-id-1-\u65BC-discord-developer-portal-\u767B\u9304\u61C9\u7528"),Go(de.src,Ha="https://s2.googleusercontent.com/s2/favicons?domain=https://discord.com/developers/applications")||i(de,"src",Ha),i(de,"alt","Discord Developer Portal"),i(O,"href","https://discord.com/developers/applications"),i(O,"rel","noopener"),i(O,"target","_blank"),i($,"id","js-id-2-\u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97code"),i(q,"id","js-id-3-\u4F7F\u7528code\u53D6\u5F97token"),i(V,"class","language-bash"),i(z,"class","language-json"),i(F,"id","js-id-4-\u4F7F\u7528token\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),i(Q,"class","language-bash"),i(X,"class","language-json"),i(W,"id","js-id-5-\u4F7F\u7528-refresh-token-\u91CD\u65B0\u53D6\u5F97-access-token"),i(Z,"class","language-bash"),i(J,"class","language-json"),i(Y,"id","js-id-\u7BC4\u4F8B"),i(g,"id","js-discord-button"),i(Ce,"id","js-discord-status"),i(Le,"alt","profile"),i(Le,"class","discord-card--image svelte-9ys6tj"),i(Le,"id","js-discord-card--image"),i(we,"class","discord-card--username"),i(we,"id","js-discord-card--username"),i(C,"class","discord-card"),i(C,"id","js-discord-card"),hl(C,"display","none"),i(te,"href","#"),i(te,"onclick","document.querySelector('#js-id-1-\u65BC-discord-developer-portal-\u767B\u9304\u61C9\u7528').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),i(se,"href","#"),i(se,"onclick","document.querySelector('#js-id-2-\u5F9E\u8A8D\u8B49\u9023\u7D50\u53D6\u5F97code').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),i(ae,"href","#"),i(ae,"onclick","document.querySelector('#js-id-3-\u4F7F\u7528code\u53D6\u5F97token').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),i(oe,"href","#"),i(oe,"onclick","document.querySelector('#js-id-4-\u4F7F\u7528token\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),i(le,"href","#"),i(le,"onclick","document.querySelector('#js-id-5-\u4F7F\u7528-refresh-token-\u91CD\u65B0\u53D6\u5F97-access-token').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),i(ne,"href","#"),i(ne,"onclick","document.querySelector('#js-id-\u7BC4\u4F8B').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),i(L,"class","toc"),i(ee,"class","toc-container")},m(e,r){p(e,_,r),s(_,h),s(h,E),s(E,m),s(E,v),s(v,S),p(e,Se,r),p(e,f,r),s(f,je),p(e,Ae,r),p(e,pe,r),s(pe,Jt),p(e,Et,r),p(e,D,r),s(D,ie),s(ie,Yt),s(ie,O),s(O,de),s(O,Re),s(Re,gt),s(D,es),s(D,He),s(He,ts),s(D,ss),s(D,j),s(j,as),s(j,Ue),s(Ue,os),s(j,ls),s(j,xe),s(xe,Be),s(Be,ns),s(D,cs),s(D,b),s(b,rs),s(b,Ne),s(Ne,ps),s(b,is),s(b,$e),s($e,ds),s(b,us),p(e,vt,r),p(e,ue,r),s(ue,fs),p(e,ht,r),p(e,I,r),s(I,qe),s(qe,_s),s(I,ks),s(I,fe),s(fe,Es),s(fe,T),s(T,Ve),s(Ve,vs),s(T,hs),s(T,Me),s(Me,ms),s(T,Ds),s(T,ze),s(ze,Ge),s(Ge,Is),s(I,ys),s(I,_e),s(_e,Cs),s(_e,N),s(N,Ke),s(Ke,Ls),s(N,ws),s(N,Fe),s(Fe,Os),s(I,bs),s(I,ke),s(ke,Ts),s(ke,Qe),s(Qe,y),s(y,Ps),s(y,Xe),s(Xe,Ss),s(y,js),s(y,We),s(We,As),s(y,Rs),s(y,Ze),s(Ze,Hs),s(y,Us),p(e,mt,r),p(e,$,r),s($,xs),p(e,Dt,r),p(e,A,r),s(A,Bs),s(A,Je),s(Je,Ns),s(A,$s),p(e,It,r),p(e,q,r),s(q,qs),p(e,yt,r),p(e,w,r),s(w,Vs),s(w,Ye),s(Ye,Ms),s(w,zs),s(w,ge),s(ge,Gs),s(w,Ks),p(e,Ct,r),p(e,Ee,r),s(Ee,Fs),p(e,Lt,r),p(e,V,r),V.innerHTML=Wo,p(e,wt,r),p(e,M,r),s(M,Qs),s(M,et),s(et,Xs),p(e,Ot,r),p(e,z,r),z.innerHTML=Zo,p(e,bt,r),p(e,R,r),s(R,H),s(H,tt),s(tt,Ws),s(H,Zs),s(H,st),s(st,Js),s(H,Ys),s(R,gs),s(R,G),s(G,at),s(at,ea),s(G,ta),s(G,ot),s(ot,K),s(K,sa),s(K,lt),s(lt,aa),s(K,oa),p(e,Tt,r),p(e,F,r),s(F,la),p(e,Pt,r),p(e,ve,r),s(ve,na),p(e,St,r),p(e,Q,r),Q.innerHTML=Jo,p(e,jt,r),p(e,he,r),s(he,ca),p(e,At,r),p(e,X,r),X.innerHTML=Yo,p(e,Rt,r),p(e,me,r),s(me,P),s(P,ra),s(P,nt),s(nt,pa),s(P,ia),s(P,ct),s(ct,da),s(P,ua),p(e,Ht,r),p(e,W,r),s(W,fa),p(e,Ut,r),p(e,De,r),s(De,_a),p(e,xt,r),p(e,Z,r),Z.innerHTML=go,p(e,Bt,r),p(e,Ie,r),s(Ie,ka),p(e,Nt,r),p(e,J,r),J.innerHTML=el,p(e,$t,r),p(e,Y,r),s(Y,Ea),p(e,qt,r),p(e,ye,r),s(ye,va),p(e,Vt,r),p(e,g,r),s(g,ha),p(e,Mt,r),p(e,Ce,r),p(e,zt,r),p(e,C,r),s(C,Le),s(C,ma),s(C,we),p(e,Gt,r),p(e,ee,r),s(ee,L),s(L,rt),s(rt,te),s(te,Da),s(L,pt),s(pt,se),s(se,Ia),s(L,it),s(it,ae),s(ae,ya),s(L,dt),s(dt,oe),s(oe,Ca),s(L,ut),s(ut,le),s(le,La),s(L,ft),s(ft,ne),s(ne,wa)},p:ml,d(e){e&&t(_),e&&t(Se),e&&t(f),e&&t(Ae),e&&t(pe),e&&t(Et),e&&t(D),e&&t(vt),e&&t(ue),e&&t(ht),e&&t(I),e&&t(mt),e&&t($),e&&t(Dt),e&&t(A),e&&t(It),e&&t(q),e&&t(yt),e&&t(w),e&&t(Ct),e&&t(Ee),e&&t(Lt),e&&t(V),e&&t(wt),e&&t(M),e&&t(Ot),e&&t(z),e&&t(bt),e&&t(R),e&&t(Tt),e&&t(F),e&&t(Pt),e&&t(ve),e&&t(St),e&&t(Q),e&&t(jt),e&&t(he),e&&t(At),e&&t(X),e&&t(Rt),e&&t(me),e&&t(Ht),e&&t(W),e&&t(Ut),e&&t(De),e&&t(xt),e&&t(Z),e&&t(Bt),e&&t(Ie),e&&t(Nt),e&&t(J),e&&t($t),e&&t(Y),e&&t(qt),e&&t(ye),e&&t(Vt),e&&t(g),e&&t(Mt),e&&t(Ce),e&&t(zt),e&&t(C),e&&t(Gt),e&&t(ee)}}}function yl(re){let _,h;const E=[re[0],Ko];let m={$$slots:{default:[Il]},$$scope:{ctx:re}};for(let k=0;k<E.length;k+=1)m=Ra(m,E[k]);return _=new Dl({props:m}),{c(){il(_.$$.fragment)},l(k){dl(_.$$.fragment,k)},m(k,v){ul(_,k,v),h=!0},p(k,[v]){const S=v&1?fl(E,[v&1&&Mo(k[0]),v&0&&Mo(Ko)]):{};v&2&&(S.$$scope={dirty:v,ctx:k}),_.$set(S)},i(k){h||(_l(_.$$.fragment,k),h=!0)},o(k){kl(_.$$.fragment,k),h=!1},d(k){El(_,k)}}}const Ko={title:"\u5BE6\u4F5C\u300C\u4F7F\u7528Discord\u767B\u5165\u300D",date:"2021-01-14T00:24:23.000Z",tags:"F2E"},Fo="798950274114781204",Qo="https://f6bfb5.github.io/login-with-discord",Xo="identify email";function Cl(){document.location.href=`https://discord.com/api/oauth2/authorize
?client_id=${Fo}
&redirect_uri=${encodeURIComponent(Qo)}
&response_type=code
&scope=${encodeURIComponent(Xo)}`}function Ll(re,_,h){return vl(()=>{document.getElementById("js-discord-button").addEventListener("click",Cl);const E=new URLSearchParams(window.location.search);if(E.has("code")){const m="3c-TeN5NxElL4la8E6h5BlT4zDHigser",k="https://discordapp.com/api/oauth2/token",v={client_id:Fo,client_secret:m,grant_type:"authorization_code",code:E.get("code"),redirect_uri:Qo,scope:Xo},S=Object.keys(v).map(f=>encodeURIComponent(f)+"="+encodeURIComponent(v[f])).join("&");fetch(k,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:S}).then(function(f){if(!f.ok)throw new Error(f.statusText);return document.getElementById("js-discord-status").innerText="token got",f.json()}).then(function(f){let je=f.access_token;return fetch("https://discordapp.com/api/users/@me",{method:"GET",headers:{authorization:"Bearer "+je}})}).then(function(f){if(!f.ok)throw new Error(f.statusText);return document.getElementById("js-discord-status").innerText="user data got",f.json()}).catch(function(f){document.getElementById("js-discord-status").innerText=f}).then(function(f){f!=null&&(document.getElementById("js-discord-card").style.display="block",document.getElementById("js-discord-card--image").src=`https://cdn.discordapp.com/avatars/${f.id}/${f.avatar}`,document.getElementById("js-discord-card--username").innerText=`${f.username}#${f.discriminator}`)})}else document.getElementById("js-discord-status").innerText="Not logged in"}),re.$$set=E=>{h(0,_=Ra(Ra({},_),zo(E)))},_=zo(_),[_]}class Tl extends cl{constructor(_){super(),rl(this,_,Ll,yl,pl,{})}}export{Tl as default,Ko as metadata};
