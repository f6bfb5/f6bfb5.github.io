import{S as Sl,i as bl,s as jl,C as _a,w as Rl,x as Pl,y as xl,z as Bl,A as Al,q as $l,o as Nl,B as Gl,v as Ml,_ as Ul,e as s,t as o,k as r,c as n,a,h as c,d as e,m as p,b as i,H as be,f as zl,g as k,I as t,E as Vl}from"../../chunks/index-8418cccc.js";import{P as ql}from"../../chunks/_post-d4b6a172.js";import"../../chunks/BlinkAnchor-aec4dee8.js";function Hl(at){let f,_,v,L,u,h,lt,g,ot,va,$t,as,ls,Nt,os,cs,ct,is,y,Gt,rs,ps,it,us,B,Mt,ds,hs,rt,fs,zt,Vt,qt,ks,_s,Ht,vs,Es,$,ms,Ft,Is,ws,je,N,Jt,Ls,Re,S,pt,gs,E,ut,ys,G,Wt,As,Us,Yt,Ts,Cs,dt,Ds,M,Zt,Os,Ss,Kt,bs,js,ht,Rs,A,ft,Ps,Qt,Xt,xs,Bs,kt,$s,z,te,Ns,Gs,ee,Ms,zs,_t,Vs,V,se,qs,Hs,vt,Fs,q,ne,Js,Ws,ae,Ys,Zs,Et,Ks,le,mt,Qs,U,It,Ea,oe,Xs,tn,ce,en,Pe,b,wt,sn,m,w,ie,nn,an,re,ln,on,pe,cn,rn,pn,Lt,un,ue,de,dn,hn,gt,fn,H,he,kn,_n,fe,vn,En,yt,mn,F,ke,In,wn,_e,T,At,ma,ve,Ln,gn,Ut,yn,Ee,Tt,An,me,J,Un,Ie,Tn,Cn,xe,W,we,Dn,Be,j,Ct,On,Y,Le,C,Dt,Ia,ge,Sn,bn,ye,Ot,Dl=`<code class="language-javascript"><span class="token keyword">const</span> userApiUrl <span class="token operator">=</span> <span class="token string">"https://api.twitch.tv/helix/users"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> urlParams <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> resultData <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span>userApiUrl<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// \u5F9E\u7DB2\u5740\u53D6\u5F97\u91CD\u5C0E\u5411\u56DE\u50B3\u7684 access token</span>
    <span class="token literal-property property">Authorization</span><span class="token operator">:</span> <span class="token string">"Bearer "</span> <span class="token operator">+</span> urlParams<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"#access_token"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">"Client-Id"</span><span class="token operator">:</span> clientID<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"js-twitch-card"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span>
      <span class="token comment">// \u8CC7\u6599\u6703\u4F4D\u65BC\u56DE\u50B3\u7684 data \u5C6C\u6027\u88E1</span>
      document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>
        <span class="token string">"js-twitch-card--image"</span>
      <span class="token punctuation">)</span><span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>r<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>profile_image_url<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>
        <span class="token string">"js-twitch-card--username"</span>
      <span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>r<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>login<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>r<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>display_name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">)</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>`,jn,St,Rn,D,bt,wa,Ae,Pn,$e,Z,Ue,xn,Ne,K,Bn,Ge,jt,Me,I,Rt,$n,Pt,ze,Q,O,Te,X,Nn,Ce,tt,Gn,De,et,Mn,Oe,st,zn;return{c(){f=s("h2"),_=s("strong"),v=o("1. \u65BC Twitch developers console \u767B\u9304\u61C9\u7528"),L=r(),u=s("ol"),h=s("li"),lt=o("\u767B\u5165 "),g=s("a"),ot=s("img"),$t=s("span"),as=o("Twitch Developers"),ls=r(),Nt=s("li"),os=o("\u300CRegister Your Application\u300D"),cs=r(),ct=s("li"),is=o("\u53D6\u540D\uFF0C\u672C\u6587\u7BC4\u4F8B\u53D6\u70BA\u300COAuth Verify\u300D"),y=s("ul"),Gt=s("li"),rs=o("\u6B64\u540D\u7A31\u6703\u986F\u793A\u65BC\u6388\u6B0A\u9801\u9762\u4E0A"),ps=r(),it=s("li"),us=o("\u4EE5\u53CA\u8F38\u5165\u9A57\u8B49\u5B8C\u5F8C\u91CD\u5C0E\u5411\u7684\u7DB2\u5740"),B=s("ul"),Mt=s("li"),ds=o("\u4E5F\u5C31\u662F\u8981\u7528\u65BC\u9A57\u8B49\u767B\u5165\u7684\u7DB2\u5740"),hs=r(),rt=s("li"),fs=o("\u672C\u6587\u5BE6\u4F5C\u7BC4\u4F8B\u7684\u7DB2\u5740\u5C31\u662F\u6B64\u9801\u9762\u9023\u7D50\uFF1A"),zt=s("ul"),Vt=s("li"),qt=s("code"),ks=o("https://f6bfb5.github.io/login-with-twitch"),_s=r(),Ht=s("li"),vs=o("\u300CCreate\u300D"),Es=r(),$=s("li"),ms=o("\u300CManage\u300D\u53D6\u5F97 "),Ft=s("code"),Is=o("Client ID"),ws=o("\uFF0C\u4E4B\u5F8C\u6703\u7528\u5230"),je=r(),N=s("h2"),Jt=s("strong"),Ls=o("2. \u9032\u884C\u8A8D\u8B49\u53D6\u5F97 access token"),Re=r(),S=s("ul"),pt=s("li"),gs=o("Twitch API \u5206\u6709\u5169\u7A2E access token"),E=s("ul"),ut=s("li"),ys=o("User access tokens"),G=s("ul"),Wt=s("li"),As=o("\u7528\u65BC\u9700\u8981\u4F7F\u7528\u8005\u6388\u6B0A\u624D\u80FD\u5B58\u53D6\u7684\u8CC7\u6E90"),Us=r(),Yt=s("li"),Ts=o("\u4F8B\u5982\u53D6\u5F97\u804A\u5929\u5BA4\u4F7F\u7528\u8005\u6E05\u55AE\u3001\u4F7F\u7528\u8005\u7684\u4FE1\u7BB1"),Cs=r(),dt=s("li"),Ds=o("App access tokens"),M=s("ul"),Zt=s("li"),Os=o("\u7528\u65BC\u4E0D\u9700\u8981\u4F7F\u7528\u8005\u6388\u6B0A\u5C31\u80FD\u53D6\u5F97\u7684\u8CC7\u6E90"),Ss=r(),Kt=s("li"),bs=o("\u4F8B\u5982\u53D6\u5F97\u4F7F\u7528\u8005\u7684\u5F71\u7247\u4E00\u89BD"),js=r(),ht=s("li"),Rs=o("\u5176\u4E2D User access tokens \u6709\u5169\u7A2E\u6388\u6B0A\u8A8D\u8B49\u65B9\u5F0F\u53EF\u53D6\u5F97"),A=s("ul"),ft=s("li"),Ps=o("Implicit grant flow"),Qt=s("ul"),Xt=s("li"),xs=o("\u7528\u65BC\u4E0D\u9700\u8981\u4F3A\u670D\u5668\u7684\u61C9\u7528"),Bs=r(),kt=s("li"),$s=o("Authorization code grant flow"),z=s("ul"),te=s("li"),Ns=o("\u7528\u65BC\u9700\u8981\u4F3A\u670D\u5668\u7684\u61C9\u7528"),Gs=r(),ee=s("li"),Ms=o("\u53EF\u4EE5\u5132\u5B58 client secret\uFF0C\u4EE5\u53CA\u50B3\u9001\u4F3A\u670D\u5668\u8ACB\u6C42"),zs=r(),_t=s("li"),Vs=o("\u4E26\u5404\u63D0\u4F9B\u5169\u7A2E\u8A8D\u8B49\u6A5F\u5236"),V=s("ul"),se=s("li"),qs=o("OAuth"),Hs=r(),vt=s("li"),Fs=o("OpenID Connect"),q=s("ul"),ne=s("li"),Js=o("\u57FA\u65BC OAuth 2.0 \u7684\u7C21\u6613\u8A8D\u8B49\u5C64"),Ws=r(),ae=s("li"),Ys=o("\u6703\u53E6\u6709\u4E00\u500B\u4EE5 JSON Web Token \u7DE8\u78BC\u8EAB\u4EFD\u4EE4\u724C\u7684 ID token"),Zs=r(),Et=s("li"),Ks=o("App access tokens \u5247\u662F\u900F\u904E OAuth Client Credentials Flow \u53D6\u5F97"),le=s("ul"),mt=s("li"),Qs=o("\u8A73\u7D30\u53EF\u53C3\u7167 "),U=s("a"),It=s("img"),oe=s("span"),Xs=o("Authentication"),tn=r(),ce=s("li"),en=o("\u4EE5 OAuth Implicit Code Flow \u70BA\u7BC4\u4F8B"),Pe=r(),b=s("ol"),wt=s("li"),sn=o("\u5EFA\u7ACB OAuth \u7528\u7684\u7DB2\u5740"),m=s("ul"),w=s("li"),ie=s("code"),nn=o("https://id.twitch.tv/oauth2/authorize?response_type=token&client_id="),an=o("[CLIENT ID]"),re=s("code"),ln=o("&redirect_uri="),on=o("[REDIRECT URL]"),pe=s("code"),cn=o("&scope="),rn=o("[SCOPE]"),pn=r(),Lt=s("li"),un=o("Client ID"),ue=s("ul"),de=s("li"),dn=o("\u65BC\u7B2C\u4E00\u6B65\u53D6\u5F97"),hn=r(),gt=s("li"),fn=o("Redirect URL"),H=s("ul"),he=s("li"),kn=o("\u91CD\u5C0E\u5411\u7DB2\u5740"),_n=r(),fe=s("li"),vn=o("\u672C\u6587\u7BC4\u4F8B\u4EE5\u6B64\u9801\u9762\u4F5C\u70BA\u9023\u7D50"),En=r(),yt=s("li"),mn=o("Scope"),F=s("ul"),ke=s("li"),In=o("\u8981\u53D6\u5F97\u7684\u6388\u6B0A\u5167\u5BB9"),wn=r(),_e=s("li"),T=s("a"),At=s("img"),ve=s("span"),Ln=o("Twitch Access Token Scopes"),gn=r(),Ut=s("li"),yn=o("\u9A57\u8B49\u4E4B\u5F8C\u53D6\u5F97 access token"),Ee=s("ul"),Tt=s("li"),An=o("Implicit grant flow \u6703\u5C07 access token \u56DE\u50B3\u5230\u7DB2\u5740\u4E0A"),me=s("ul"),J=s("li"),Un=o("JavaScript \u53EF\u4F7F\u7528 "),Ie=s("code"),Tn=o("document.location.hash"),Cn=o(" \u53D6\u5F97"),xe=r(),W=s("h2"),we=s("strong"),Dn=o("3. \u4F7F\u7528 access token \u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),Be=r(),j=s("ul"),Ct=s("li"),On=o("\u4F7F\u7528 access token \u5373\u53EF\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),Y=s("ul"),Le=s("li"),C=s("a"),Dt=s("img"),ge=s("span"),Sn=o("Get Users"),bn=r(),ye=s("li"),Ot=s("pre"),jn=r(),St=s("li"),Rn=o("API \u4E00\u89BD\uFF1A"),D=s("a"),bt=s("img"),Ae=s("span"),Pn=o("Reference"),$e=r(),Z=s("h2"),Ue=s("strong"),xn=o("\u7BC4\u4F8B"),Ne=r(),K=s("button"),Bn=o("Login with Twitch"),Ge=r(),jt=s("span"),Me=r(),I=s("div"),Rt=s("img"),$n=r(),Pt=s("div"),ze=r(),Q=s("div"),O=s("ul"),Te=s("li"),X=s("a"),Nn=o("undefined"),Ce=s("li"),tt=s("a"),Gn=o("undefined"),De=s("li"),et=s("a"),Mn=o("undefined"),Oe=s("li"),st=s("a"),zn=o("undefined"),this.h()},l(l){f=n(l,"H2",{id:!0});var d=a(f);_=n(d,"STRONG",{});var La=a(_);v=c(La,"1. \u65BC Twitch developers console \u767B\u9304\u61C9\u7528"),La.forEach(e),d.forEach(e),L=p(l),u=n(l,"OL",{});var R=a(u);h=n(R,"LI",{});var Vn=a(h);lt=c(Vn,"\u767B\u5165 "),g=n(Vn,"A",{href:!0,rel:!0,target:!0});var qn=a(g);ot=n(qn,"IMG",{src:!0,alt:!0}),$t=n(qn,"SPAN",{});var ga=a($t);as=c(ga,"Twitch Developers"),ga.forEach(e),qn.forEach(e),Vn.forEach(e),ls=p(R),Nt=n(R,"LI",{});var ya=a(Nt);os=c(ya,"\u300CRegister Your Application\u300D"),ya.forEach(e),cs=p(R),ct=n(R,"LI",{});var Hn=a(ct);is=c(Hn,"\u53D6\u540D\uFF0C\u672C\u6587\u7BC4\u4F8B\u53D6\u70BA\u300COAuth Verify\u300D"),y=n(Hn,"UL",{});var xt=a(y);Gt=n(xt,"LI",{});var Aa=a(Gt);rs=c(Aa,"\u6B64\u540D\u7A31\u6703\u986F\u793A\u65BC\u6388\u6B0A\u9801\u9762\u4E0A"),Aa.forEach(e),ps=p(xt),it=n(xt,"LI",{});var Fn=a(it);us=c(Fn,"\u4EE5\u53CA\u8F38\u5165\u9A57\u8B49\u5B8C\u5F8C\u91CD\u5C0E\u5411\u7684\u7DB2\u5740"),B=n(Fn,"UL",{});var Ve=a(B);Mt=n(Ve,"LI",{});var Ua=a(Mt);ds=c(Ua,"\u4E5F\u5C31\u662F\u8981\u7528\u65BC\u9A57\u8B49\u767B\u5165\u7684\u7DB2\u5740"),Ua.forEach(e),hs=p(Ve),rt=n(Ve,"LI",{});var Jn=a(rt);fs=c(Jn,"\u672C\u6587\u5BE6\u4F5C\u7BC4\u4F8B\u7684\u7DB2\u5740\u5C31\u662F\u6B64\u9801\u9762\u9023\u7D50\uFF1A"),zt=n(Jn,"UL",{});var Ta=a(zt);Vt=n(Ta,"LI",{});var Ca=a(Vt);qt=n(Ca,"CODE",{});var Da=a(qt);ks=c(Da,"https://f6bfb5.github.io/login-with-twitch"),Da.forEach(e),Ca.forEach(e),Ta.forEach(e),Jn.forEach(e),Ve.forEach(e),Fn.forEach(e),_s=p(xt),Ht=n(xt,"LI",{});var Oa=a(Ht);vs=c(Oa,"\u300CCreate\u300D"),Oa.forEach(e),xt.forEach(e),Hn.forEach(e),Es=p(R),$=n(R,"LI",{});var qe=a($);ms=c(qe,"\u300CManage\u300D\u53D6\u5F97 "),Ft=n(qe,"CODE",{});var Sa=a(Ft);Is=c(Sa,"Client ID"),Sa.forEach(e),ws=c(qe,"\uFF0C\u4E4B\u5F8C\u6703\u7528\u5230"),qe.forEach(e),R.forEach(e),je=p(l),N=n(l,"H2",{id:!0});var ba=a(N);Jt=n(ba,"STRONG",{});var ja=a(Jt);Ls=c(ja,"2. \u9032\u884C\u8A8D\u8B49\u53D6\u5F97 access token"),ja.forEach(e),ba.forEach(e),Re=p(l),S=n(l,"UL",{});var He=a(S);pt=n(He,"LI",{});var Wn=a(pt);gs=c(Wn,"Twitch API \u5206\u6709\u5169\u7A2E access token"),E=n(Wn,"UL",{});var P=a(E);ut=n(P,"LI",{});var Yn=a(ut);ys=c(Yn,"User access tokens"),G=n(Yn,"UL",{});var Fe=a(G);Wt=n(Fe,"LI",{});var Ra=a(Wt);As=c(Ra,"\u7528\u65BC\u9700\u8981\u4F7F\u7528\u8005\u6388\u6B0A\u624D\u80FD\u5B58\u53D6\u7684\u8CC7\u6E90"),Ra.forEach(e),Us=p(Fe),Yt=n(Fe,"LI",{});var Pa=a(Yt);Ts=c(Pa,"\u4F8B\u5982\u53D6\u5F97\u804A\u5929\u5BA4\u4F7F\u7528\u8005\u6E05\u55AE\u3001\u4F7F\u7528\u8005\u7684\u4FE1\u7BB1"),Pa.forEach(e),Fe.forEach(e),Yn.forEach(e),Cs=p(P),dt=n(P,"LI",{});var Zn=a(dt);Ds=c(Zn,"App access tokens"),M=n(Zn,"UL",{});var Je=a(M);Zt=n(Je,"LI",{});var xa=a(Zt);Os=c(xa,"\u7528\u65BC\u4E0D\u9700\u8981\u4F7F\u7528\u8005\u6388\u6B0A\u5C31\u80FD\u53D6\u5F97\u7684\u8CC7\u6E90"),xa.forEach(e),Ss=p(Je),Kt=n(Je,"LI",{});var Ba=a(Kt);bs=c(Ba,"\u4F8B\u5982\u53D6\u5F97\u4F7F\u7528\u8005\u7684\u5F71\u7247\u4E00\u89BD"),Ba.forEach(e),Je.forEach(e),Zn.forEach(e),js=p(P),ht=n(P,"LI",{});var Kn=a(ht);Rs=c(Kn,"\u5176\u4E2D User access tokens \u6709\u5169\u7A2E\u6388\u6B0A\u8A8D\u8B49\u65B9\u5F0F\u53EF\u53D6\u5F97"),A=n(Kn,"UL",{});var Bt=a(A);ft=n(Bt,"LI",{});var Qn=a(ft);Ps=c(Qn,"Implicit grant flow"),Qt=n(Qn,"UL",{});var $a=a(Qt);Xt=n($a,"LI",{});var Na=a(Xt);xs=c(Na,"\u7528\u65BC\u4E0D\u9700\u8981\u4F3A\u670D\u5668\u7684\u61C9\u7528"),Na.forEach(e),$a.forEach(e),Qn.forEach(e),Bs=p(Bt),kt=n(Bt,"LI",{});var Xn=a(kt);$s=c(Xn,"Authorization code grant flow"),z=n(Xn,"UL",{});var We=a(z);te=n(We,"LI",{});var Ga=a(te);Ns=c(Ga,"\u7528\u65BC\u9700\u8981\u4F3A\u670D\u5668\u7684\u61C9\u7528"),Ga.forEach(e),Gs=p(We),ee=n(We,"LI",{});var Ma=a(ee);Ms=c(Ma,"\u53EF\u4EE5\u5132\u5B58 client secret\uFF0C\u4EE5\u53CA\u50B3\u9001\u4F3A\u670D\u5668\u8ACB\u6C42"),Ma.forEach(e),We.forEach(e),Xn.forEach(e),zs=p(Bt),_t=n(Bt,"LI",{});var ta=a(_t);Vs=c(ta,"\u4E26\u5404\u63D0\u4F9B\u5169\u7A2E\u8A8D\u8B49\u6A5F\u5236"),V=n(ta,"UL",{});var Ye=a(V);se=n(Ye,"LI",{});var za=a(se);qs=c(za,"OAuth"),za.forEach(e),Hs=p(Ye),vt=n(Ye,"LI",{});var ea=a(vt);Fs=c(ea,"OpenID Connect"),q=n(ea,"UL",{});var Ze=a(q);ne=n(Ze,"LI",{});var Va=a(ne);Js=c(Va,"\u57FA\u65BC OAuth 2.0 \u7684\u7C21\u6613\u8A8D\u8B49\u5C64"),Va.forEach(e),Ws=p(Ze),ae=n(Ze,"LI",{});var qa=a(ae);Ys=c(qa,"\u6703\u53E6\u6709\u4E00\u500B\u4EE5 JSON Web Token \u7DE8\u78BC\u8EAB\u4EFD\u4EE4\u724C\u7684 ID token"),qa.forEach(e),Ze.forEach(e),ea.forEach(e),Ye.forEach(e),ta.forEach(e),Bt.forEach(e),Kn.forEach(e),Zs=p(P),Et=n(P,"LI",{});var sa=a(Et);Ks=c(sa,"App access tokens \u5247\u662F\u900F\u904E OAuth Client Credentials Flow \u53D6\u5F97"),le=n(sa,"UL",{});var Ha=a(le);mt=n(Ha,"LI",{});var na=a(mt);Qs=c(na,"\u8A73\u7D30\u53EF\u53C3\u7167 "),U=n(na,"A",{href:!0,rel:!0,target:!0});var aa=a(U);It=n(aa,"IMG",{src:!0,alt:!0}),oe=n(aa,"SPAN",{});var Fa=a(oe);Xs=c(Fa,"Authentication"),Fa.forEach(e),aa.forEach(e),na.forEach(e),Ha.forEach(e),sa.forEach(e),P.forEach(e),Wn.forEach(e),tn=p(He),ce=n(He,"LI",{});var Ja=a(ce);en=c(Ja,"\u4EE5 OAuth Implicit Code Flow \u70BA\u7BC4\u4F8B"),Ja.forEach(e),He.forEach(e),Pe=p(l),b=n(l,"OL",{});var Ke=a(b);wt=n(Ke,"LI",{});var la=a(wt);sn=c(la,"\u5EFA\u7ACB OAuth \u7528\u7684\u7DB2\u5740"),m=n(la,"UL",{});var x=a(m);w=n(x,"LI",{});var nt=a(w);ie=n(nt,"CODE",{});var Wa=a(ie);nn=c(Wa,"https://id.twitch.tv/oauth2/authorize?response_type=token&client_id="),Wa.forEach(e),an=c(nt,"[CLIENT ID]"),re=n(nt,"CODE",{});var Ya=a(re);ln=c(Ya,"&redirect_uri="),Ya.forEach(e),on=c(nt,"[REDIRECT URL]"),pe=n(nt,"CODE",{});var Za=a(pe);cn=c(Za,"&scope="),Za.forEach(e),rn=c(nt,"[SCOPE]"),nt.forEach(e),pn=p(x),Lt=n(x,"LI",{});var oa=a(Lt);un=c(oa,"Client ID"),ue=n(oa,"UL",{});var Ka=a(ue);de=n(Ka,"LI",{});var Qa=a(de);dn=c(Qa,"\u65BC\u7B2C\u4E00\u6B65\u53D6\u5F97"),Qa.forEach(e),Ka.forEach(e),oa.forEach(e),hn=p(x),gt=n(x,"LI",{});var ca=a(gt);fn=c(ca,"Redirect URL"),H=n(ca,"UL",{});var Qe=a(H);he=n(Qe,"LI",{});var Xa=a(he);kn=c(Xa,"\u91CD\u5C0E\u5411\u7DB2\u5740"),Xa.forEach(e),_n=p(Qe),fe=n(Qe,"LI",{});var tl=a(fe);vn=c(tl,"\u672C\u6587\u7BC4\u4F8B\u4EE5\u6B64\u9801\u9762\u4F5C\u70BA\u9023\u7D50"),tl.forEach(e),Qe.forEach(e),ca.forEach(e),En=p(x),yt=n(x,"LI",{});var ia=a(yt);mn=c(ia,"Scope"),F=n(ia,"UL",{});var Xe=a(F);ke=n(Xe,"LI",{});var el=a(ke);In=c(el,"\u8981\u53D6\u5F97\u7684\u6388\u6B0A\u5167\u5BB9"),el.forEach(e),wn=p(Xe),_e=n(Xe,"LI",{});var sl=a(_e);T=n(sl,"A",{href:!0,rel:!0,target:!0});var ra=a(T);At=n(ra,"IMG",{src:!0,alt:!0}),ve=n(ra,"SPAN",{});var nl=a(ve);Ln=c(nl,"Twitch Access Token Scopes"),nl.forEach(e),ra.forEach(e),sl.forEach(e),Xe.forEach(e),ia.forEach(e),x.forEach(e),la.forEach(e),gn=p(Ke),Ut=n(Ke,"LI",{});var pa=a(Ut);yn=c(pa,"\u9A57\u8B49\u4E4B\u5F8C\u53D6\u5F97 access token"),Ee=n(pa,"UL",{});var al=a(Ee);Tt=n(al,"LI",{});var ua=a(Tt);An=c(ua,"Implicit grant flow \u6703\u5C07 access token \u56DE\u50B3\u5230\u7DB2\u5740\u4E0A"),me=n(ua,"UL",{});var ll=a(me);J=n(ll,"LI",{});var ts=a(J);Un=c(ts,"JavaScript \u53EF\u4F7F\u7528 "),Ie=n(ts,"CODE",{});var ol=a(Ie);Tn=c(ol,"document.location.hash"),ol.forEach(e),Cn=c(ts," \u53D6\u5F97"),ts.forEach(e),ll.forEach(e),ua.forEach(e),al.forEach(e),pa.forEach(e),Ke.forEach(e),xe=p(l),W=n(l,"H2",{id:!0});var cl=a(W);we=n(cl,"STRONG",{});var il=a(we);Dn=c(il,"3. \u4F7F\u7528 access token \u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),il.forEach(e),cl.forEach(e),Be=p(l),j=n(l,"UL",{});var es=a(j);Ct=n(es,"LI",{});var da=a(Ct);On=c(da,"\u4F7F\u7528 access token \u5373\u53EF\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),Y=n(da,"UL",{});var ss=a(Y);Le=n(ss,"LI",{});var rl=a(Le);C=n(rl,"A",{href:!0,rel:!0,target:!0});var ha=a(C);Dt=n(ha,"IMG",{src:!0,alt:!0}),ge=n(ha,"SPAN",{});var pl=a(ge);Sn=c(pl,"Get Users"),pl.forEach(e),ha.forEach(e),rl.forEach(e),bn=p(ss),ye=n(ss,"LI",{});var ul=a(ye);Ot=n(ul,"PRE",{class:!0});var Ol=a(Ot);Ol.forEach(e),ul.forEach(e),ss.forEach(e),da.forEach(e),jn=p(es),St=n(es,"LI",{});var fa=a(St);Rn=c(fa,"API \u4E00\u89BD\uFF1A"),D=n(fa,"A",{href:!0,rel:!0,target:!0});var ka=a(D);bt=n(ka,"IMG",{src:!0,alt:!0}),Ae=n(ka,"SPAN",{});var dl=a(Ae);Pn=c(dl,"Reference"),dl.forEach(e),ka.forEach(e),fa.forEach(e),es.forEach(e),$e=p(l),Z=n(l,"H2",{id:!0});var hl=a(Z);Ue=n(hl,"STRONG",{});var fl=a(Ue);xn=c(fl,"\u7BC4\u4F8B"),fl.forEach(e),hl.forEach(e),Ne=p(l),K=n(l,"BUTTON",{id:!0});var kl=a(K);Bn=c(kl,"Login with Twitch"),kl.forEach(e),Ge=p(l),jt=n(l,"SPAN",{id:!0}),a(jt).forEach(e),Me=p(l),I=n(l,"DIV",{class:!0,id:!0,style:!0});var ns=a(I);Rt=n(ns,"IMG",{alt:!0,class:!0,id:!0}),$n=p(ns),Pt=n(ns,"DIV",{class:!0,id:!0}),a(Pt).forEach(e),ns.forEach(e),ze=p(l),Q=n(l,"DIV",{class:!0});var _l=a(Q);O=n(_l,"UL",{class:!0});var Se=a(O);Te=n(Se,"LI",{});var vl=a(Te);X=n(vl,"A",{href:!0,onclick:!0});var El=a(X);Nn=c(El,"undefined"),El.forEach(e),vl.forEach(e),Ce=n(Se,"LI",{});var ml=a(Ce);tt=n(ml,"A",{href:!0,onclick:!0});var Il=a(tt);Gn=c(Il,"undefined"),Il.forEach(e),ml.forEach(e),De=n(Se,"LI",{});var wl=a(De);et=n(wl,"A",{href:!0,onclick:!0});var Ll=a(et);Mn=c(Ll,"undefined"),Ll.forEach(e),wl.forEach(e),Oe=n(Se,"LI",{});var gl=a(Oe);st=n(gl,"A",{href:!0,onclick:!0});var yl=a(st);zn=c(yl,"undefined"),yl.forEach(e),gl.forEach(e),Se.forEach(e),_l.forEach(e),this.h()},h(){i(f,"id","js-id-1-\u65BC-twitch-developers-console-\u767B\u9304\u61C9\u7528"),be(ot.src,va="https://s2.googleusercontent.com/s2/favicons?domain=https://dev.twitch.tv/console/apps")||i(ot,"src",va),i(ot,"alt","Twitch Developers"),i(g,"href","https://dev.twitch.tv/console/apps"),i(g,"rel","noopener"),i(g,"target","_blank"),i(N,"id","js-id-2-\u9032\u884C\u8A8D\u8B49\u53D6\u5F97-access-token"),be(It.src,Ea="https://s2.googleusercontent.com/s2/favicons?domain=https://dev.twitch.tv/docs/authentication/#user-access-tokens")||i(It,"src",Ea),i(It,"alt","Authentication"),i(U,"href","https://dev.twitch.tv/docs/authentication/#user-access-tokens"),i(U,"rel","noopener"),i(U,"target","_blank"),be(At.src,ma="https://s2.googleusercontent.com/s2/favicons?domain=https://dev.twitch.tv/docs/authentication/scopes/#twitch-api-scopes")||i(At,"src",ma),i(At,"alt","Twitch Access Token Scopes"),i(T,"href","https://dev.twitch.tv/docs/authentication/scopes/#twitch-api-scopes"),i(T,"rel","noopener"),i(T,"target","_blank"),i(W,"id","js-id-3-\u4F7F\u7528-access-token-\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599"),be(Dt.src,Ia="https://s2.googleusercontent.com/s2/favicons?domain=https://dev.twitch.tv/docs/api/reference/#get-users")||i(Dt,"src",Ia),i(Dt,"alt","Get Users"),i(C,"href","https://dev.twitch.tv/docs/api/reference/#get-users"),i(C,"rel","noopener"),i(C,"target","_blank"),i(Ot,"class","language-javascript"),be(bt.src,wa="https://s2.googleusercontent.com/s2/favicons?domain=https://dev.twitch.tv/docs/api/reference/")||i(bt,"src",wa),i(bt,"alt","Reference"),i(D,"href","https://dev.twitch.tv/docs/api/reference/"),i(D,"rel","noopener"),i(D,"target","_blank"),i(Z,"id","js-id-\u7BC4\u4F8B"),i(K,"id","js-twitch-button"),i(jt,"id","js-twitch-status"),i(Rt,"alt","profile"),i(Rt,"class","twitch-card--image svelte-17600ve"),i(Rt,"id","js-twitch-card--image"),i(Pt,"class","twitch-card--username"),i(Pt,"id","js-twitch-card--username"),i(I,"class","twitch-card"),i(I,"id","js-twitch-card"),zl(I,"display","none"),i(X,"href","#"),i(X,"onclick","document.querySelector('#js-id-1-\u65BC-twitch-developers-console-\u767B\u9304\u61C9\u7528').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),i(tt,"href","#"),i(tt,"onclick","document.querySelector('#js-id-2-\u9032\u884C\u8A8D\u8B49\u53D6\u5F97-access-token').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),i(et,"href","#"),i(et,"onclick","document.querySelector('#js-id-3-\u4F7F\u7528-access-token-\u53D6\u5F97\u4F7F\u7528\u8005\u8CC7\u6599').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),i(st,"href","#"),i(st,"onclick","document.querySelector('#js-id-\u7BC4\u4F8B').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();"),i(O,"class","toc"),i(Q,"class","toc-container")},m(l,d){k(l,f,d),t(f,_),t(_,v),k(l,L,d),k(l,u,d),t(u,h),t(h,lt),t(h,g),t(g,ot),t(g,$t),t($t,as),t(u,ls),t(u,Nt),t(Nt,os),t(u,cs),t(u,ct),t(ct,is),t(ct,y),t(y,Gt),t(Gt,rs),t(y,ps),t(y,it),t(it,us),t(it,B),t(B,Mt),t(Mt,ds),t(B,hs),t(B,rt),t(rt,fs),t(rt,zt),t(zt,Vt),t(Vt,qt),t(qt,ks),t(y,_s),t(y,Ht),t(Ht,vs),t(u,Es),t(u,$),t($,ms),t($,Ft),t(Ft,Is),t($,ws),k(l,je,d),k(l,N,d),t(N,Jt),t(Jt,Ls),k(l,Re,d),k(l,S,d),t(S,pt),t(pt,gs),t(pt,E),t(E,ut),t(ut,ys),t(ut,G),t(G,Wt),t(Wt,As),t(G,Us),t(G,Yt),t(Yt,Ts),t(E,Cs),t(E,dt),t(dt,Ds),t(dt,M),t(M,Zt),t(Zt,Os),t(M,Ss),t(M,Kt),t(Kt,bs),t(E,js),t(E,ht),t(ht,Rs),t(ht,A),t(A,ft),t(ft,Ps),t(ft,Qt),t(Qt,Xt),t(Xt,xs),t(A,Bs),t(A,kt),t(kt,$s),t(kt,z),t(z,te),t(te,Ns),t(z,Gs),t(z,ee),t(ee,Ms),t(A,zs),t(A,_t),t(_t,Vs),t(_t,V),t(V,se),t(se,qs),t(V,Hs),t(V,vt),t(vt,Fs),t(vt,q),t(q,ne),t(ne,Js),t(q,Ws),t(q,ae),t(ae,Ys),t(E,Zs),t(E,Et),t(Et,Ks),t(Et,le),t(le,mt),t(mt,Qs),t(mt,U),t(U,It),t(U,oe),t(oe,Xs),t(S,tn),t(S,ce),t(ce,en),k(l,Pe,d),k(l,b,d),t(b,wt),t(wt,sn),t(wt,m),t(m,w),t(w,ie),t(ie,nn),t(w,an),t(w,re),t(re,ln),t(w,on),t(w,pe),t(pe,cn),t(w,rn),t(m,pn),t(m,Lt),t(Lt,un),t(Lt,ue),t(ue,de),t(de,dn),t(m,hn),t(m,gt),t(gt,fn),t(gt,H),t(H,he),t(he,kn),t(H,_n),t(H,fe),t(fe,vn),t(m,En),t(m,yt),t(yt,mn),t(yt,F),t(F,ke),t(ke,In),t(F,wn),t(F,_e),t(_e,T),t(T,At),t(T,ve),t(ve,Ln),t(b,gn),t(b,Ut),t(Ut,yn),t(Ut,Ee),t(Ee,Tt),t(Tt,An),t(Tt,me),t(me,J),t(J,Un),t(J,Ie),t(Ie,Tn),t(J,Cn),k(l,xe,d),k(l,W,d),t(W,we),t(we,Dn),k(l,Be,d),k(l,j,d),t(j,Ct),t(Ct,On),t(Ct,Y),t(Y,Le),t(Le,C),t(C,Dt),t(C,ge),t(ge,Sn),t(Y,bn),t(Y,ye),t(ye,Ot),Ot.innerHTML=Dl,t(j,jn),t(j,St),t(St,Rn),t(St,D),t(D,bt),t(D,Ae),t(Ae,Pn),k(l,$e,d),k(l,Z,d),t(Z,Ue),t(Ue,xn),k(l,Ne,d),k(l,K,d),t(K,Bn),k(l,Ge,d),k(l,jt,d),k(l,Me,d),k(l,I,d),t(I,Rt),t(I,$n),t(I,Pt),k(l,ze,d),k(l,Q,d),t(Q,O),t(O,Te),t(Te,X),t(X,Nn),t(O,Ce),t(Ce,tt),t(tt,Gn),t(O,De),t(De,et),t(et,Mn),t(O,Oe),t(Oe,st),t(st,zn)},p:Vl,d(l){l&&e(f),l&&e(L),l&&e(u),l&&e(je),l&&e(N),l&&e(Re),l&&e(S),l&&e(Pe),l&&e(b),l&&e(xe),l&&e(W),l&&e(Be),l&&e(j),l&&e($e),l&&e(Z),l&&e(Ne),l&&e(K),l&&e(Ge),l&&e(jt),l&&e(Me),l&&e(I),l&&e(ze),l&&e(Q)}}}function Fl(at){let f,_;const v=[at[0],Tl];let L={$$slots:{default:[Hl]},$$scope:{ctx:at}};for(let u=0;u<v.length;u+=1)L=_a(L,v[u]);return f=new ql({props:L}),{c(){Rl(f.$$.fragment)},l(u){Pl(f.$$.fragment,u)},m(u,h){xl(f,u,h),_=!0},p(u,[h]){const lt=h&1?Bl(v,[h&1&&Al(u[0]),h&0&&Al(Tl)]):{};h&2&&(lt.$$scope={dirty:h,ctx:u}),f.$set(lt)},i(u){_||($l(f.$$.fragment,u),_=!0)},o(u){Nl(f.$$.fragment,u),_=!1},d(u){Gl(f,u)}}}const Tl={title:"\u5BE6\u4F5C\u300C\u4F7F\u7528Twitch\u767B\u5165\u300D",date:"2023-05-02T20:11:13.000Z",tags:"F2E"},Cl="duo2s0lhrxlom9n2h2z9gppy137xwn",Jl="https://f6bfb5.github.io/login-with-twitch",Wl="";function Yl(){document.location.href=`https://id.twitch.tv/oauth2/authorize
?client_id=${Cl}
&redirect_uri=${encodeURIComponent(Jl)}
&response_type=token
&scope=${encodeURIComponent(Wl)}`}function Zl(at,f,_){return Ml(()=>{document.getElementById("js-twitch-button").addEventListener("click",Yl);const v=new URLSearchParams(window.location.hash);v.has("#access_token")?fetch("https://api.twitch.tv/helix/users",{method:"GET",headers:{Authorization:"Bearer "+v.get("#access_token"),"Client-Id":Cl}}).then(function(h){if(!h.ok)throw new Error(h.statusText);return document.getElementById("js-twitch-status").innerText="user data got",h.json()}).catch(function(h){document.getElementById("js-twitch-status").innerText=h}).then(function(h){h!=null&&(document.getElementById("js-twitch-card").style.display="block",document.getElementById("js-twitch-card--image").src=`${h.data[0].profile_image_url}`,document.getElementById("js-twitch-card--username").innerText=`${h.data[0].login}(${h.data[0].display_name})`)}):document.getElementById("js-twitch-status").innerText="Not logged in"}),at.$$set=v=>{_(0,f=_a(_a({},f),Ul(v)))},f=Ul(f),[f]}class to extends Sl{constructor(f){super(),bl(this,f,Zl,Fl,jl,{})}}export{to as default,Tl as metadata};
