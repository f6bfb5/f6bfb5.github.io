<!doctype html> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=global.css rel=stylesheet> <link href=fonts.css rel=stylesheet> <link href=highlight.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=favicon.png rel=icon type=image/png> <link href=client/main.738921814.css rel=stylesheet> <noscript id=sapper-head-start></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114661136-2"></script><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js data-ad-client=ca-pub-9613661448556355> </script><title>前端筆記 (7) 網頁測試</title><meta content=article property=og:type><meta content="前端筆記 (7) 網頁測試" property=og:title><meta content="" name=Description><meta content="" property=og:description><meta content=summary_large_image name=twitter:card><meta name=twitter:title value="前端筆記 (7) 網頁測試"><meta content="" name=twitter:description><meta name=twitter:label1 value="Published on"><meta name=twitter:data1 value="Jul 18, 2019"><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <div class="svelte-wjh32h layout"> <header class=svelte-310tmg> <nav class=svelte-dvivxn> <a href=. class=svelte-dvivxn>blog</a> <a href=about class=svelte-dvivxn>about</a> <a href=rss.xml class=svelte-dvivxn>rss</a> </nav> <a href=/ > <img alt=Sapper class=svelte-nsstmh src=logo-192.png> </a> </header> <main class=svelte-wjh32h> <header class=svelte-7rau0t> <h1 class=svelte-7rau0t>前端筆記 (7) 網頁測試</h1> <p class=svelte-7rau0t>July 18, 2019</p> </header> <div class=container> <article class=content> <ul> <li><a href=https://medium.com/yusong-blog/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%AB%E5%9C%A8github%E4%B8%8A%E6%8C%81%E7%BA%8C%E6%95%B4%E5%90%88%E8%88%87%E9%83%A8%E7%BD%B2-ci-cd-9735f622ae68 rel=nofollow target=_blank>前端工程師在 GitHub 上持續整合與部署(CI/CD)</a></li> <li><a href=https://qiita.com/Daara_y/items/4f006ead604e015186dc rel=nofollow target=_blank>Chrome の拡張機能を 2 つ使うだけでブラウザの操作を自動化！？ - Qiita</a></li> <li><a href=https://qiita.com/nezuq/items/c5e827e1827e7cb29011 rel=nofollow target=_blank>Web スクレイピングの注意事項一覧 - Qiita</a></li> <li><a href=https://qiita.com/Azunyan1111/items/b161b998790b1db2ff7a rel=nofollow target=_blank>Python Web スクレイピング テクニック集「取得できない値は無い」JavaScript 対応@追記あり 6/12 - Qiita</a></li> <li><a href=https://hackmd.io/Jsn8miqHQdWUUdqgrIc9Cg rel=nofollow target=_blank>六角學院線上分享單元測試 QA 區</a></li> <li><a href=https://github.com/ms314006/step-by-step-unit-testing rel=nofollow target=_blank>step-by-step-unit-testing</a></li> </ul> <h2 id=1-selenium>1. <a href=https://selenium.dev/ rel=nofollow target=_blank>Selenium</a></h2> <h2 id=2-jest>2. <a href=https://jestjs.io/ rel=nofollow target=_blank>Jest</a></h2> <h3 id=安裝>安裝</h3> <p><code>npm install --save-dev jest</code> <code>yarn add puppeteer jest</code></p> <h3 id=使用>使用</h3> <p><code>util.test.js</code></p> <p><code>test()</code> 是 Jest 提供的 function， 第一個參數為文字敘述，第二個參數則是傳入一個 function <code>expect()</code> 是傳入要接受測試的函式 <code>toBe()</code> 是預期得到的結果</p> <p><code>npm run jest</code>: 測試所有的測試檔案 <code>npm run jest [檔案]</code>: 測試指定檔案</p> <h3 id=參考>參考</h3> <ul> <li><a href=https://wcc723.github.io/development/2020/02/02/jest-intro/ rel=nofollow target=_blank>十分鐘上手前端單元測試 - 使用 Jest</a></li> <li><a href=https://medium.com/enjoy-life-enjoy-coding/%E8%AE%93-jest-%E7%82%BA%E4%BD%A0%E7%9A%84-code-%E5%81%9A%E5%96%AE%E5%85%83%E6%B8%AC%E8%A9%A6-%E5%9F%BA%E7%A4%8E%E7%94%A8%E6%B3%95%E6%95%99%E5%AD%B8-d898f11d9a23 rel=nofollow target=_blank>Jest | 讓 Jest 為你的 Code 做測試-基礎用法教學</a></li> </ul> <h2 id=3-cypressio>3. <a href=https://www.cypress.io/ rel=nofollow target=_blank>Cypress.io</a></h2> <h2 id=4-storybook>4. <a href=https://storybook.js.org/ rel=nofollow target=_blank>Storybook</a></h2> <h2 id=5-nightwatch>5. <a href=https://nightwatchjs.org/ rel=nofollow target=_blank>Nightwatch</a></h2> <h2 id=6-puppeteer>6. <a href=https://github.com/puppeteer/puppeteer rel=nofollow target=_blank>Puppeteer</a></h2> <h3 id=簡介>簡介</h3> <p>Puppter 是由 Google Chrome 官方團隊所推出的無界面 (Headless) Chrome 工具，是一套 Node 的 Library，提供 API 透過 DevTools Protocol 控制無介面的 Chrome，亦可透過調整參數使用完整版的 Chrome。</p> <p>常見用途：</p> <ul> <li>產生網頁頁面的截圖或 PDF 檔</li> <li>抓取 Single Page Application 產生預覽內容 (Server-Side Rendering)</li> <li>從網站上抓取想要的內容</li> <li>自動送出表單、測試 UI、控制輸入</li> <li>建構自動化測試環境</li> </ul> <h3 id=安裝-1>安裝</h3> <p><code>yarn add puppeteer</code> <code>npm i puppeteer</code></p> <h3 id=使用-1>使用</h3> <pre class=language-js><code class=language-js><span class="token keyword">const</span> puppeteer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'puppeteer'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">''</span>

<span class="token punctuation">(</span><span class="token keyword">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> browser <span class="token operator">=</span> <span class="token keyword">await</span><span class="token punctuation">.</span>puppeteer<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>

  <span class="token comment">// action here...</span>

  <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h4 id=可進行操作>可進行操作</h4> <p>截圖: <code>await page.screenshot({path: 'screenshot.png'})</code></p> <p>只截取特定部份:</p> <pre class=language-js><code class=language-js><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">screenshot</span><span class="token punctuation">(</span><span class="token punctuation">{</span>path<span class="token operator">:</span> 'screenshot_h1<span class="token punctuation">.</span>png<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>執行 JS:</p> <pre class=language-js><code class=language-js><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> h1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"h1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  h1<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">"hoge"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>點擊: <code>await page.click('.button_element')</code></p> <pre class=language-js><code class=language-js><span class="token keyword">let</span> button_element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".button_element"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> button_element<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>等待: <code>await page.waitForNavigation({waitUntil: 'domcontentloaded'})</code> <code>await page.waitFor('.lazy')</code> <code>await page.waitFor(5000)</code></p> <p>取得 DOM 樹:</p> <pre class=language-js><code class=language-js><span class="token keyword">const</span> bodyHandle <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token keyword">await</span><span class="token punctuation">.</span>page<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token parameter">body</span> <span class="token operator">=></span> body<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span>bodyHandle<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id=參考-1>參考</h3> <ul> <li><a href=https://zhaoqize.github.io/puppeteer-api-zh_CN/#/ rel=nofollow target=_blank>Puppeteer v2.1.1 API</a></li> <li><a href=https://techblog.gmo-ap.jp/2018/12/28/puppeteer%E3%81%A7%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%93%E3%81%A8%E3%81%BE%E3%81%A8%E3%82%81/ rel=nofollow target=_blank>Puppeteer でできることまとめ</a></li> <li><a href=https://ithelp.ithome.com.tw/articles/10202445 rel=nofollow target=_blank>Day 17 Puppeteer API 介紹 - class: Page method part 3 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天</a></li> <li><a href=https://qiita.com/KawamotoShuji/items/878ae659a5c6e540343e rel=nofollow target=_blank>うるるを Puppeteer でスクレイピングしてみた</a></li> <li><a href=https://qiita.com/go_sagawa/items/85f97deab7ccfdce53ea rel=nofollow target=_blank>puppeteer での要素の取得方法</a></li> <li><a href=https://github.com/chenxiaochun/blog/issues/38 rel=nofollow target=_blank>Puppeteer：模拟浏览器操作行为的利器</a></li> <li><a href=https://blog.techbridge.cc/2019/07/13/medium-crawler/ rel=nofollow target=_blank>Medium 爬蟲進化史</a></li> <li><a href=https://blog.typeart.cc/using-puppeteer-crawler-common-skills/ rel=nofollow target=_blank>Puppeteer 爬蟲常用技巧</a></li> <li><a href=https://github.com/puppeteer/puppeteer/blob/main/examples/block-images.js rel=nofollow target=_blank>puppeteer/block-images.js at main · puppeteer/puppeteer</a></li> <li><a href=https://github.com/puppeteer/puppeteer/blob/main/docs/api.md#pagesetrequestinterceptionvalue rel=nofollow target=_blank>puppeteer/api.md at main · puppeteer/puppeteer</a></li> </ul> <h2 id=文章>文章</h2> <ul> <li><a href=https://www.ptt.cc/bbs/Soft_Job/M.1332567899.A.C00.html rel=nofollow target=_blank>[閒聊] 笑談軟體測試的幾個階段（一） - 看板 Soft_Job - 批踢踢實業坊</a></li> <li><a href=https://www.ptt.cc/bbs/Soft_Job/M.1332601969.A.342.html rel=nofollow target=_blank>[閒聊] 笑談軟體測試的幾個階段（二） - 看板 Soft_Job - 批踢踢實業坊</a></li> <li><a href=https://www.ptt.cc/bbs/Soft_Job/M.1332681709.A.EB4.html rel=nofollow target=_blank>[閒聊] 笑談軟體測試的幾個階段（三） - 看板 Soft_Job - 批踢踢實業坊</a></li> <li><a href=https://www.ptt.cc/bbs/Soft_Job/M.1332697283.A.630.html rel=nofollow target=_blank>[閒聊] 笑談軟體測試的幾個階段（四） - 看板 Soft_Job - 批踢踢實業坊</a></li> <li><a href=https://www.ptt.cc/bbs/Soft_Job/M.1332863702.A.076.html rel=nofollow target=_blank>[閒聊] 笑談軟體測試的幾個階段（五） 測試權重 - 看板 Soft_Job - 批踢踢實業坊</a></li> <li><a href=https://www.ptt.cc/bbs/Soft_Job/M.1597938487.A.566.html rel=nofollow target=_blank>[心得] 笑談軟體測試的幾個階段（六） 歷史代碼 - 看板 Soft_Job - 批踢踢實業坊</a></li> </ul> </article> </div> </main> <footer class=svelte-wjh32h> <span> <a href=https://creativecommons.org/licenses/by-sa/4.0/ rel="noreferrer noopener nofollow" target=_blank>CC BY-SA 4.0.</a> </span> </footer> </div></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,{post:{title:"前端筆記 (7) 網頁測試",slug:"f2e-07-unittest",html:"\u003Cul\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fmedium.com\u002Fyusong-blog\u002F%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%AB%E5%9C%A8github%E4%B8%8A%E6%8C%81%E7%BA%8C%E6%95%B4%E5%90%88%E8%88%87%E9%83%A8%E7%BD%B2-ci-cd-9735f622ae68\"\u003E前端工程師在 GitHub 上持續整合與部署(CI\u002FCD)\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fqiita.com\u002FDaara_y\u002Fitems\u002F4f006ead604e015186dc\"\u003EChrome の拡張機能を 2 つ使うだけでブラウザの操作を自動化！？ - Qiita\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fqiita.com\u002Fnezuq\u002Fitems\u002Fc5e827e1827e7cb29011\"\u003EWeb スクレイピングの注意事項一覧 - Qiita\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fqiita.com\u002FAzunyan1111\u002Fitems\u002Fb161b998790b1db2ff7a\"\u003EPython Web スクレイピング テクニック集「取得できない値は無い」JavaScript 対応@追記あり 6\u002F12 - Qiita\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fhackmd.io\u002FJsn8miqHQdWUUdqgrIc9Cg\"\u003E六角學院線上分享單元測試 QA 區\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fgithub.com\u002Fms314006\u002Fstep-by-step-unit-testing\"\u003Estep-by-step-unit-testing\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"1-selenium\"\u003E1. \u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fselenium.dev\u002F\"\u003ESelenium\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Ch2 id=\"2-jest\"\u003E2. \u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fjestjs.io\u002F\"\u003EJest\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Ch3 id=\"安裝\"\u003E安裝\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Ccode\u003Enpm install --save-dev jest\u003C\u002Fcode\u003E\n\u003Ccode\u003Eyarn add puppeteer jest\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Ch3 id=\"使用\"\u003E使用\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Ccode\u003Eutil.test.js\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ccode\u003Etest()\u003C\u002Fcode\u003E 是 Jest 提供的 function，\n第一個參數為文字敘述，第二個參數則是傳入一個 function\n\u003Ccode\u003Eexpect()\u003C\u002Fcode\u003E 是傳入要接受測試的函式\n\u003Ccode\u003EtoBe()\u003C\u002Fcode\u003E 是預期得到的結果\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ccode\u003Enpm run jest\u003C\u002Fcode\u003E: 測試所有的測試檔案\n\u003Ccode\u003Enpm run jest [檔案]\u003C\u002Fcode\u003E: 測試指定檔案\u003C\u002Fp\u003E\n\u003Ch3 id=\"參考\"\u003E參考\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fwcc723.github.io\u002Fdevelopment\u002F2020\u002F02\u002F02\u002Fjest-intro\u002F\"\u003E十分鐘上手前端單元測試 - 使用 Jest\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fmedium.com\u002Fenjoy-life-enjoy-coding\u002F%E8%AE%93-jest-%E7%82%BA%E4%BD%A0%E7%9A%84-code-%E5%81%9A%E5%96%AE%E5%85%83%E6%B8%AC%E8%A9%A6-%E5%9F%BA%E7%A4%8E%E7%94%A8%E6%B3%95%E6%95%99%E5%AD%B8-d898f11d9a23\"\u003EJest | 讓 Jest 為你的 Code 做測試-基礎用法教學\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"3-cypressio\"\u003E3. \u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fwww.cypress.io\u002F\"\u003ECypress.io\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Ch2 id=\"4-storybook\"\u003E4. \u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fstorybook.js.org\u002F\"\u003EStorybook\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Ch2 id=\"5-nightwatch\"\u003E5. \u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fnightwatchjs.org\u002F\"\u003ENightwatch\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Ch2 id=\"6-puppeteer\"\u003E6. \u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fgithub.com\u002Fpuppeteer\u002Fpuppeteer\"\u003EPuppeteer\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Ch3 id=\"簡介\"\u003E簡介\u003C\u002Fh3\u003E\n\u003Cp\u003EPuppter 是由 Google Chrome 官方團隊所推出的無界面 (Headless) Chrome 工具，是一套 Node 的 Library，提供 API 透過 DevTools Protocol 控制無介面的 Chrome，亦可透過調整參數使用完整版的 Chrome。\u003C\u002Fp\u003E\n\u003Cp\u003E常見用途：\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E產生網頁頁面的截圖或 PDF 檔\u003C\u002Fli\u003E\n\u003Cli\u003E抓取 Single Page Application 產生預覽內容 (Server-Side Rendering)\u003C\u002Fli\u003E\n\u003Cli\u003E從網站上抓取想要的內容\u003C\u002Fli\u003E\n\u003Cli\u003E自動送出表單、測試 UI、控制輸入\u003C\u002Fli\u003E\n\u003Cli\u003E建構自動化測試環境\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"安裝-1\"\u003E安裝\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Ccode\u003Eyarn add puppeteer\u003C\u002Fcode\u003E\n\u003Ccode\u003Enpm i puppeteer\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Ch3 id=\"使用-1\"\u003E使用\u003C\u002Fh3\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E puppeteer \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'puppeteer'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E url \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E''\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token keyword\"\u003Easync\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E browser \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eawait\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Epuppeteer\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Elaunch\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E page \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eawait\u003C\u002Fspan\u003E browser\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EnewPage\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Eawait\u003C\u002Fspan\u003E page\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Egoto\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eurl\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"token comment\"\u003E\u002F\u002F action here...\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"token keyword\"\u003Eawait\u003C\u002Fspan\u003E browser\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Eclose\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch4 id=\"可進行操作\"\u003E可進行操作\u003C\u002Fh4\u003E\n\u003Cp\u003E截圖: \u003Ccode\u003Eawait page.screenshot({path: &#39;screenshot.png&#39;})\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E只截取特定部份:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E element \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eawait\u003C\u002Fspan\u003E page\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003E$\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'h1'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eawait\u003C\u002Fspan\u003E element\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Escreenshot\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003Epath\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E 'screenshot_h1\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Epng\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E執行 JS:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Eawait\u003C\u002Fspan\u003E page\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Eevaluate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E h1 \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E document\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EquerySelector\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"h1\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n  h1\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EtextContent \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"hoge\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E點擊: \u003Ccode\u003Eawait page.click(&#39;.button_element&#39;)\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Elet\u003C\u002Fspan\u003E button_element \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eawait\u003C\u002Fspan\u003E page\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003E$\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\".button_element\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eawait\u003C\u002Fspan\u003E button_element\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Eclick\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E等待: \u003Ccode\u003Eawait page.waitForNavigation({waitUntil: &#39;domcontentloaded&#39;})\u003C\u002Fcode\u003E\n\u003Ccode\u003Eawait page.waitFor(&#39;.lazy&#39;)\u003C\u002Fcode\u003E\n\u003Ccode\u003Eawait page.waitFor(5000)\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E取得 DOM 樹:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E bodyHandle \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eawait\u003C\u002Fspan\u003E page\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003E$\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'body'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E html \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eawait\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Epage\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Eevaluate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Ebody\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E body\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EinnerHTML\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EbodyHandle\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\nconsole\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ehtml\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"參考-1\"\u003E參考\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fzhaoqize.github.io\u002Fpuppeteer-api-zh_CN\u002F#\u002F\"\u003EPuppeteer v2.1.1 API\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Ftechblog.gmo-ap.jp\u002F2018\u002F12\u002F28\u002Fpuppeteer%E3%81%A7%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%93%E3%81%A8%E3%81%BE%E3%81%A8%E3%82%81\u002F\"\u003EPuppeteer でできることまとめ\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fithelp.ithome.com.tw\u002Farticles\u002F10202445\"\u003EDay 17 Puppeteer API 介紹 - class: Page method part 3 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fqiita.com\u002FKawamotoShuji\u002Fitems\u002F878ae659a5c6e540343e\"\u003Eうるるを Puppeteer でスクレイピングしてみた\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fqiita.com\u002Fgo_sagawa\u002Fitems\u002F85f97deab7ccfdce53ea\"\u003Epuppeteer での要素の取得方法\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fgithub.com\u002Fchenxiaochun\u002Fblog\u002Fissues\u002F38\"\u003EPuppeteer：模拟浏览器操作行为的利器\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fblog.techbridge.cc\u002F2019\u002F07\u002F13\u002Fmedium-crawler\u002F\"\u003EMedium 爬蟲進化史\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fblog.typeart.cc\u002Fusing-puppeteer-crawler-common-skills\u002F\"\u003EPuppeteer 爬蟲常用技巧\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fgithub.com\u002Fpuppeteer\u002Fpuppeteer\u002Fblob\u002Fmain\u002Fexamples\u002Fblock-images.js\"\u003Epuppeteer\u002Fblock-images.js at main · puppeteer\u002Fpuppeteer\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fgithub.com\u002Fpuppeteer\u002Fpuppeteer\u002Fblob\u002Fmain\u002Fdocs\u002Fapi.md#pagesetrequestinterceptionvalue\"\u003Epuppeteer\u002Fapi.md at main · puppeteer\u002Fpuppeteer\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"文章\"\u003E文章\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fwww.ptt.cc\u002Fbbs\u002FSoft_Job\u002FM.1332567899.A.C00.html\"\u003E[閒聊] 笑談軟體測試的幾個階段（一） - 看板 Soft_Job - 批踢踢實業坊\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fwww.ptt.cc\u002Fbbs\u002FSoft_Job\u002FM.1332601969.A.342.html\"\u003E[閒聊] 笑談軟體測試的幾個階段（二） - 看板 Soft_Job - 批踢踢實業坊\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fwww.ptt.cc\u002Fbbs\u002FSoft_Job\u002FM.1332681709.A.EB4.html\"\u003E[閒聊] 笑談軟體測試的幾個階段（三） - 看板 Soft_Job - 批踢踢實業坊\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fwww.ptt.cc\u002Fbbs\u002FSoft_Job\u002FM.1332697283.A.630.html\"\u003E[閒聊] 笑談軟體測試的幾個階段（四） - 看板 Soft_Job - 批踢踢實業坊\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fwww.ptt.cc\u002Fbbs\u002FSoft_Job\u002FM.1332863702.A.076.html\"\u003E[閒聊] 笑談軟體測試的幾個階段（五） 測試權重 - 看板 Soft_Job - 批踢踢實業坊\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fwww.ptt.cc\u002Fbbs\u002FSoft_Job\u002FM.1597938487.A.566.html\"\u003E[心得] 笑談軟體測試的幾個階段（六） 歷史代碼 - 看板 Soft_Job - 批踢踢實業坊\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n",date:"2019-07-18T07:16:11.000Z",excerpt:"",printDate:"July 18, 2019",printReadingTime:"2 min read"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.2ba93e08.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main","/client/client.2ba93e08.js")}document.head.appendChild(s)</script> 