{"title":"CSS Susy 3","slug":"css-susy3","html":"<p>Susy 3 是一套用於快速計算網格分割尺寸用的工具。</p>\n<h3 id=\"安裝\">安裝</h3>\n<ol>\n<li>npm</li>\n</ol>\n<ul>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://www.oddbird.net/susy/docs/\">Offical Document</a></li>\n</ul>\n<p><code>npm install susy</code></p>\n<p>有 <code>無前綴詞彙</code> 與 <code>附前綴詞彙</code> 的兩種版本可以使用。</p>\n<pre class=\"language-\"><code class=\"language-\">// 無前綴版\n@import '<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path-to</span><span class=\"token punctuation\">></span></span>/susy/sass/susy';\n\n// 附前綴版\n@import '<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path-to</span><span class=\"token punctuation\">></span></span>/susy/sass/susy-prefix';</code></pre><p>除錯用網格背景上色</p>\n<pre class=\"language-\"><code class=\"language-\">// 無前綴版\n@import '<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path-to</span><span class=\"token punctuation\">></span></span>/susy/sass/plugins/svg-grid';\n\n// 附前綴版\n@import '<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path-to</span><span class=\"token punctuation\">></span></span>/susy/sass/plugins/svg-grid/prefix';\n\n.container {\n  background: susy-svg-grid() no-repeat scroll;\n}</code></pre><ol start=\"2\">\n<li>webpack</li>\n</ol>\n<ul>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"http://jsnwork.kiiuo.com/archives/2803/css-susy3-%e5%ae%89%e8%a3%9d%e6%95%99%e5%ad%b81%ef%bc%8c%e9%80%8f%e9%81%8e-webpack-%e5%be%9e%e9%a0%ad%e9%96%8b%e5%a7%8b%e5%bb%ba%e7%ab%8b%e6%9e%b6%e6%a7%8b/\">CSS – SUSY3 – 安裝教學(1)，透過 webpack 從頭開始建立架構</a></li>\n</ul>\n<ol start=\"3\">\n<li>Codepen</li>\n</ol>\n<p>將預處理器改為 SCSS ，在 CSS 來源裡引入這兩個 pen：\nSusy 3 - Codepen\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://codepen.io/mirisuzanne/pen/awdMoa\">https://codepen.io/mirisuzanne/pen/awdMoa</a>\nSusy 3 SVG Image Plugin - Codepen\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://codepen.io/mirisuzanne/pen/QgyoWp\">https://codepen.io/mirisuzanne/pen/QgyoWp</a></p>\n<h3 id=\"設定變數\">設定變數</h3>\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://www.oddbird.net/2017/06/28/susy3/\">Welcome to Susy3!</a></p>\n<h4 id=\"1-columns-格線佈局的水平空間\">1. <code>$columns</code> 格線佈局的水平空間</h4>\n<p>對應至 CSS 網格系統的 <code>$grid-template-columns</code>，設定切分成幾份欄位。</p>\n<pre class=\"language-css=\"><code class=\"language-css=\">// 對稱的 layouts\n$grid-template-columns: repeat(12, 120px);\n$columns: susy-repeat(12, 120px);\n\n// 不對稱的混合 layouts\n$grid-template-columns: 120px repeat(4, 1fr) 30em;\n$columns: 120px susy-repeat(4) 30em;</code></pre><p>CSS 網格系統在流動欄位上使用 <code>fr</code> 單位， Susy 裡則使用無單位數字，即 <code>susy-repeat(4)</code> 會創造一個 4 格的流動網格，等同於設定為 <code>1 1 1 1</code>。</p>\n<p>例如：</p>\n<pre class=\"language-css=\"><code class=\"language-css=\">// 經典的 12 格網格 (兩者結果相同)\n$columns: susy-repeat(12, 5em);\n$columns: 5em 5em 5em 5em 5em 5em 5em 5em 5em 5em 5em 5em;\n\n// 聖杯狀網格\n$columns: 12em 1 200px;\n\n// 中間區域增加更多欄位的聖杯狀網格\n$columns: 12em susy-repeat(4) 200px;\n$columns: 12em 1 1 1 1 200px;\n\n//輪替重覆的欄位\n$columns: susy-repeat(3, 8em, 200px);</code></pre><p>Susy 不會直接修改 DOM，而是使用 <code>calc()</code> 替不相容與流動式的網格產生內容。</p>\n<h4 id=\"2-gutters-格線間隔\">2. <code>$gutters</code> 格線間隔</h4>\n<p>對應至 CSS 網格系統的 <code>grid-column-gap</code>，設定欄位之間的間隔大小。</p>\n<pre class=\"language-css=\"><code class=\"language-css=\">// 流動式間隔\n$gutters: 0.25;\n\n// 固定間隔\n$gutters: 10px;</code></pre><h4 id=\"3-spread-與-container-spread\">3. <code>&#39;spread&#39;</code> 與 <code>&#39;container-spread&#39;</code></h4>\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://www.oddbird.net/2017/06/13/susy-spread/\">Understanding Spread in Susy3</a></p>\n<p><code>spread</code> 有三個值，用以調整元素與 container 欄位的間隔設定，通常情況下只會用到前兩種，分別是 <code>narrow</code> 、 <code>wide</code> 、 <code>wider</code>，預設值為 <code>narrow</code>。</p>\n<ol>\n<li><code>narrow</code> : 欄位的兩端無間隔</li>\n<li><code>wide</code> : 每個欄位左右皆會有間隔</li>\n<li><code>wider</code> : 欄位的兩端會多一份間隔</li>\n</ol>\n<p>使用前需將 <code>box-sizing</code> 設定為 <code>border-box</code></p>\n<p><code>* { box-sizing: border-box; }</code></p>\n<h4 id=\"4-全域設定\">4. 全域設定</h4>\n<p>全域設定的 4 個設定變數儲存於 <code>$susy</code> 變數裡，可以從此進行修改，以下為預設值。</p>\n<pre class=\"language-css=\"><code class=\"language-css=\">$susy: (\n  \"columns\": susy-repeat(4),\n  \"gutters\": 0.25,\n  \"spread\": \"narrow\",\n  \"container-spread\": \"narrow\"\n);</code></pre><h3 id=\"使用\">使用</h3>\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://jsnwork.kiiuo.com/archives/2805/css-susy3-%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/\">CSS – SUSY3 – 使用方法(2)</a></p>\n<h4 id=\"1span\">1.<code>span()</code></h4>\n<p>設定元素的佔欄位數。</p>\n<pre class=\"language-css=\"><code class=\"language-css=\">[col=\"4\"] {\n  width: span(4);\n}</code></pre><h4 id=\"2-gutter\">2. <code>gutter()</code></h4>\n<p>設定元素是否佔用間隔。</p>\n<pre class=\"language-css=\"><code class=\"language-css=\">[col=\"4\"] {\n  width: span(4) + gutter();\n}</code></pre><h4 id=\"3-斷點設計-susy-use-與-susy-at-mixin\">3. 斷點設計 <code>susy-use</code> 與 <code>susy-at</code> mixin</h4>\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://github.com/oddbird/susy/issues/658\">Change grid settings based on responsive breakpoints in Susy 3 #658</a>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://www.oddbird.net/2017/09/25/susy-use/\">media queries &amp; grid settings</a></p>\n<p>如果想藉由不同的斷點改變排板，需要在不同的 media query 裡重新設定一次全域變數，因此我們可以透過另外新增兩個 mixin 傳入斷點變數設定來簡化修改：</p>\n<ol>\n<li><code>susy-use</code></li>\n</ol>\n<p>將斷點變數從 media query 裡獨立出來。</p>\n<pre class=\"language-css=\"><code class=\"language-css=\">@mixin susy-use($config) {\n  $config: susy-compile($config);\n\n  $global: $susy;\n  $susy: map-merge($susy, $config) !global;\n\n  @content;\n\n  $susy: $global !global;\n}</code></pre><p>範例：</p>\n<pre class=\"language-css=\"><code class=\"language-css=\">// 不同斷點裡的欄位與間隔設定\n$medium: (\n  \"columns\": susy-repeat(8),\n  \"gutters\": 1em,\n);\n\n@media (min-width: 30em) {\n  @include susy-use($medium) {\n    // 此區塊的內容會套用 $medium 的設定。\n  }\n}</code></pre><ol start=\"2\">\n<li><code>susy-at</code></li>\n</ol>\n<p>可以直接在 media query 之外的變數裡設定斷點大小。\n※使用此 mixin 亦需引入 <code>susy-use</code>！</p>\n<pre class=\"language-css=\"><code class=\"language-css=\">@mixin susy-at($config) {\n  $config: susy-compile($config);\n\n  $min: map-get($config, \"min-width\");\n  $min: if($min, \"(min-width: #{$min})\", null);\n  $max: map-get($config, \"max-width\");\n  $max: if($max, \"(max-width: #{$max})\", null);\n\n  $and: if($min and $max, \"#{$min} and #{$max}\", null);\n\n  $query: $and or $min or $max;\n\n  @media #{$query} {\n    @include susy-use($config) {\n      @content;\n    }\n  }\n}</code></pre><p>範例：</p>\n<pre class=\"language-css=\"><code class=\"language-css=\">// 不同斷點的斷點大小、欄位與間隔設定\n$medium: (\n  \"min-width\": 30em,\n  \"columns\": susy-repeat(8),\n  \"gutters\": 1em\n);\n\n@include susy-at($medium) {\n  // 此區塊會建立新斷點\n  // 此區塊的內容會套用 $medium 的設定。\n}</code></pre><ol start=\"3\">\n<li><code>gallery</code></li>\n</ol>\n<pre class=\"language-css\"><code class=\"language-css\">// <span class=\"token property\">https</span><span class=\"token punctuation\">:</span>//github.com/oddbird/susy/issues/648\n<span class=\"token atrule\"><span class=\"token rule\">@mixin</span> <span class=\"token function\">gallery</span><span class=\"token punctuation\">(</span>$span<span class=\"token punctuation\">,</span> $<span class=\"token property\">config</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n  $<span class=\"token property\">grid</span><span class=\"token punctuation\">:</span> <span class=\"token function\">susy-compile</span><span class=\"token punctuation\">(</span>$span<span class=\"token punctuation\">,</span> $config<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  $<span class=\"token property\">span</span><span class=\"token punctuation\">:</span> <span class=\"token function\">map-get</span><span class=\"token punctuation\">(</span>$grid<span class=\"token punctuation\">,</span> <span class=\"token string\">\"span\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  $<span class=\"token property\">column-count</span><span class=\"token punctuation\">:</span> <span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token function\">map-get</span><span class=\"token punctuation\">(</span>$grid<span class=\"token punctuation\">,</span> <span class=\"token string\">\"columns\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  $<span class=\"token property\">count</span><span class=\"token punctuation\">:</span> <span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>$column-count / $span<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  $<span class=\"token property\">spread</span><span class=\"token punctuation\">:</span> <span class=\"token function\">map-get</span><span class=\"token punctuation\">(</span>$grid<span class=\"token punctuation\">,</span> <span class=\"token string\">\"spread\"</span><span class=\"token punctuation\">)</span> + 2<span class=\"token punctuation\">;</span>\n  $<span class=\"token property\">container-spread</span><span class=\"token punctuation\">:</span> <span class=\"token function\">map-get</span><span class=\"token punctuation\">(</span>$grid<span class=\"token punctuation\">,</span> <span class=\"token string\">\"container-spread\"</span><span class=\"token punctuation\">)</span> + 2<span class=\"token punctuation\">;</span>\n  $<span class=\"token property\">extra</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>$container-spread - $spread<span class=\"token punctuation\">)</span> * 0.5<span class=\"token punctuation\">;</span>\n  $<span class=\"token property\">extra-push</span><span class=\"token punctuation\">:</span> <span class=\"token function\">su-call</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"su-gutter\"</span><span class=\"token punctuation\">,</span> $grid<span class=\"token punctuation\">)</span> * $extra<span class=\"token punctuation\">;</span>\n\n  <span class=\"token property\">float</span><span class=\"token punctuation\">:</span> left<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span> -100%<span class=\"token punctuation\">;</span>\n\n  <span class=\"token atrule\"><span class=\"token rule\">@for</span> $n from 1 through <span class=\"token punctuation\">(</span>$count<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n    $<span class=\"token property\">nth</span><span class=\"token punctuation\">:</span> <span class=\"token function\">unquote</span><span class=\"token punctuation\">(</span><span class=\"token selector\">\"#</span><span class=\"token punctuation\">{</span>$count<span class=\"token punctuation\">}</span><span class=\"token selector\">n + #</span><span class=\"token punctuation\">{</span>$n<span class=\"token punctuation\">}</span>\"<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    $<span class=\"token property\">location</span><span class=\"token punctuation\">:</span> $span * <span class=\"token punctuation\">(</span>$n - 1<span class=\"token punctuation\">)</span> + 1<span class=\"token selector\">;\n\n    &amp;:nth-child(#</span><span class=\"token punctuation\">{</span>$nth<span class=\"token punctuation\">}</span><span class=\"token selector\">)</span> <span class=\"token punctuation\">{</span>\n      $<span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token function\">susy-compile</span><span class=\"token punctuation\">(</span>$span at $location<span class=\"token punctuation\">,</span> $grid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token function\">su-call</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"su-span\"</span><span class=\"token punctuation\">,</span> $width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token atrule\"><span class=\"token rule\">@if</span> <span class=\"token punctuation\">(</span>$location > 1<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n        $<span class=\"token property\">wide</span><span class=\"token punctuation\">:</span> <span class=\"token function\">susy-compile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"first\"</span> $location - 1 <span class=\"token string\">\"wide\"</span><span class=\"token punctuation\">,</span> $grid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token property\">clear</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> <span class=\"token function\">su-call</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"su-span\"</span><span class=\"token punctuation\">,</span> $wide<span class=\"token punctuation\">)</span> + $extra-push<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token atrule\"><span class=\"token rule\">@else</span></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">clear</span><span class=\"token punctuation\">:</span> both<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> <span class=\"token function\">if</span><span class=\"token punctuation\">(</span>$extra-push > 0<span class=\"token punctuation\">,</span> $extra-push<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre><h3 id=\"範例\">範例</h3>\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://codepen.io/mirisuzanne/pen/BZjMXK?editors=0100\">Susy3: Pushing, Pulling, and Padding</a>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://codepen.io/marco3w/pen/KJEKNM?editors=0100\">Grid: Susy 3</a>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://codepen.io/f6bfb5/pen/voObgB\">https://codepen.io/f6bfb5/pen/voObgB</a>\n<a target=\"_blank\" rel=\"nofollow\" href=\"https://sass-lang.com/documentation/interpolation\">https://sass-lang.com/documentation/interpolation</a></p>\n<p><a target=\"_blank\" rel=\"nofollow\" href=\"https://qiita.com/terrierscript/items/fe6cc48ab98ffd6c55e2\">なぜ 960px がグリッドにするときに良いのか計算してみた</a>\n<a target=\"_blank\" rel=\"nofollow\" href=\"http://gridcalculator.dk/\">Grid Calculator</a></p>\n","date":"2019-11-09T00:32:49.000Z","excerpt":"","printDate":"November 9, 2019","printReadingTime":"3 min read"}