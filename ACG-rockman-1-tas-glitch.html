<!DOCTYPE html>
<html lang="zh-Hant-TW">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />

    <link
      rel="preload"
      href="./fonts/fusion-pixel.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link rel="preload prefetch" href="./global.css" as="style" />
    <link rel="stylesheet" href="./global.css" />
    <!-- <link rel="manifest" href="./manifest.json" /> -->
    <link rel="icon" type="image/png" href="./favicon.ico" />

    <!-- This contains the contents of the <svelte:head> component, if
	     the current page has one -->
    <meta http-equiv="content-security-policy" content=""><title>《洛克人 1》TAS 呼叫 Ending 漏洞機制解說</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-CRDP7WTXSQ" data-svelte="svelte-bhtlqr"></script><link rel="shortcut icon" href="/favicon.ico" data-svelte="svelte-1c8ynol"><link rel="bookmark" href="/favicon.ico" data-svelte="svelte-1c8ynol"><link rel="canonical" href="https://f6bfb5.github.io/ACG-rockman-1-tas-glitch" data-svelte="svelte-1xtzxhc"><meta property="og:url" content="https://f6bfb5.github.io/ACG-rockman-1-tas-glitch" data-svelte="svelte-1xtzxhc"><meta property="og:type" content="article" data-svelte="svelte-1xtzxhc">
    <meta property="og:title" content="《洛克人 1》TAS 呼叫 Ending 漏洞機制解說" data-svelte="svelte-1xtzxhc">
    <meta property="og:description" content="2014 年 5 月，遊戲圈出現了一支使用輔助程式，在「半分鐘內」通關《洛克人 1》的破天荒影片，而這種需要經過精密的機制解析，與流程操控的遊戲通關方式，僅隔一個月竟然出現人力操作達成同樣的成果，人類無極限！" data-svelte="svelte-1xtzxhc">
      <meta name="Description" content="2014 年 5 月，遊戲圈出現了一支使用輔助程式，在「半分鐘內」通關《洛克人 1》的破天荒影片，而這種需要經過精密的機制解析，與流程操控的遊戲通關方式，僅隔一個月竟然出現人力操作達成同樣的成果，人類無極限！" data-svelte="svelte-1xtzxhc">

    
    <meta property="og:image" data-svelte="svelte-1xtzxhc">

    <meta name="twitter:card" content="summary_large_image" data-svelte="svelte-1xtzxhc">
    <meta name="twitter:title" value="《洛克人 1》TAS 呼叫 Ending 漏洞機制解說" data-svelte="svelte-1xtzxhc">
    <meta name="twitter:description" content="2014 年 5 月，遊戲圈出現了一支使用輔助程式，在「半分鐘內」通關《洛克人 1》的破天荒影片，而這種需要經過精密的機制解析，與流程操控的遊戲通關方式，僅隔一個月竟然出現人力操作達成同樣的成果，人類無極限！" data-svelte="svelte-1xtzxhc">
    <meta name="twitter:label1" value="Published on" data-svelte="svelte-1xtzxhc">
    <meta name="twitter:data1" value="Feb 19, 2019" data-svelte="svelte-1xtzxhc">
	<link rel="stylesheet" href="/_app/assets/pages/__layout.svelte-193c0755.css">
	<link rel="stylesheet" href="/_app/assets/Favicon-b368fcc0.css">
	<link rel="modulepreload" href="/_app/start-ab1a8691.js">
	<link rel="modulepreload" href="/_app/chunks/index-d75fc5da.js">
	<link rel="modulepreload" href="/_app/chunks/index-2c02d785.js">
	<link rel="modulepreload" href="/_app/chunks/paths-396f020f.js">
	<link rel="modulepreload" href="/_app/chunks/preload-helper-e4860ae8.js">
	<link rel="modulepreload" href="/_app/pages/__layout.svelte-d78e6602.js">
	<link rel="modulepreload" href="/_app/chunks/Favicon-434ba5a1.js">
	<link rel="modulepreload" href="/_app/chunks/store-417d8512.js">
	<link rel="modulepreload" href="/_app/pages/_slug_.svelte-269d3678.js">
  </head>
  <body>
    <!-- The application will be rendered inside this element,
	     because `app/client.js` references it -->
    








<div class="layout svelte-1avnl50" style=""><div class="loader-container svelte-1avnl50"><div class="loader svelte-v56dyc"><span class="loader-text loader-step1 svelte-v56dyc">/</span>
  <span class="loader-text loader-step1 svelte-v56dyc">-</span>
  <span class="loader-text loader-step1 svelte-v56dyc">\</span>
  <span class="loader-text loader-step1 svelte-v56dyc">|</span>
</div></div></div>

<div class="layout svelte-1avnl50" style="display: none;">
  
  <header class="svelte-ka06mn"><div class="header-container svelte-ka06mn"><div class="row svelte-ka06mn"><nav class="svelte-t90z2a"><a class=" svelte-t90z2a" href="/">トリコじかけの明け暮れ
  </a>
  <a class=" svelte-t90z2a" href="/about">about
  </a>
  <a class=" svelte-t90z2a" href="/rss.xml" target="_blank">rss
  </a>
  <a style="display: none;" href="/sitemap.xml" target="_blank" class="svelte-t90z2a">sitemap
  </a>
</nav>
      <a href="https://www.youtube.com/watch?v=en3Gg3k1y3Q" target="_blank" rel="noreferrer noopener" class="svelte-1m045v8"><img src="data:image/gif;base64,AAABAAEAEBAQAAAAAAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAABbl4Awr28AAAAAAC4pp4ACgUAAFomhAB4aGEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIiIiIiQiQiIkREREREJCIiQRERERESIiJBEhEREREiIkFCQRFRESIiQRIRERFRIiJBEREREREiIkE2ZmZmESQiQWYAAAZhJCJBZgAABmEkIkFmAAAGYSQiQWYAAAZhRCJBZgAABmFEIkE2ZmZmMUQiQRERERERRCJERERERERCLABwAAgAMAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAwAA" alt="logo" class="svelte-1m045v8">
</a></div>
    </div>
</header>

  <main class="svelte-1avnl50">

<header class="svelte-1y1bvug"><h1 class="title svelte-1y1bvug"><span style="animation-delay: 125ms; " class="svelte-1y1bvug">《
      </span><span style="animation-delay: 150ms; " class="svelte-1y1bvug">洛
      </span><span style="animation-delay: 175ms; " class="svelte-1y1bvug">克
      </span><span style="animation-delay: 200ms; " class="svelte-1y1bvug">人
      </span><span style="animation-delay: 225ms; width: .25em;" class="svelte-1y1bvug"> 
      </span><span style="animation-delay: 250ms; " class="svelte-1y1bvug">1
      </span><span style="animation-delay: 275ms; " class="svelte-1y1bvug">》
      </span><span style="animation-delay: 300ms; " class="svelte-1y1bvug">T
      </span><span style="animation-delay: 325ms; " class="svelte-1y1bvug">A
      </span><span style="animation-delay: 350ms; " class="svelte-1y1bvug">S
      </span><span style="animation-delay: 375ms; width: .25em;" class="svelte-1y1bvug"> 
      </span><span style="animation-delay: 400ms; " class="svelte-1y1bvug">呼
      </span><span style="animation-delay: 425ms; " class="svelte-1y1bvug">叫
      </span><span style="animation-delay: 450ms; width: .25em;" class="svelte-1y1bvug"> 
      </span><span style="animation-delay: 475ms; " class="svelte-1y1bvug">E
      </span><span style="animation-delay: 500ms; " class="svelte-1y1bvug">n
      </span><span style="animation-delay: 525ms; " class="svelte-1y1bvug">d
      </span><span style="animation-delay: 550ms; " class="svelte-1y1bvug">i
      </span><span style="animation-delay: 575ms; " class="svelte-1y1bvug">n
      </span><span style="animation-delay: 600ms; " class="svelte-1y1bvug">g
      </span><span style="animation-delay: 625ms; width: .25em;" class="svelte-1y1bvug"> 
      </span><span style="animation-delay: 650ms; " class="svelte-1y1bvug">漏
      </span><span style="animation-delay: 675ms; " class="svelte-1y1bvug">洞
      </span><span style="animation-delay: 700ms; " class="svelte-1y1bvug">機
      </span><span style="animation-delay: 725ms; " class="svelte-1y1bvug">制
      </span><span style="animation-delay: 750ms; " class="svelte-1y1bvug">解
      </span><span style="animation-delay: 775ms; " class="svelte-1y1bvug">說
      </span></h1>
  <p class="meta svelte-1y1bvug"><span class="date svelte-1y1bvug">Feb 19, 2019</span>
    <div class="tags svelte-1y1bvug"><span class="tag svelte-1y1bvug">ACG</span><span class="tag svelte-1y1bvug">Game</span></div></p></header>
<div class="post--container svelte-1y1bvug"><article class="post--content svelte-1y1bvug"><h2 id="js-id-介紹">介紹</h2>
<p>2014 年 5 月，遊戲圈出現了一支使用輔助程式，在<strong>半分鐘內</strong>通關《洛克人 1》的破天荒影片，而這種需要經過精密的機制解析，與流程操控的遊戲通關方式，僅隔一個月後，竟然出現人力操作達成同樣的成果，人類無極限！</p>
<p>本文會對解說其中所使用的機制與流程。</p>
<iframe title="【TAS】 ロックマン 1 in 00:32.11 【任意コード実行】" width="560" height="315" src="https://www.youtube.com/embed/u5qom2q7cUU" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p style="padding-top: 0; font-size: 1em; text-align:center; color: #36393b;"><a href="https://www.nicovideo.jp/watch/sm23543822" rel="noreferrer noopener" target="_blank">△【TAS】 ロックマン 1 in 00:32.11 【任意コード実行】
  </a></p>
<h2 id="js-id-tas-與-ace">TAS 與 ACE</h2>
<p>在介紹這次主題的遊戲漏洞前，先為可能不熟悉的的讀者解釋一下，所謂「TAS」以及「ACE」是什麼。</p>
<p>「TAS」指的是「<strong>使用工具輔助做出的競速通關 / 炫技遊玩（Tool-Assisted Speedrun / Superplay）</strong>」，具體來說，會使用像是遊戲模擬器上搭載的輔助功能，用以減慢遊戲整體執行速度、逐格操作、快速存檔 / 讀取、記憶體觀察…等等，藉此達成在理論上可能，但實際難度非常高的遊玩技巧。</p>
<p>「ACE」則是「<strong>執行任意代碼（Arbitrary Code Execution）</strong>」，這邊的「代碼」指的是程式碼，也就是使用遊戲軟、硬體設計上的漏洞，去執行任何程式碼。講白了就是用遊戲操作去更動程式運作，常見手法有如本文的直接呼叫（跳至）遊戲結局，或像老玩家可能會有印象的<a href="https://web.archive.org/web/20181001140126/http://www.geocities.jp/kattempla/pokebug/index.html" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=https://web.archive.org/web/20181001140126/http://www.geocities.jp/kattempla/pokebug/index.html" alt="寶可夢寵物／道具修改"><span>寶可夢寵物／道具修改</span></a>。</p>
<h2 id="js-id-tas-使用機制">TAS 使用機制</h2>
<h3>DelayObjectFFGlitch 技巧</h3>
<p>在《洛克人 1》裡，當洛克人經過特定地圖的某些地點後，會出現不可視的「<code>0xFF</code> 物件」（後稱 <code>FF 物件</code>）。例如 Ice Man 關卡的此處：</p>
<p><img src="https://i.imgur.com/FZkBQwv.gif" alt="img01"></p>
<p style="padding-top: 0; font-size: 1em; text-align:center; color: #36393b;">△ 「0xFF 物件」出現於畫面不可視之處</p>
<p>這個物件會讓影像處理單位（PPU, Picture Processing Unit）進行 Pattern Table Remap。推測是用於重新建置畫面的物件。</p>
<p>正常情況下，程式執行流程是：<code>1. 物件 FF 出現</code> → <code>2. 處理物件 FF（讀取 Bank 2 的資料）</code> → <code>3. 切換至 Bank 6</code> → <code>4. 讀取敵人資料編號</code>。</p>
<p>若是在切換 Bank 之前，經由<strong>特定的操作</strong>超載待處理的指令量，會導致在切換至 Bank 6 之前，就直接在 Bank 2 讀取敵人編號的資料，造成畫面異常，或是出現錯誤的敵人。</p>
<p>敵人的 AI 舉動是在 <code>0x00</code>～<code>0x3A</code> 這個範圍裡的物件資料，程式流程是：<code>執行敵人的 AI 程式</code> → <code>從物件編號得出要 jump 的（下一個資料的）目標</code> → <code>執行目標位置的 AI 程式</code>，因此使用 Delay Object 技巧，會讓最後的目標變成範圍外的物件，造成各種問題。</p>
<p>例如物件 <code>F5</code> 出現後，需要執行敵人行動的 AI 模式 → 由於未切換 Bank，物件編號得到的 jump 目標為「<code>C0BD</code>」，<code>C0BD</code> 為「通關處理過程中的物件」位置，因此遊戲會突然通關。</p>
<p><img src="https://i.imgur.com/pwkEkYJ.gif" alt="img02"></p>
<p style="padding-top: 0; font-size: 1em; text-align:center; color: #36393b;">△ 異常出現的 Electric Man</p>
<p>而 jump 目標再詳細點來說，系統會從 <code>$AA3B</code> + 2×[物件編號] 取得 <a href="http://www.yuko2ch.net/rockman/JumpAddressList.txt" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=http://www.yuko2ch.net/rockman/JumpAddressList.txt" alt="AI 位置"><span>AI 位置</span></a>，故物件編號為 <code>0x15</code> 時，目標位置會是 <code>$AA3B</code> + 2×[0x15] = <code>$AA65</code> 裡所儲存的值，因此跳至儲存的「<code>B23C</code>」執行 AI。</p>
<p>可能出現的各種物件 00 ～ FF 中，大部份的物件會造成遊戲重新開始，或無法繼續遊玩，在上例 Ice Man TAS 的實際運用裡，是發現 <code>$23</code>（每 frame 增加 1 的計數器）的值走至 55 時，有可能會出現「物件 55」，之後再藉由<strong>調整道具的出現量、音樂的演奏變化時間點、 rock buster 的高低座標</strong>得到想要的後續目標位置。</p>
<p>套用計算法，<code>$AA3B</code> + 2×0x55 = <code>$AAE5</code>，裡頭儲存的 AI 位置為「<code>$600</code>」，搭配下列操作調整相關資料：</p>
<table><thead><tr><th>位置</th>
<th>數值</th>
<th>行為</th>
<th>如何調整</th></tr></thead>
<tbody><tr><td>0600</td>
<td>54 F8</td>
<td>NOP F8,X（什麼都不做，往下執行 ）</td>
<td>移動洛克人的 Y 座標 =54</td></tr>
<tr><td>0602</td>
<td>50 4D</td>
<td>BVC <code>$0651</code>（jump 至 <code>$651</code>）</td>
<td>調整 rock buster 第 1 發和第 2 發的 Y 座標 =50, 4D</td></tr>
<tr><td>0650</td>
<td>3C</td>
<td>UNDEFINED（這裡不會執行）</td>
<td>delay FF 出現物件 3 的 ObjectFireDelay=3C</td></tr>
<tr><td>0651</td>
<td>AD 22 1F</td>
<td>LDA <code>$1F22</code>=#<code>$0A</code><br>（讀取 0x0A 裡的 <code>$1F22</code><br>並儲存至 A 暫存器）</td>
<td>擊倒普通的敵人掉落道具的 ObjectFireDelay=AD,22<br>delay FF 出現的物件 1 的 ObjectFireDelay=1F</td></tr>
<tr><td>0654</td>
<td>6C 18 00</td>
<td>JMP (<code>$0018</code>)=<code>$C460</code><br>（<code>$C460</code>: jump 至通關處理的途中）</td>
<td>擊倒普通的敵人掉落道具的 ObjectFireDelay=6C,18<br>delay FF 出現的物件 55 的 ObjectFireDelay=00<br><code>$0018</code> 的數値由操作控制器 1 的「左下」+ 控制器 2 的「左右 Select」=60,C4</td></tr></tbody></table>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">C45E: A9 00 lda #$00
C460: 85 31 sta $31(CurrentStage)　 ← 遊戲程式會 jump 至這裡並進行中斷處理
C462: 4C 0C C1 jmp $C10C</code><!-- HTML_TAG_END --></pre>
<p>進入遊戲 ending。</p>
<p>利用這個漏洞，就能在事先準備好讀取的資料後，達成想要的操作結果。</p>
<h3>DoubleObjectFFGlitch</h3>
<ol><li>在物件 FF 會出現的地方來回移動</li>
<li>物件 FF 出現後，會在 16 frames 裡每 frame 進行一次物件 FF 的處理</li>
<li>在物件 FF 進行處理的 frame 裡，讓物件 FF 朝左出現</li>
<li>會變為從 Bank 2 讀入錯誤的物件</li></ol>
<p>同樣的，由調整 <code>$23</code>（每 frame 增加 1 的計數器）決定讀入的物件，以下則是一些有趣的物件：</p>
<ul><li><code>75</code>、<code>F5</code>：通過該關卡，但下一關開始會破圖。</li>
<li><code>4A</code>：出現後，過一段時間通過該關卡，下一關關卡的圖像正常。</li>
<li><code>42</code>：磁力條，由於看不見、初始座標會變動、會往 11 點鐘方向移動並馬上消失，因此難以取得，在晃動人物時偶爾會有成功取得的狀況。</li></ul>
<p>一旦某項物件出現後，在其消滅之前都不會再出現下個物件，若出現了目標之外的物件，就要用離開畫面之類的手法來清除。</p>
<hr>
<p><img src="https://i.imgur.com/LEoXwhg.gif" alt="img03"></p>
<p><img src="https://i.imgur.com/b0naPNm.gif" alt="img04"></p>
<p><img src="https://i.imgur.com/xO6xO8i.gif" alt="img05"></p>
<p style="padding-top: 0; font-size: 1em; text-align:center; color: #36393b;">△ 本次 RTA 的關鍵地點</p>
<p>在氣力人關卡的圖片位置三處，進行 DoubleObjectFFGlitch（在圖片的位置左右移動）會將 <code>$17</code>（控制器 2）做為下一個讀取的物件編號，因此可由控制器 2 的數值決定物件 00 ～ FF 的出現。</p>
<p>若是同時按住控制器 2 的「左、上、下、Select、A」鍵，會出現物件 75，通過目前關卡，但下一關會破圖。</p>
<p>※ 兩者的差異應該是在，前者使用增加畫面道具量造成的處理延遲，去影響物件的產生，後者利用物件出現的方向，因此原文解說內有註明，後者技巧只需要來回移動，不需加上處理 delay。</p>
<h2 id="js-id-人力-rta">人力 RTA</h2>
<iframe title="【RTA】ロックマン in3:53【2014-06-21】" width="560" height="315" src="https://www.youtube.com/embed/SoUd69Xs9gg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p style="padding-top: 0; font-size: 1em; text-align:center; color: #36393b;">△【RTA】ロックマン in3:53【2014-06-21】</p>
<h3>目標</h3>
<p>將記憶體調整成下列的對應數值後：</p>
<table><thead><tr><th>位置</th>
<th>數值</th></tr></thead>
<tbody><tr><td><code>$482</code></td>
<td>8A</td></tr>
<tr><td><code>$483</code></td>
<td>50</td></tr>
<tr><td><code>$484</code></td>
<td>13</td></tr>
<tr><td><code>$498</code></td>
<td>4A</td></tr>
<tr><td><code>$499</code></td>
<td>20</td></tr>
<tr><td><code>$49A</code></td>
<td>60</td></tr>
<tr><td><code>$49B</code></td>
<td>C4</td></tr>
<tr><td><code>$605</code></td>
<td>20</td></tr>
<tr><td><code>$606</code></td>
<td>82</td></tr>
<tr><td><code>$607</code></td>
<td>04</td></tr></tbody></table>
<p>進行 DoubleObjectFFGlitch 就會進入 Ending 畫面。</p>
<h3>流程</h3>
<ol><li>在 Electric Man 的關卡裡，於梯子上進行射擊的動作，<strong>僅按下 1 frame</strong> 下鍵，會變為半抓住梯子的樣子，<br>
<img src="https://i.imgur.com/5srrun8.jpg" alt="img06"><br>
洛克人朝左的狀況下，按下上鍵，會變為頭卡在天花板的穿牆狀態，<br>
按下跳躍鍵，跳到最高處後，按下右鍵，會穿越至磁力條的右方，<br>
這個狀態下按左鍵，會由於<ruby>子像素<rp>(</rp><rt>subpixel</rt><rp>)</rp></ruby>的關係，有 1/8 機率可以拿到磁力條，<br>
再按下一次跳躍鍵，就會回到穿牆狀態。</li>
<li>進入 Guts Man 關卡</li>
<li>在關卡開頭等待第二隻小矮兵的 3 連攻擊，<br>
在下圖的位置等待至第 3 發中央的子彈消失於畫面外後，<code>$49B</code> 的值會變為 C4。<br>
<img src="https://i.imgur.com/EhAhmrY.jpg" alt="img07"></li>
<li>在畫面內有 2 隻小矮兵的狀態下，<br>
<strong>保持畫面裡有 2 連攻擊</strong>追至下圖的位置，<br>
等待第 2 發中央的子彈消失於畫面外後，<code>$49A</code> 的值會變為 60。<br>
這裡若是遇到 3 連攻擊 <code>$49B</code> 會因此取得 C4 之外的值。<br>
<img src="https://i.imgur.com/fAcJeMt.jpg" alt="img08"></li>
<li>在畫面內有 1 隻小矮兵的狀態下，<br>
在下圖位置等待 2 連攻擊的第 2 發中央子彈消失於畫面外後，<br>
<code>$499</code> 的值會變為 20。<br>
這裡同樣若是遇到 3 連攻擊，在這之前的調整會因此偏掉。<br>
<img src="https://i.imgur.com/O046zDW.jpg" alt="img09"><br>
這裡小矮兵的攻擊間隔是由亂數決定，若是運氣不好，<br>
會有可能為了 3 連攻擊或 2 連攻擊，要等上數十秒。<br>
若是途中失敗可從 <code>$49B</code> 重新開始調整。</li>
<li>接下來要調整 <code>$498</code>，移動至斷崖的另一邊後，<br>
擊敗 3 隻敵人<strong>並使畫面上顯示 3 個道具</strong>後，<br>
在下圖的位置受到傷害，會使 <code>$498</code> 的值變為 4A。<br>
若是失敗仍可在血量允許的情況下持續調整。<br>
<img src="https://i.imgur.com/uFBy8hb.jpg" alt="img10"></li>
<li>接下來是 <code>$482</code>～<code>$484</code> 的調整，<br>
在下圖的位置向右連射 3 發 buster，<br>
在第 3 發子彈消失於畫面外後，<code>$484</code> 的值會變為 13。<br>
<img src="https://i.imgur.com/5KVdRku.jpg" alt="img11"></li>
<li>在下圖的位置向右連射 2 發 buster，<br>
在第 2 發子彈消失於畫面外後，<code>$483</code> 的值會變為 50。<br>
<img src="https://i.imgur.com/ZKGmALT.jpg" alt="img12"></li>
<li>在下圖的位置向右射單發 buster，子彈消失於畫面外後，<code>$482</code> 的值會變為 8A。<br>
在這之後若再發射 buster，會造成先前調整的數值變動，<br>
<strong>要注意不可再使用 buster</strong>，若是失敗則要再從 <code>$484</code> 開始重新調整。<br>
<img src="https://i.imgur.com/O95Y27D.jpg" alt="img13"></li>
<li>接下來是 <code>$605</code>～<code>$607</code> 的調整，<br>
從第三階樓梯開始，使用磁力條逐格拉高 10 高度。<br>
<img src="https://i.imgur.com/ceJ1S7O.jpg" alt="img14"></li>
<li>注意磁力條的顯示時間，將畫面最上方的磁力條調整為<strong>畫面裡出現的第 3 條</strong>，<br>
<code>$607</code> 的值會變為 04。<br>
需將時間調整為，這時踏台的第 2 和第 1 條磁力條，<br>
在設置第 3 條後馬上消失。<br>
<img src="https://i.imgur.com/6qy17F2.jpg" alt="img15"></li>
<li>在踏台的第 2 條磁力條消失前，射出磁力條並跳至最高點，<br>
可以使用 Start → Select 微調磁力條至下圖的位置（與右邊的山峰平行）後，<br>
放開 B 鍵便能在此設置磁力條。<br>
由於這時先前設值的第 1 和第 2 條磁力條已經消失了，<br>
這時設置的磁力條會變為第 1 條，<code>$605</code> 會變為 20。<br>
<img src="https://i.imgur.com/uQmEdO7.jpg" alt="img16"></li>
<li>著地後朝左射出磁力條，並在最大跳躍後，<br>
在<strong>頂點附近</strong>朝右，將磁力條設置於如下圖的階梯上固定，<br>
這會是第 2 條磁力條，<code>$606</code> 變為 82。<br>
若是這時失敗會由於磁力條的殘量不足，必須整個 run 重來過。<br>
若只是想成功可以從 <code>$484</code> 的調整重新開始。<br>
<img src="https://i.imgur.com/MPvesQN.jpg" alt="img17"></li>
<li>調整至此<strong>必須沒有任何 1 格像素</strong>的偏差，<br>
並且為了使用 DoubleObjectFFGlicth 叫出物件 55，<br>
需要<strong>按下控制器 2 的「←、↑、Select、A」鍵</strong>。<br>
影片的跑者是使用膠帶固定住 A 鍵，用雙腳踩下十字鍵與 Select 鍵。<br>
而 Guts Man 關的 DoubleObjectFFGlicth 比起 Ice Man 的難易度更高，<br>
在人力執行上是一定程度的運 Game，這點只能不斷嘗試來達成。<br>
最重要的是，<strong>要在這 3 條磁力條消失前達成 DoubleObjectFFGlicth 的技巧</strong>，<br>
若是成功達成執行技巧，呼叫出物件 55，就會和 TAS 影片一樣突然進入 ending。<br>
磁力條消失的時間是 150 frames（約 2.5 秒左右），<br>
因此僅有大概 1 ～ 2 次的跳躍機會可嘗試，<br>
雖然單次 run 的整體時間很短，仍然是個極為困難的技巧。</li></ol>
<h2 id="js-id-參考文章">參考文章</h2>
<ul><li><a href="http://www.yuko2ch.net/rockman/mm1tasmap.html" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=http://www.yuko2ch.net/rockman/mm1tasmap.html" alt="ディレオブジェクトテク"><span>ディレオブジェクトテク</span></a></li>
<li><a href="https://web.archive.org/web/20211006220040/https://ch.nicovideo.jp/TASVideos/blomaga/ar529967" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=https://web.archive.org/web/20211006220040/https://ch.nicovideo.jp/TASVideos/blomaga/ar529967" alt="ロックマン 1 のディレイエンディング TAS について"><span>ロックマン 1 のディレイエンディング TAS について</span></a></li>
<li><a href="https://web.archive.org/web/20211006221709/https://ch.nicovideo.jp/TASVideos/blomaga/ar535617" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=https://web.archive.org/web/20211006221709/https://ch.nicovideo.jp/TASVideos/blomaga/ar535617" alt="ロックマン 1 の新技：DoubleObjectFFGlitch について"><span>ロックマン 1 の新技：DoubleObjectFFGlitch について</span></a></li>
<li><a href="https://web.archive.org/web/20211006213313/https://ch.nicovideo.jp/nou/blomaga/ar558601" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=https://web.archive.org/web/20211006213313/https://ch.nicovideo.jp/nou/blomaga/ar558601" alt="ロックマン RTA における　任意コード実行テクニックについて"><span>ロックマン RTA における　任意コード実行テクニックについて</span></a></li>
<li><a href="http://www.nicovideo.jp/watch/sm23553625" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=http://www.nicovideo.jp/watch/sm23553625" alt="ロックマン 1 in 00:32.11 の解説用動画"><span>ロックマン 1 in 00:32.11 の解説用動画</span></a></li>
<li><a href="http://hp.vector.co.jp/authors/VA042397/nes/6502.html" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=http://hp.vector.co.jp/authors/VA042397/nes/6502.html" alt="NES 研究室 - 6502"><span>NES 研究室 - 6502</span></a></li></ul>
<h2 id="js-id-追記">追記</h2>
<ul><li><a href="https://www.nicovideo.jp/watch/sm36192523" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=https://www.nicovideo.jp/watch/sm36192523" alt="【TAS】 ロックマン 1 in 00:27.04 【任意コード実行】"><span>【TAS】 ロックマン 1 in 00:27.04 【任意コード実行】</span></a></li></ul>
<p>在 2020 年的 1 月 6 號，ピロ彦 P 上傳了一支大幅更新版本的影片，
這次把原本就很驚人的 32 秒紀錄再推進了 5 秒，全破《洛克人 1》只需要 27 秒！</p>
<h3>機制簡記</h3>
<ul><li>利用 Y 軸座標執行任意程式碼</li>
<li>打大補 <code>$610</code> -&gt; 3A</li>
<li>調整掉落道具高度 <code>3A ** 17 18</code> 產生 <code>55</code></li>
<li>在 <code>$8C</code> = 05 的 2px 位置調整成 NEXT = 130 前後產生 <code>$17</code> 物件</li>
<li>為了讓產生物件的 Y 座標變成 <code>$16</code> 先調整 <code>$611</code> = 6C</li>
<li>物件 <code>55</code> 不會執行純讀取資料（ROM）而會執行 RAM 的 <code>$600</code></li>
<li><code>$600</code> 是岩男 Y 座標，<code>$601</code> 為 F8 固定值，<code>$602</code> 是第 3 發子彈的 Y 座標</li>
<li>調整成 <code>48 F8 54 54 48 F8 F8</code><br>
程式就會執行至 <code>$610</code> 即敵人 Y 座標物件位址為止</li>
<li>34 和 54 是 NOP（No Operation），<br>
F8 是 SED（Stream Editor），<br>
都是在紅白機上無功能的指令</li>
<li>48 PHA 是把 A 暫存器的值推到 Stuck 上</li>
<li>執行 <code>$600</code> 時 A 暫存器是 06 因此 Stuck 的值是 06 06</li>
<li><code>$611</code> 之後的 <code>6C 17 18</code> JUMP 到 <code>$1817</code>（<code>$0017</code> 的鏡像複製值）的 16bit 值</li>
<li><code>$17</code> 是 2P 在前一幀的輸入<br>
<code>$18</code> 是 1P 的新輸入減去前一幀輸入</li>
<li>在跳躍之前執行兩次 PHA 回傳的位置會變成 <code>$0606</code>+1</li>
<li>第一次的跳躍讓 A 暫存器值變為 0A，第二次跳躍讓關卡變為 0A+1</li>
<li>關卡的值（<code>$31</code>）變成 0B 進入 Ending</li></ul>
<div class="toc-container"><ul class="toc"><li><a href="#" onclick="document.querySelector('#js-id-介紹').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();">介紹</a></li><li><a href="#" onclick="document.querySelector('#js-id-tas-與-ace').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();">TAS 與 ACE</a></li><li><a href="#" onclick="document.querySelector('#js-id-tas-使用機制').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();">TAS 使用機制</a></li><li><a href="#" onclick="document.querySelector('#js-id-人力-rta').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();">人力 RTA</a></li><li><a href="#" onclick="document.querySelector('#js-id-參考文章').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();">參考文章</a></li><li><a href="#" onclick="document.querySelector('#js-id-追記').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();">追記</a></li></ul></div>
    <span class="blink svelte-1kip24n">_</span></article>
  

<div class="back-to-top svelte-1p7rwza hidden" style="right: 2em">Back to top
</div>
</div></main>

  <footer scoped class="svelte-qi6xiu"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noreferrer noopener nofollow">CC BY-NC-SA 4.0
  </a>
  <div class="right svelte-qi6xiu">Made with <span class="heart svelte-qi6xiu">❤️</span> and
    <a href="https://kit.svelte.dev/" target="_blank" ref="noreferrer noopener nofollow">SvelteKit
    </a></div>
</footer>
</div>


		<script type="module" data-hydrate="wgtwnj">
		import { start } from "/_app/start-ab1a8691.js";
		start({
			target: document.querySelector('[data-hydrate="wgtwnj"]').parentNode,
			paths: {"base":"","assets":""},
			session: {},
			route: true,
			spa: false,
			trailing_slash: "never",
			hydrate: {
				status: 200,
				error: null,
				nodes: [
					import("/_app/pages/__layout.svelte-d78e6602.js"),
						import("/_app/pages/_slug_.svelte-269d3678.js")
				],
				params: {slug:"ACG-rockman-1-tas-glitch"},
				routeId: "[slug]"
			}
		});
	</script>
  </body>
</html>
