<!DOCTYPE html> <html lang=zh-Hant-TW> <head> <meta charset=utf-8> <meta name=viewport content="width=device-width,initial-scale=1"> <meta name=theme-color content=#333333> <base href=/ > <link href=global.css rel=stylesheet> <link href=fonts/fonts.css rel=stylesheet> <link href=highlight.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=favicon.png rel=icon type=image/png> <link href=https://cdn.jsdelivr.net/gh/chiron-fonts/chiron-sans-hk-pro@1.006/build/webfont/css/vf.css rel=stylesheet> <link href=client/client-0bab6a58.css rel=stylesheet><link href=client/[slug]-db3f61d1.css rel=stylesheet> <title>實作「使用 Discord 登入」</title><script async data-svelte=svelte-a2kvt3 src="https://www.googletagmanager.com/gtag/js?id=UA-114661136-2"></script><script async data-svelte=svelte-1op50db src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js data-ad-client=ca-pub-9613661448556355></script><link href=/apple-touch-icon.png rel=apple-touch-icon data-svelte=svelte-12mb5ri sizes=180x180><link href=/favicon-32x32.png rel=icon data-svelte=svelte-12mb5ri sizes=32x32 type=image/png><link href=/favicon-16x16.png rel=icon data-svelte=svelte-12mb5ri sizes=16x16 type=image/png><link href=/site.webmanifest rel=manifest data-svelte=svelte-12mb5ri><link href=/safari-pinned-tab.svg rel=mask-icon data-svelte=svelte-12mb5ri color=#5bbad5><meta data-svelte=svelte-12mb5ri name=msapplication-TileColor content=#ffc40d><meta data-svelte=svelte-12mb5ri name=theme-color content=#ffffff><meta data-svelte=svelte-d2s233 content=article property=og:type><meta data-svelte=svelte-d2s233 content="實作「使用 Discord 登入」" property=og:title><meta data-svelte=svelte-d2s233 name=Description><meta data-svelte=svelte-d2s233 property=og:description><meta data-svelte=svelte-d2s233 name=twitter:card content=summary_large_image><meta data-svelte=svelte-d2s233 name=twitter:title value="實作「使用 Discord 登入」"><meta data-svelte=svelte-d2s233 name=twitter:description><meta data-svelte=svelte-d2s233 name=twitter:label1 value="Published on"><meta data-svelte=svelte-d2s233 name=twitter:data1 value="Jan 14, 2021"> <link href=/client/client.7e817749.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-0bab6a58.css rel=preload as=style><link href=/client/[slug].eb2a659f.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/[slug]-db3f61d1.css rel=preload as=style></head> <body> <div id=sapper> <div class="svelte-87vpjk layout"> <header class=svelte-310tmg><nav class=svelte-1c2nkmp><a href=. class=svelte-1c2nkmp>blog</a> <a href=about class=svelte-1c2nkmp>about</a> <a href=rss.xml class=svelte-1c2nkmp>rss</a> </nav> <a href=/ ><img class=svelte-nsstmh alt="Buddha of Kamakura" src=noun_great_buddha_of_kamakura_3572172.svg> </a> </header> <main class=svelte-87vpjk> <header class=svelte-73z1by><h1 class=svelte-73z1by>實作「使用 Discord 登入」</h1> <p class=svelte-73z1by>January 14, 2021 <small class=svelte-73z1by>3 min read</small></header> <div class=container><article class=content><ul> <li><a href=https://qiita.com/masayoshi4649/items/46fdb744cb8255f5eb98 target=_blank rel=nofollow>「Discord の ID でログイン」を実装する(Oauth2) - Qiita</a></li> </ul> <h2 id=於-discord-developer-portal-登錄-application>於 Discord Developer Portal 登錄 Application</h2> <h3 id=取得-「client-id」和「client-secert」>取得 「Client ID」和「Client Secert」</h3> <ol> <li>登入 <a href=https://discord.com/developers/applications target=_blank rel=nofollow>Discord Developer Portal</a></li> <li>點擊右上角的「New Application」</li> <li>取名，本例使用 <code>OAuth Vertify</code>，點擊「Create」</li> <li><code>Client ID</code> 和 <code>Client Secert</code> 位於資訊頁的右方</li> </ol> <h3 id=建立-oauth-用的網址>建立 OAuth 用的網址</h3> <ol> <li>點擊左側的「OAuth2」</li> <li>點擊右側的「Add Redirect」，輸入驗證登入的網址</li> <li>勾選下方「SCOPE」（索取的資訊欄位）裡的「identify」（Discord 的 ID）和「email」</li> <li>就可於頁面下方取得認證用的連結 <br>例：<code>https://discord.com/api/oauth2/authorize?client_id=</code>CLIENT ID<code>&redirect_uri=</code>REDIRECT URL<code>&response_type=code&scope=</code>SCOPE</li> </ol> <h2 id=從認證連結取得「code」>從認證連結取得「code」</h2> <p>使用認證連結登入，並 redirect 到後續頁面後，會回傳一個 <code>code</code> 參數到網址上</p> <h2 id=使用「code」取得「token」>使用「code」取得「token」</h2> <p>我們要再使用這個 <code>code</code> 去取得 <code>access_token</code>，才能得到存取資料的權限</p> <ol> <li>傳送 POST 請求到 Discord API</li> </ol> <pre class=language-bash><code class=language-bash>curl -X POST
     -H "Content-Type:application/x-www-form-urlencoded"
     -d "client_id=CLIENT ID
     &client_secret=CLIENT SECRET
     &grant_type=authorization_code
     &code=CODE
     &redirect_uri=REDIRECT URL（要與認證 URL 相同）"
     https://discordapp.com/api/oauth2/token</code></pre><ol start=2> <li>若成功就可取得 <code>access token</code></li> </ol> <pre class=language-json><code class=language-json>{
  "access_token": ACCESS TOKEN,
  "expires_in": 604800,
  "refresh_token": REFRESH TOKEN,
  "scope": SCOPE,
  "token_type": "Bearer"
}</code></pre><ul> <li><code>code</code> 為一次性使用，同一個 <code>code</code> 無法存取第二次</li> <li><code>access token</code> 的有效期限為 604800 秒＝一個禮拜 <br>若有更新需求，須使用 <code>refresh token</code> 重新送出請求</li> </ul> <h2 id=使用「token」取得使用者資料>使用「token」取得使用者資料</h2> <ol> <li>傳送 GET 請求到 Discord API</li> </ol> <pre class=language-bash><code class=language-bash>curl -H "Authorization: Bearer ACCESS TOKEN"
     https://discordapp.com/api/users/@me</code></pre><ol start=2> <li>若成功就可取得相關資料</li> </ol> <pre class=language-json><code class=language-json>{
   "id": Discord ID,
   "username": 使用者名稱,
   "avatar": 大頭貼 ID,
   "discriminator": 使用者編號（在名稱#後面的數字）,
   "public_flags": 0,
   "flags": 0,
   "email": 信箱,
   "verified": true,
   "locale": 使用語言,
   "mfa_enabled": false
}</code></pre><ul> <li>頭像可以使用 <code>https://cdn.discordapp.com/avatars/</code>Discord ID<code>/</code>大頭貼 ID 取得</li> </ul> <h2 id=使用-refresh-token-重新取得-access-token>使用 refresh token 重新取得 access token</h2> <ol> <li>傳送 POST 請求到 Discord API</li> </ol> <pre class=language-bash><code class=language-bash>curl -X POST
     -H "Content-Type:application/x-www-form-urlencoded"
     -d "client_id=CLIENT ID
     &client_secret=CLIENT SECRET
     &grant_type=refresh_token
     &refresh_token=REFRESH TOKEN"
     https://discordapp.com/api/oauth2/token</code></pre><ol start=2> <li>若成功就可取得 access token</li> </ol> <pre class=language-json><code class=language-json>{
   "access_token": ACCESS TOKEN,
   "expires_in": 604800,
   "refresh_token": REFRESH TOKEN,
   "scope": SCOPE,
   "token_type": "Bearer"
}</code></pre><h2 id=範例>範例</h2> <p>示範透過此方式取得你的 Discord ID 與大頭貼圖片</p> <p><button id=js-discord-button>Login with Discord</button> <span id=js-discord-status></p> <div class=discord-card id=js-discord-card style=display:none> <img class=discord-card--image id=js-discord-card--image> <div class=discord-card--username id=js-discord-card--username></div> </div> <script> const clientID = "798950274114781204";
const redirectUri = "https://f6bfb5.github.io/login-with-discord";
const scope = "identify email"

function handleClick() {
   document.location.href = `https://discord.com/api/oauth2/authorize?client_id=${clientID}&redirect_uri=${encodeURIComponent(redirectUri)}&response_type=code&scope=${encodeURIComponent(scope)}`;
}

window.addEventListener('load', function() {
   document.getElementById("js-discord-button").addEventListener("click", handleClick);
   // 1. get code from url params
   const urlParams = new URLSearchParams(window.location.search);
   if(urlParams.has("code")) { 
     // 2. post code to get token
     const clientSecret = "3c-TeN5NxElL4la8E6h5BlT4zDHigser";
     const apiUrl = 'https://discordapp.com/api/oauth2/token'
     const data = {
        'client_id': clientID,
        'client_secret': clientSecret,
        'grant_type': 'authorization_code',
        'code': urlParams.get("code"),
        'redirect_uri': redirectUri,
        'scope': scope
     }
     // put payload together
     const formBody = 
     Object.keys(data)
     .map(key => encodeURIComponent(key) 
       + '=' 
       + encodeURIComponent(data[key]))
     .join('&');
     // send post
     const resultData = fetch(apiUrl, {
        method: "POST",
        headers: {
           "content-type": "application/x-www-form-urlencoded"
        },
        body: formBody,
     })
     .then(function(response) {
        if( !response.ok ) {
           throw new Error(response.statusText)
        }
        document.getElementById("js-discord-status").innerText = "token got";
        return response.json()
     })
     // 3. get user data
     .then(function(data) {
        let accessToken = data.access_token;
        const userApiUrl = 'https://discordapp.com/api/users/@me';
        return fetch(userApiUrl, {
           method: "GET",
           headers: {
              "authorization": "Bearer " + accessToken,
           }
        })
     })
     .then(function(response) {
        if( !response.ok ) {
           throw new Error(response.statusText)
        }
        document.getElementById("js-discord-status").innerText = "user data got";
        return response.json();
     })
     .catch(function(error) {
        document.getElementById("js-discord-status").innerText = error;
     })
     // 4. display user data
     resultData.then(function(r) {
        if(r != undefined){
          document.getElementById("js-discord-card").style.display="block";
          document.getElementById("js-discord-card--image").src=`https://cdn.discordapp.com/avatars/${r.id}/${r.avatar}`;
          document.getElementById("js-discord-card--username").innerText=`${r.username}#${r.discriminator}`
        }
     })
   } else {
      document.getElementById("js-discord-status").innerText = "Not logged in";
   }
}) </script> <div class="svelte-zo4zw5 toc-dropdown"> </div></article> <div class="back-to-top hidden svelte-142cfra" style=right:2em>Back to top </div> </div></main> <footer class=svelte-2kuhyy><a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="noreferrer noopener nofollow">CC BY-SA 4.0.</a> <div class="svelte-2kuhyy right">Made with <span class="svelte-2kuhyy heart">❤️</span>, <a href=https://github.com/Charca/sapper-blog-template target=_blank ref="noreferrer noopener nofollow">Sapper</a> and <a href=https://chiron-fonts.github.io/sans/ target=_blank rel="noreferrer noopener nofollow">Chiron Sans HK</a></div> <div class="svelte-2kuhyy clearfix"></div> </footer> </div></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,{post:{title:"實作「使用 Discord 登入」",slug:"login-with-discord",html:"\u003Cul\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fqiita.com\u002Fmasayoshi4649\u002Fitems\u002F46fdb744cb8255f5eb98\"\u003E「Discord の ID でログイン」を実装する(Oauth2) - Qiita\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"於-discord-developer-portal-登錄-application\"\u003E於 Discord Developer Portal 登錄 Application\u003C\u002Fh2\u003E\n\u003Ch3 id=\"取得-「client-id」和「client-secert」\"\u003E取得 「Client ID」和「Client Secert」\u003C\u002Fh3\u003E\n\u003Col\u003E\n\u003Cli\u003E登入 \u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fdiscord.com\u002Fdevelopers\u002Fapplications\"\u003EDiscord Developer Portal\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E點擊右上角的「New Application」\u003C\u002Fli\u003E\n\u003Cli\u003E取名，本例使用 \u003Ccode\u003EOAuth Vertify\u003C\u002Fcode\u003E，點擊「Create」\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003EClient ID\u003C\u002Fcode\u003E 和 \u003Ccode\u003EClient Secert\u003C\u002Fcode\u003E 位於資訊頁的右方\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch3 id=\"建立-oauth-用的網址\"\u003E建立 OAuth 用的網址\u003C\u002Fh3\u003E\n\u003Col\u003E\n\u003Cli\u003E點擊左側的「OAuth2」\u003C\u002Fli\u003E\n\u003Cli\u003E點擊右側的「Add Redirect」，輸入驗證登入的網址\u003C\u002Fli\u003E\n\u003Cli\u003E勾選下方「SCOPE」（索取的資訊欄位）裡的「identify」（Discord 的 ID）和「email」\u003C\u002Fli\u003E\n\u003Cli\u003E就可於頁面下方取得認證用的連結\n\u003Cbr\u003E例：\u003Ccode\u003Ehttps:\u002F\u002Fdiscord.com\u002Fapi\u002Foauth2\u002Fauthorize?client_id=\u003C\u002Fcode\u003ECLIENT ID\u003Ccode\u003E&amp;redirect_uri=\u003C\u002Fcode\u003EREDIRECT URL\u003Ccode\u003E&amp;response_type=code&amp;scope=\u003C\u002Fcode\u003ESCOPE\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch2 id=\"從認證連結取得「code」\"\u003E從認證連結取得「code」\u003C\u002Fh2\u003E\n\u003Cp\u003E使用認證連結登入，並 redirect 到後續頁面後，會回傳一個 \u003Ccode\u003Ecode\u003C\u002Fcode\u003E 參數到網址上\u003C\u002Fp\u003E\n\u003Ch2 id=\"使用「code」取得「token」\"\u003E使用「code」取得「token」\u003C\u002Fh2\u003E\n\u003Cp\u003E我們要再使用這個 \u003Ccode\u003Ecode\u003C\u002Fcode\u003E 去取得 \u003Ccode\u003Eaccess_token\u003C\u002Fcode\u003E，才能得到存取資料的權限\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E傳送 POST 請求到 Discord API\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Ecurl -X POST\n     -H \"Content-Type:application\u002Fx-www-form-urlencoded\"\n     -d \"client_id=CLIENT ID\n     &amp;client_secret=CLIENT SECRET\n     &amp;grant_type=authorization_code\n     &amp;code=CODE\n     &amp;redirect_uri=REDIRECT URL（要與認證 URL 相同）\"\n     https:\u002F\u002Fdiscordapp.com\u002Fapi\u002Foauth2\u002Ftoken\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Col start=\"2\"\u003E\n\u003Cli\u003E若成功就可取得 \u003Ccode\u003Eaccess token\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre class=\"language-json\"\u003E\u003Ccode class=\"language-json\"\u003E{\n  \"access_token\": ACCESS TOKEN,\n  \"expires_in\": 604800,\n  \"refresh_token\": REFRESH TOKEN,\n  \"scope\": SCOPE,\n  \"token_type\": \"Bearer\"\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003Ecode\u003C\u002Fcode\u003E 為一次性使用，同一個 \u003Ccode\u003Ecode\u003C\u002Fcode\u003E 無法存取第二次\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Eaccess token\u003C\u002Fcode\u003E 的有效期限為 604800 秒＝一個禮拜\n\u003Cbr\u003E若有更新需求，須使用 \u003Ccode\u003Erefresh token\u003C\u002Fcode\u003E 重新送出請求\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"使用「token」取得使用者資料\"\u003E使用「token」取得使用者資料\u003C\u002Fh2\u003E\n\u003Col\u003E\n\u003Cli\u003E傳送 GET 請求到 Discord API\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Ecurl -H \"Authorization: Bearer ACCESS TOKEN\"\n     https:\u002F\u002Fdiscordapp.com\u002Fapi\u002Fusers\u002F@me\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Col start=\"2\"\u003E\n\u003Cli\u003E若成功就可取得相關資料\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre class=\"language-json\"\u003E\u003Ccode class=\"language-json\"\u003E{\n   \"id\": Discord ID,\n   \"username\": 使用者名稱,\n   \"avatar\": 大頭貼 ID,\n   \"discriminator\": 使用者編號（在名稱#後面的數字）,\n   \"public_flags\": 0,\n   \"flags\": 0,\n   \"email\": 信箱,\n   \"verified\": true,\n   \"locale\": 使用語言,\n   \"mfa_enabled\": false\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cul\u003E\n\u003Cli\u003E頭像可以使用 \u003Ccode\u003Ehttps:\u002F\u002Fcdn.discordapp.com\u002Favatars\u002F\u003C\u002Fcode\u003EDiscord ID\u003Ccode\u003E\u002F\u003C\u002Fcode\u003E大頭貼 ID 取得\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"使用-refresh-token-重新取得-access-token\"\u003E使用 refresh token 重新取得 access token\u003C\u002Fh2\u003E\n\u003Col\u003E\n\u003Cli\u003E傳送 POST 請求到 Discord API\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Ecurl -X POST\n     -H \"Content-Type:application\u002Fx-www-form-urlencoded\"\n     -d \"client_id=CLIENT ID\n     &amp;client_secret=CLIENT SECRET\n     &amp;grant_type=refresh_token\n     &amp;refresh_token=REFRESH TOKEN\"\n     https:\u002F\u002Fdiscordapp.com\u002Fapi\u002Foauth2\u002Ftoken\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Col start=\"2\"\u003E\n\u003Cli\u003E若成功就可取得 access token\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre class=\"language-json\"\u003E\u003Ccode class=\"language-json\"\u003E{\n   \"access_token\": ACCESS TOKEN,\n   \"expires_in\": 604800,\n   \"refresh_token\": REFRESH TOKEN,\n   \"scope\": SCOPE,\n   \"token_type\": \"Bearer\"\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2 id=\"範例\"\u003E範例\u003C\u002Fh2\u003E\n\u003Cp\u003E示範透過此方式取得你的 Discord ID 與大頭貼圖片\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cbutton id=\"js-discord-button\"\u003ELogin with Discord\u003C\u002Fbutton\u003E\n\u003Cspan id=\"js-discord-status\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cdiv class=\"discord-card\" id=\"js-discord-card\" style=\"display: none\"\u003E\n  \u003Cimg class=\"discord-card--image\" id=\"js-discord-card--image\"\u003E\n  \u003Cdiv class=\"discord-card--username\" id=\"js-discord-card--username\"\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cscript\u003E\nconst clientID = \"798950274114781204\";\nconst redirectUri = \"https:\u002F\u002Ff6bfb5.github.io\u002Flogin-with-discord\";\nconst scope = \"identify email\"\n\nfunction handleClick() {\n   document.location.href = `https:\u002F\u002Fdiscord.com\u002Fapi\u002Foauth2\u002Fauthorize?client_id=${clientID}&redirect_uri=${encodeURIComponent(redirectUri)}&response_type=code&scope=${encodeURIComponent(scope)}`;\n}\n\nwindow.addEventListener('load', function() {\n   document.getElementById(\"js-discord-button\").addEventListener(\"click\", handleClick);\n   \u002F\u002F 1. get code from url params\n   const urlParams = new URLSearchParams(window.location.search);\n   if(urlParams.has(\"code\")) { \n     \u002F\u002F 2. post code to get token\n     const clientSecret = \"3c-TeN5NxElL4la8E6h5BlT4zDHigser\";\n     const apiUrl = 'https:\u002F\u002Fdiscordapp.com\u002Fapi\u002Foauth2\u002Ftoken'\n     const data = {\n        'client_id': clientID,\n        'client_secret': clientSecret,\n        'grant_type': 'authorization_code',\n        'code': urlParams.get(\"code\"),\n        'redirect_uri': redirectUri,\n        'scope': scope\n     }\n     \u002F\u002F put payload together\n     const formBody = \n     Object.keys(data)\n     .map(key =\u003E encodeURIComponent(key) \n       + '=' \n       + encodeURIComponent(data[key]))\n     .join('&');\n     \u002F\u002F send post\n     const resultData = fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n           \"content-type\": \"application\u002Fx-www-form-urlencoded\"\n        },\n        body: formBody,\n     })\n     .then(function(response) {\n        if( !response.ok ) {\n           throw new Error(response.statusText)\n        }\n        document.getElementById(\"js-discord-status\").innerText = \"token got\";\n        return response.json()\n     })\n     \u002F\u002F 3. get user data\n     .then(function(data) {\n        let accessToken = data.access_token;\n        const userApiUrl = 'https:\u002F\u002Fdiscordapp.com\u002Fapi\u002Fusers\u002F@me';\n        return fetch(userApiUrl, {\n           method: \"GET\",\n           headers: {\n              \"authorization\": \"Bearer \" + accessToken,\n           }\n        })\n     })\n     .then(function(response) {\n        if( !response.ok ) {\n           throw new Error(response.statusText)\n        }\n        document.getElementById(\"js-discord-status\").innerText = \"user data got\";\n        return response.json();\n     })\n     .catch(function(error) {\n        document.getElementById(\"js-discord-status\").innerText = error;\n     })\n     \u002F\u002F 4. display user data\n     resultData.then(function(r) {\n        if(r != undefined){\n          document.getElementById(\"js-discord-card\").style.display=\"block\";\n          document.getElementById(\"js-discord-card--image\").src=`https:\u002F\u002Fcdn.discordapp.com\u002Favatars\u002F${r.id}\u002F${r.avatar}`;\n          document.getElementById(\"js-discord-card--username\").innerText=`${r.username}#${r.discriminator}`\n        }\n     })\n   } else {\n      document.getElementById(\"js-discord-status\").innerText = \"Not logged in\";\n   }\n})\n\u003C\u002Fscript\u003E\n",date:"2021-01-14T00:24:23.000Z",printDate:"January 14, 2021",printReadingTime:"3 min read",tags:[]}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.7e817749.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.4.js";s.setAttribute("data-main","/client/client.7e817749.js")}document.head.appendChild(s)</script> 