{"title":"如何建立 Chrome 插件","slug":"make-chrome-extension","html":"<h2 id=\"chrome-套件架構\">Chrome 套件架構</h2>\n<ol>\n<li>manifest</li>\n<li>background script</li>\n<li>ui elements</li>\n<li>content script</li>\n<li>options page</li>\n</ol>\n<h2 id=\"詳細介紹\">詳細介紹</h2>\n<h3 id=\"mainfest\">mainfest</h3>\n<p>建立 Manifest 檔案</p>\n<ul>\n<li><code>manifest.json</code>：基本設定</li>\n<li><code>manifest_version</code>: manifest 檔案使用的格式版本（目前官方最新版為 2）</li>\n<li><code>version</code>: 此套件的版本資訊（初次完成的版本可設定為 1）</li>\n<li><code>name</code>: 套件名稱</li>\n<li><code>description</code>: 套件簡短介紹</li>\n<li><code>icons</code>: 提供套件將使用到的各尺寸圖像檔</li>\n</ul>\n<pre class=\"language-json\"><code class=\"language-json\">{\n  \"name\": \"Placeholder Image\",\n  \"version\": \"1.1\",\n  \"description\": \"Quickly find the right placeholder image for yourself!\",\n  \"manifest_version\": 2,\n  \"icons\": {\n    \"16\": \"images/image16.png\",\n    \"32\": \"images/image32.png\",\n    \"48\": \"images/image48.png\",\n    \"128\": \"images/image128.png\"\n  }\n}</code></pre><h3 id=\"background-script\">background script</h3>\n<p>設定 Background Scripts</p>\n<ul>\n<li><code>manifest.json</code>：設定 <code>background</code> 屬性和其相關設定</li>\n<li><code>scripts</code>: 設定使用哪個背景腳本檔案（在此用 <code>background.js</code>）</li>\n<li><code>persistent</code>: 設定背景腳本是否持續運行（官方建議 <code>false</code>: 根據事件開啟和關閉）</li>\n</ul>\n<pre class=\"language-json\"><code class=\"language-json\">{\n  ...\n  \"background\": {\n    \"scripts\": [\n      \"background.js\"\n    ],\n    \"persistent\": false\n  },\n  ...\n}</code></pre><h2 id=\"download-file-chrome-extension\">Download File Chrome Extension</h2>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">let</span> images <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">slice</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">(</span><span class=\"token parameter\">img</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n      img<span class=\"token punctuation\">.</span>href <span class=\"token operator\">&amp;&amp;</span>\n      img<span class=\"token punctuation\">.</span>href<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"jpeg\"</span><span class=\"token punctuation\">,</span> img<span class=\"token punctuation\">.</span>href<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token string\">\"jpeg\"</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>img <span class=\"token keyword\">of</span> images<span class=\"token punctuation\">)</span> img<span class=\"token punctuation\">.</span><span class=\"token function\">setAttributeNode</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">createAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"download\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><ul>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://hamedoragon.fanbox.cc/posts/1197681\">いつも弟の部屋で口淫してくれるパシリの姉ちゃん(オリジナルサイズ差分 25 枚!!!)｜ハメドラゴン｜ pixivFANBOX</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://gist.github.com/sfrdmn/8834747\">Bookmarklet to download all images on a page</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://stackoverflow.com/questions/19830088/download-multiple-images-at-once-with-javascript\">google chrome extension - Download multiple images at once with Javascript - Stack Overflow</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://blog.verslu.is/development/chrome-extension-vs-code/\">Creating a Chrome Extension with VS Code - Gerald Versluis</a></li>\n</ul>\n<h2 id=\"參考文章\">參考文章</h2>\n<ul>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://medium.com/%E9%BA%A5%E5%85%8B%E7%9A%84%E5%8D%8A%E8%B7%AF%E5%87%BA%E5%AE%B6%E7%AD%86%E8%A8%98/%E7%AD%86%E8%A8%98-%E5%BE%9E%E9%9B%B6%E9%96%8B%E5%A7%8B%E8%A3%BD%E4%BD%9C-chrome-%E5%A5%97%E4%BB%B6%E5%88%B0%E4%B8%8A%E6%9E%B6%E5%95%86%E5%BA%97-4971ed79ac77\">[筆記] 從零開始製作 Chrome 套件到上架商店</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://medium.com/chris-chuang/%E5%88%9D%E6%8E%A2-chrome-extension-19688ab79ae0\">初探 Chrome Extension</a></li>\n</ul>\n","date":"2019-11-05T01:57:35.000Z","excerpt":"","printDate":"November 5, 2019","printReadingTime":"1 min read"}