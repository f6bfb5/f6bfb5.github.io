{"title":"Vue 筆記 - Vuex","slug":"js-vue-vuex","html":"<h2 id=\"介紹\">介紹</h2>\n<ul>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://vuex.vuejs.org/\">Vuex</a> 參考 Flux design pattern 與 Redux 狀態管理模式</li>\n<li>將 <code>單向資料流 Flux 設計模式</code> 實作進 Vue 框架中，取 <code>flux</code> 中的 <code>x</code> 得名</li>\n<li>使用單一狀態樹統一管理應用程式的所有狀態，並儲存狀態（<code>state</code>）於 <code>store</code></li>\n</ul>\n<h3 id=\"actions\"><code>Actions</code>:</h3>\n<ol>\n<li>定義 App 的所有行為\n前端組件觸發事件時會 <code>dispatch</code> 給 <code>Actions</code>\n<code>Actions</code> 不會直接修改 <code>State</code>，而是提交（commit） <code>mutation</code>\n讓對應的 <code>mutation handler</code> 去更改 <code>State</code></li>\n<li>亦可非同步與 Backend API 溝通</li>\n</ol>\n<h3 id=\"mutations\"><code>Mutations</code>:</h3>\n<ol>\n<li>從 <code>commit</code> 接收 <code>Actions</code> 傳遞的資料與行為，透過計算處理後更改 <code>State</code></li>\n<li>每個 <code>Mutation</code> 都有一個字串型態的 <code>type</code>（事件類型）和 <code>handler</code>（回調函數）。</li>\n<li><code>handler</code>（回調函數）是實際更改狀態的地方，首個傳入參數便為 <code>State</code></li>\n<li>只有 <code>commit mutation</code> 才可更改 <code>State</code> 中的狀態，不可直接調用 <code>mutation handler</code></li>\n</ol>\n<h3 id=\"state\"><code>State</code>:</h3>\n<ol>\n<li>使用一個物件型態記錄 App 所有狀態</li>\n<li>由 <code>Mutation</code> 更改狀態</li>\n<li>建議將所有 App 狀態存入 <code>Store</code> 中，但 Vuex 仍可讓組件保有局部狀態</li>\n</ol>\n<h3 id=\"單向資料流\">單向資料流</h3>\n<p>所有的動作從 <code>action</code> 出發，將結果存進 store 中，改變 <code>state</code>，\n<code>state</code> 改變後，<code>view</code> 會連同改變，\n而這一連串的行為是 <code>不可逆</code> 的，因此稱為單向資料流。</p>\n<h2 id=\"安裝\">安裝</h2>\n<ol>\n<li>npm: <code>npm instasll vuex --save</code></li>\n<li>CDN: <code>https://unpkg.com/vuex</code></li>\n</ol>\n<h3 id=\"設置\">設置</h3>\n<p><code>main.js</code>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> Vuex <span class=\"token keyword\">from</span> <span class=\"token string\">\"vuex\"</span><span class=\"token punctuation\">;</span>\nVue<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>Vuex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><h2 id=\"參考文章\">參考文章</h2>\n<ul>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://hackmd.io/@chupai/BJA4FwcJL\">Vuex 起手式 - HackMD</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://ithelp.ithome.com.tw/users/20107601/ironman/1454\">Vuex 學習筆記 :: 2018 iT 邦幫忙鐵人賽</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://qiita.com/fruitriin/items/42b0ebc5f8a524a0ae17\">vuex をまだ理解していない全人類に捧ぐ vuex を利用したコードの図解 - Qiita</a></li>\n</ul>\n","date":"2019-12-07T06:43:15.000Z","excerpt":null,"printDate":"December 7, 2019","printReadingTime":"1 min read","tags":["F2E","JavaScript"],"image":"https://f6bfb5.github.io/preview/js-vue-vuex.png"}