<!doctype html> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=global.css rel=stylesheet> <link href=fonts.css rel=stylesheet> <link href=highlight.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=favicon.png rel=icon type=image/png> <link href=client/main.738921814.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>Blog with Svelte</title><meta content=article property=og:type><meta content="Blog with Svelte" property=og:title><meta content="" name=Description><meta content="" property=og:description><meta content=summary_large_image name=twitter:card><meta name=twitter:title value="Blog with Svelte"><meta content="" name=twitter:description><meta name=twitter:label1 value="Published on"><meta name=twitter:data1 value="Jan 2, 1970"><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <div class="svelte-wjh32h layout"> <header class=svelte-310tmg> <nav class=svelte-dvivxn> <a href=. class=svelte-dvivxn>blog</a> <a href=about class=svelte-dvivxn>about</a> </nav> <a href=/ > <img alt=Sapper class=svelte-nsstmh src=logo-192.png> </a> </header> <main class=svelte-wjh32h> <header class=svelte-7rau0t> <h1 class=svelte-7rau0t>Blog with Svelte</h1> <p class=svelte-7rau0t>January 2, 1970</p> </header> <div class=container> <article class=content> <h4 id=anchor-links-using-remark-slug>Anchor links using remark-slug</h4> <ul> <li><a href=javascript:; onclick="document.location.hash='前言';">前言</a></li> <li><a href=javascript:; onclick="document.location.hash='安裝-svelte';">安裝 Svelte</a></li> <li><a href=javascript:; onclick="document.location.hash='whats-inside-it';">What's inside it?</a></li> <li><a href=javascript:; onclick="document.location.hash='how-does-it-work';">How does it work?</a></li> </ul> <hr> <h2 id=前言>前言</h2> <p>之前陸續試了幾個能搭配 Markdown 產生網頁的 library，像是 Hexo 或 Gridsome，但對於內容幾乎只是給自己看的雜記的我來說，用起來總覺得有種殺雞用牛刀的感覺，趁著之前也有些許關注的 Svelte 在今年興起熱潮，換了 Sapper 的 blog template 來試試使用效果如何。</p> <p>（追記：原本是先看到 Routify 的 blog template 覺得很不錯，但 Routify 似乎因為需要用到檔案路徑做 SPA，沒辦法 host 在 GitHub Pages 上，參考：<a href=https://blog.huli.tw/2019/09/18/spa-common-problem-about-router/ rel=nofollow target=_blank>淺談新手在學習 SPA 時的常見問題：以 Router 為例 - Huli</a>，最後改用了 Sapper）</p> <h2 id=routify-blog-template>Routify Blog Template</h2> <h3 id=安裝>安裝</h3> <pre class=language-bash><code class=language-bash>mkdir svelte-md-blog
cd svelte-md-blog
npx @sveltech/routify init --branch blog
npm run dev</code></pre><h3 id=whats-inside-it>What's inside it?</h3> <h4 id=svelte><a href=https://svelte.dev/ rel=nofollow target=_blank>Svelte</a></h4> <p>一套秉持「Write less code」的精神，為了建構 UI 而生的 JavaScript 編譯器，不採用 Virtual DOM diff，而是用原生 JS 直接修改 DOM，擁有相對優秀的執行速度與檔案大小表現。</p> <h4 id=routify><a href=https://routify.dev/ rel=nofollow target=_blank>Routify</a></h4> <p>基於檔案系統結構的 Svelte routing library，因應檔案變更自動產生路由，並具有 SPA、SSR、PWA、產生 Meta Tags、分割 code 的功能。</p> <ul> <li><a href=https://qiita.com/sho0211/items/ea99738f69d4426dbb1e rel=nofollow target=_blank>Routify (Svelte Router) をコードリーディングして完全に理解する - Qiita</a></li> </ul> <h4 id=mdsvex><a href=https://mdsvex.com/ rel=nofollow target=_blank>MDsveX</a></h4> <p>可以在 Markdown 裡使用 Svelte component、在 Svelte component 裡使用 Markdown 的 Library。</p> <h3 id=how-does-it-work>How does it work?</h3> <pre class=language-html><code class=language-html><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> layout<span class="token punctuation">,</span> isActive<span class="token punctuation">,</span> url<span class="token punctuation">,</span> goto<span class="token punctuation">,</span> page <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@svelte/routify"</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">let</span> node <span class="token operator">=</span> $layout<span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
  {#each node.children as node}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{$url(node.path)}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">class:</span>active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{$isActive(node.path)}<span class="token punctuation">"</span></span>
      <span class="token punctuation">></span></span>{node.title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span>
    <span class="token punctuation">></span></span>
    {#if node.children.length}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">svelte:</span>self</span> <span class="token attr-name">{node}</span> <span class="token punctuation">/></span></span>
    {/if}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  {/each}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span></code></pre><h3 id=setting-html-metatags>Setting HTML metatags</h3> <ul> <li><a href=https://routify.dev/docs/metatags rel=nofollow target=_blank>HTML Metatags - Routify</a></li> <li><a href=https://developers.facebook.com/docs/sharing/webmasters/ rel=nofollow target=_blank>網站管理員 - Sharing</a></li> </ul> <table> <thead> <tr> <th>Metatags</th> <th>說明</th> </tr> </thead> <tr> <td><code>og:title</code></td> <td>網頁內容的標題，不包含網站名稱等任何品牌內容</td> </tr> <tr> <td><code>og:url</code></td> <td>網頁內容的網址，此網址應為標準網址（canonical URL）</td> </tr> <tr> <td><code>og:description</code></td> <td>內容的簡短說明，通常為 2 到 4 個句子</td> </tr> <tr> <td><code>og:image</code></td> <td>用戶將內容分享至 SNS 時顯示的圖像網址，建議為 <code>1.91:1</code> 比例、最小 <code>1200x630</code> 解析度</td> </tr> <tr> <td><code>og:type</code></td> <td>內容的媒體類型，每個網址都應該是單一物件，預設為 <code>website</code></td> </tr> <tr> <td><code>og:locale</code></td> <td>資源的地區設定，預設為 <code>en_US</code>，原生內容以非英文撰寫時才需設定</td> </tr> </table> <p><code>pages\_layout.svelte</code></p> <pre class=language-svelte><code class=language-svelte>$: metatags.title = $page.meta.frontmatter
  ? $page.meta.frontmatter["title"]
  : `${$page.title}`;
$: metatags.description = $page.meta.frontmatter
  ? $page.meta.frontmatter["summary"]
  : "";

$: metatags["twitter:title"] = $page.meta.frontmatter
  ? $page.meta.frontmatter["title"]
  : `${$page.title}`;
$: metatags["twitter:description"] = $page.meta.frontmatter
  ? $page.meta.frontmatter["summary"]
  : "";</code></pre><h3 id=deploy>Deploy</h3> <p>（待）</p> <h2 id=sapper-blog-template>Sapper Blog Template</h2> <h3 id=安裝-1>安裝</h3> <pre class=language-bash><code class=language-bash>npx degit Charca/sapper-blog-template your-blog-name
cd your-blog-name
npm install # or yarn!
npm run dev</code></pre><h3 id=whats-inside-it-1>What's inside it?</h3> <h4 id=sapper>Sapper</h4> <p>Sapper 是套定位類似於 React 的 Next.js、Vue 的 Nuxt.js 的 framework 工具，基於 Svelte 之上處理與補足了例如 SSR、SPA、SSG 這類製作應用的需求</p> <h3 id=how-does-it-work-1>How does it work?</h3> <p>template 中的 blog 相關檔案位於 <code>src/routes/blog</code>，主要功能由以下三個檔案實作：</p> <ul> <li><code>_posts.js</code>：讀取和 parse markdown 檔案的 module</li> <li><code>[slug].svelte</code>：文章頁面的 template</li> <li><code>index.svelte</code>：文章列表的 template</li> </ul> <p>文章則放置於 <code>src/routes/blog/posts</code> 資料夾中，文章檔案名稱會 parse 成為網頁路徑，撰寫於文章開頭到 <code>&lt;!-- mode --></code> 之間的內容會成為預覽部份，標題和日期記載在檔案內的 yaml 區域內</p> <h3 id=deploy-1>Deploy</h3> <p>這次我參考了<a href=https://github.com/marketplace/actions/deploy-to-github-pages rel=nofollow target=_blank>Deploy to GitHub Pages · Actions · GitHub Marketplace</a>，讓 GitHub Actions 在 push 原始碼上去之後跑 build 和 deploy 到 <code>gh-pages</code> branch，再把 <code>github.io</code> 的顯示來源也改成 <code>gh-pages</code> branch</p> <p>比較不同的是 <code>npm run build</code> 生產出來的網頁仍然和 Routify 一樣需要後端伺服器，需要改以 <code>npm run export</code> 讓 Sapper 自己爬一遍整個網站產生靜態頁面，才能 host 到 GitHub Pages 上</p> <ol> <li>在專案資料夾根目錄底下新增一個 <code>.github</code> 資料夾</li> <li>在裡頭新增一個 <code>workflows</code> 資料夾</li> <li>在裡頭新增一個 <code>deploy-to-github-pages.yaml</code> 檔案</li> <li>貼上以下截取自上方連結的內容</li> <li>將檔案 push 到 GitHub 後，就可透過 GitHub Actions 把 build 完畢的檔案自動 branch 到 <code>gh-pages</code> 分支</li> </ol> <pre class=language-yml><code class=language-yml>name: Build and Deploy
on: [push]
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout 🛎️
        uses: actions/checkout@v2.3.1 # If you're using actions/checkout@v2 you must set persist-credentials to false in most cases for the deployment to work correctly.
        with:
          persist-credentials: false

      - name: Install and Build 🔧 # This example project is built using npm and outputs the result to the 'build' folder. Replace with the commands required to build your project, or remove this step entirely if your site is pre-built.
        run: |
          npm install
          npm run export

      - name: Deploy 🚀
        uses: JamesIves/github-pages-deploy-action@3.7.1
        with:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          BRANCH: gh-pages # The branch the action should deploy to.
          FOLDER: __sapper__/export # The folder the action should deploy.
          CLEAN: true # Automatically remove deleted files from the deploy branch</code></pre> </article> </div> </main> <footer class=svelte-wjh32h> <span> <a href=https://creativecommons.org/licenses/by-sa/4.0/ rel="noreferrer noopener nofollow" target=_blank>CC BY-SA 4.0.</a> </span> </footer> </div></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,{post:{title:"Blog with Svelte",slug:"blog-with-svelte",html:"\u003Ch4 id=\"anchor-links-using-remark-slug\"\u003EAnchor links using remark-slug\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca onclick=\"document.location.hash='前言';\" href=\"javascript:;\"\u003E前言\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca onclick=\"document.location.hash='安裝-svelte';\" href=\"javascript:;\"\u003E安裝 Svelte\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca onclick=\"document.location.hash='whats-inside-it';\" href=\"javascript:;\"\u003EWhat&#39;s inside it?\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca onclick=\"document.location.hash='how-does-it-work';\" href=\"javascript:;\"\u003EHow does it work?\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Chr\u003E\n\u003Ch2 id=\"前言\"\u003E前言\u003C\u002Fh2\u003E\n\u003Cp\u003E之前陸續試了幾個能搭配 Markdown 產生網頁的 library，像是 Hexo 或 Gridsome，但對於內容幾乎只是給自己看的雜記的我來說，用起來總覺得有種殺雞用牛刀的感覺，趁著之前也有些許關注的 Svelte 在今年興起熱潮，換了 Sapper 的 blog template 來試試使用效果如何。\u003C\u002Fp\u003E\n\u003Cp\u003E（追記：原本是先看到 Routify 的 blog template 覺得很不錯，但 Routify 似乎因為需要用到檔案路徑做 SPA，沒辦法 host 在 GitHub Pages 上，參考：\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fblog.huli.tw\u002F2019\u002F09\u002F18\u002Fspa-common-problem-about-router\u002F\"\u003E淺談新手在學習 SPA 時的常見問題：以 Router 為例 - Huli\u003C\u002Fa\u003E，最後改用了 Sapper）\u003C\u002Fp\u003E\n\u003Ch2 id=\"routify-blog-template\"\u003ERoutify Blog Template\u003C\u002Fh2\u003E\n\u003Ch3 id=\"安裝\"\u003E安裝\u003C\u002Fh3\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Emkdir svelte-md-blog\ncd svelte-md-blog\nnpx @sveltech\u002Froutify init --branch blog\nnpm run dev\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"whats-inside-it\"\u003EWhat&#39;s inside it?\u003C\u002Fh3\u003E\n\u003Ch4 id=\"svelte\"\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fsvelte.dev\u002F\"\u003ESvelte\u003C\u002Fa\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E一套秉持「Write less code」的精神，為了建構 UI 而生的 JavaScript 編譯器，不採用 Virtual DOM diff，而是用原生 JS 直接修改 DOM，擁有相對優秀的執行速度與檔案大小表現。\u003C\u002Fp\u003E\n\u003Ch4 id=\"routify\"\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Froutify.dev\u002F\"\u003ERoutify\u003C\u002Fa\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E基於檔案系統結構的 Svelte routing library，因應檔案變更自動產生路由，並具有 SPA、SSR、PWA、產生 Meta Tags、分割 code 的功能。\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fqiita.com\u002Fsho0211\u002Fitems\u002Fea99738f69d4426dbb1e\"\u003ERoutify (Svelte Router) をコードリーディングして完全に理解する - Qiita\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch4 id=\"mdsvex\"\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fmdsvex.com\u002F\"\u003EMDsveX\u003C\u002Fa\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E可以在 Markdown 裡使用 Svelte component、在 Svelte component 裡使用 Markdown 的 Library。\u003C\u002Fp\u003E\n\u003Ch3 id=\"how-does-it-work\"\u003EHow does it work?\u003C\u002Fh3\u003E\n\u003Cpre class=\"language-html\"\u003E\u003Ccode class=\"language-html\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token script\"\u003E\u003Cspan class=\"token language-javascript\"\u003E\n  \u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E layout\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E isActive\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E url\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E goto\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E page \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"@svelte\u002Froutify\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Elet\u003C\u002Fspan\u003E node \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E $layout\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Eul\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  {#each node.children as node}\n  \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Eli\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\"token attr-name\"\u003Ehref\u003C\u002Fspan\u003E\u003Cspan class=\"token attr-value\"\u003E\u003Cspan class=\"token punctuation attr-equals\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003E{$url(node.path)}\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token attr-name\"\u003E\u003Cspan class=\"token namespace\"\u003Eclass:\u003C\u002Fspan\u003Eactive\u003C\u002Fspan\u003E\u003Cspan class=\"token attr-value\"\u003E\u003Cspan class=\"token punctuation attr-equals\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003E{$isActive(node.path)}\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E{node.title}\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Ea\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    {#if node.children.length}\n    \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"token namespace\"\u003Esvelte:\u003C\u002Fspan\u003Eself\u003C\u002Fspan\u003E \u003Cspan class=\"token attr-name\"\u003E{node}\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E\u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    {\u002Fif}\n  \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Eli\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  {\u002Feach}\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Eul\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"setting-html-metatags\"\u003ESetting HTML metatags\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Froutify.dev\u002Fdocs\u002Fmetatags\"\u003EHTML Metatags - Routify\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fdevelopers.facebook.com\u002Fdocs\u002Fsharing\u002Fwebmasters\u002F\"\u003E網站管理員 - Sharing\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003EMetatags\u003C\u002Fth\u003E\n\u003Cth\u003E說明\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003Eog:title\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E網頁內容的標題，不包含網站名稱等任何品牌內容\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003Eog:url\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E網頁內容的網址，此網址應為標準網址（canonical URL）\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003Eog:description\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E內容的簡短說明，通常為 2 到 4 個句子\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003Eog:image\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E用戶將內容分享至 SNS 時顯示的圖像網址，建議為 \u003Ccode\u003E1.91:1\u003C\u002Fcode\u003E 比例、最小 \u003Ccode\u003E1200x630\u003C\u002Fcode\u003E 解析度\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003Eog:type\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E內容的媒體類型，每個網址都應該是單一物件，預設為 \u003Ccode\u003Ewebsite\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003Eog:locale\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E資源的地區設定，預設為 \u003Ccode\u003Een_US\u003C\u002Fcode\u003E，原生內容以非英文撰寫時才需設定\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\n\u003Cp\u003E\u003Ccode\u003Epages\\_layout.svelte\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-svelte\"\u003E\u003Ccode class=\"language-svelte\"\u003E$: metatags.title = $page.meta.frontmatter\n  ? $page.meta.frontmatter[\"title\"]\n  : `${$page.title}`;\n$: metatags.description = $page.meta.frontmatter\n  ? $page.meta.frontmatter[\"summary\"]\n  : \"\";\n\n$: metatags[\"twitter:title\"] = $page.meta.frontmatter\n  ? $page.meta.frontmatter[\"title\"]\n  : `${$page.title}`;\n$: metatags[\"twitter:description\"] = $page.meta.frontmatter\n  ? $page.meta.frontmatter[\"summary\"]\n  : \"\";\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"deploy\"\u003EDeploy\u003C\u002Fh3\u003E\n\u003Cp\u003E（待）\u003C\u002Fp\u003E\n\u003Ch2 id=\"sapper-blog-template\"\u003ESapper Blog Template\u003C\u002Fh2\u003E\n\u003Ch3 id=\"安裝-1\"\u003E安裝\u003C\u002Fh3\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Enpx degit Charca\u002Fsapper-blog-template your-blog-name\ncd your-blog-name\nnpm install # or yarn!\nnpm run dev\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"whats-inside-it-1\"\u003EWhat&#39;s inside it?\u003C\u002Fh3\u003E\n\u003Ch4 id=\"sapper\"\u003ESapper\u003C\u002Fh4\u003E\n\u003Cp\u003ESapper 是套定位類似於 React 的 Next.js、Vue 的 Nuxt.js 的 framework 工具，基於 Svelte 之上處理與補足了例如 SSR、SPA、SSG 這類製作應用的需求\u003C\u002Fp\u003E\n\u003Ch3 id=\"how-does-it-work-1\"\u003EHow does it work?\u003C\u002Fh3\u003E\n\u003Cp\u003Etemplate 中的 blog 相關檔案位於 \u003Ccode\u003Esrc\u002Froutes\u002Fblog\u003C\u002Fcode\u003E，主要功能由以下三個檔案實作：\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003E_posts.js\u003C\u002Fcode\u003E：讀取和 parse markdown 檔案的 module\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003E[slug].svelte\u003C\u002Fcode\u003E：文章頁面的 template\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Eindex.svelte\u003C\u002Fcode\u003E：文章列表的 template\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E文章則放置於 \u003Ccode\u003Esrc\u002Froutes\u002Fblog\u002Fposts\u003C\u002Fcode\u003E 資料夾中，文章檔案名稱會 parse 成為網頁路徑，撰寫於文章開頭到 \u003Ccode\u003E&lt;!-- mode --&gt;\u003C\u002Fcode\u003E 之間的內容會成為預覽部份，標題和日期記載在檔案內的 yaml 區域內\u003C\u002Fp\u003E\n\u003Ch3 id=\"deploy-1\"\u003EDeploy\u003C\u002Fh3\u003E\n\u003Cp\u003E這次我參考了\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fgithub.com\u002Fmarketplace\u002Factions\u002Fdeploy-to-github-pages\"\u003EDeploy to GitHub Pages · Actions · GitHub Marketplace\u003C\u002Fa\u003E，讓 GitHub Actions 在 push 原始碼上去之後跑 build 和 deploy 到 \u003Ccode\u003Egh-pages\u003C\u002Fcode\u003E branch，再把 \u003Ccode\u003Egithub.io\u003C\u002Fcode\u003E 的顯示來源也改成 \u003Ccode\u003Egh-pages\u003C\u002Fcode\u003E branch\u003C\u002Fp\u003E\n\u003Cp\u003E比較不同的是 \u003Ccode\u003Enpm run build\u003C\u002Fcode\u003E 生產出來的網頁仍然和 Routify 一樣需要後端伺服器，需要改以 \u003Ccode\u003Enpm run export\u003C\u002Fcode\u003E 讓 Sapper 自己爬一遍整個網站產生靜態頁面，才能 host 到 GitHub Pages 上\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E在專案資料夾根目錄底下新增一個 \u003Ccode\u003E.github\u003C\u002Fcode\u003E 資料夾\u003C\u002Fli\u003E\n\u003Cli\u003E在裡頭新增一個 \u003Ccode\u003Eworkflows\u003C\u002Fcode\u003E 資料夾\u003C\u002Fli\u003E\n\u003Cli\u003E在裡頭新增一個 \u003Ccode\u003Edeploy-to-github-pages.yaml\u003C\u002Fcode\u003E 檔案\u003C\u002Fli\u003E\n\u003Cli\u003E貼上以下截取自上方連結的內容\u003C\u002Fli\u003E\n\u003Cli\u003E將檔案 push 到 GitHub 後，就可透過 GitHub Actions 把 build 完畢的檔案自動 branch 到 \u003Ccode\u003Egh-pages\u003C\u002Fcode\u003E 分支\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre class=\"language-yml\"\u003E\u003Ccode class=\"language-yml\"\u003Ename: Build and Deploy\non: [push]\njobs:\n  build-and-deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout 🛎️\n        uses: actions\u002Fcheckout@v2.3.1 # If you're using actions\u002Fcheckout@v2 you must set persist-credentials to false in most cases for the deployment to work correctly.\n        with:\n          persist-credentials: false\n\n      - name: Install and Build 🔧 # This example project is built using npm and outputs the result to the 'build' folder. Replace with the commands required to build your project, or remove this step entirely if your site is pre-built.\n        run: |\n          npm install\n          npm run export\n\n      - name: Deploy 🚀\n        uses: JamesIves\u002Fgithub-pages-deploy-action@3.7.1\n        with:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          BRANCH: gh-pages # The branch the action should deploy to.\n          FOLDER: __sapper__\u002Fexport # The folder the action should deploy.\n          CLEAN: true # Automatically remove deleted files from the deploy branch\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E",date:"1970-01-02T00:00:00.000Z",excerpt:"",printDate:"January 2, 1970",printReadingTime:"3 min read"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.92af5b0c.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main","/client/client.92af5b0c.js")}document.head.appendChild(s)</script> 