<!DOCTYPE html>
<html lang="zh-Hant-TW">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />

    <link
      rel="preload"
      href="../fonts/fusion-pixel.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link rel="preload prefetch" href="../global.css" as="style" />
    <link rel="stylesheet" href="../global.css" />
    <!-- <link rel="manifest" href="../manifest.json" /> -->
    <link rel="icon" type="image/png" href="../favicon.ico" />

    <!-- This contains the contents of the <svelte:head> component, if
	     the current page has one -->
    <meta http-equiv="content-security-policy" content=""><script async src="https://www.googletagmanager.com/gtag/js?id=G-CRDP7WTXSQ" data-svelte="svelte-bhtlqr"></script><link rel="shortcut icon" href="/favicon.ico" data-svelte="svelte-1c8ynol"><link rel="bookmark" href="/favicon.ico" data-svelte="svelte-1c8ynol">
	<link rel="stylesheet" href="/_app/assets/pages/__layout.svelte-193c0755.css">
	<link rel="stylesheet" href="/_app/assets/Favicon-3192f126.css">
	<link rel="stylesheet" href="/_app/assets/_post-4f2ae730.css">
	<link rel="stylesheet" href="/_app/assets/BlinkAnchor-39834c8c.css">
	<link rel="modulepreload" href="/_app/start-03bc0960.js">
	<link rel="modulepreload" href="/_app/chunks/index-8418cccc.js">
	<link rel="modulepreload" href="/_app/chunks/index-17c965c3.js">
	<link rel="modulepreload" href="/_app/chunks/paths-396f020f.js">
	<link rel="modulepreload" href="/_app/chunks/preload-helper-e4860ae8.js">
	<link rel="modulepreload" href="/_app/pages/__layout.svelte-be2180a5.js">
	<link rel="modulepreload" href="/_app/chunks/Favicon-11e82754.js">
	<link rel="modulepreload" href="/_app/chunks/store-9a37e688.js">
	<link rel="modulepreload" href="/_app/pages/posts/11ty-note.md-c055830c.js">
	<link rel="modulepreload" href="/_app/chunks/_post-d4178251.js">
	<link rel="modulepreload" href="/_app/chunks/BlinkAnchor-aec4dee8.js">
  </head>
  <body>
    <!-- The application will be rendered inside this element,
	     because `app/client.js` references it -->
    








<div class="layout svelte-1avnl50" style=""><div class="loader-container svelte-1avnl50"><div class="loader svelte-v56dyc"><span class="loader-text loader-step1 svelte-v56dyc">/</span>
  <span class="loader-text loader-step1 svelte-v56dyc">-</span>
  <span class="loader-text loader-step1 svelte-v56dyc">\</span>
  <span class="loader-text loader-step1 svelte-v56dyc">|</span>
</div></div></div>

<div class="layout svelte-1avnl50" style="display: none;">
  
  <header class="svelte-3mmsgf"><div class="header-container svelte-3mmsgf"><div class="row svelte-3mmsgf"><nav class="svelte-t90z2a"><a class=" svelte-t90z2a" href="/">トリコじかけの明け暮れ
  </a>
  <a class=" svelte-t90z2a" href="/about">about
  </a>
  <a class=" svelte-t90z2a" href="/rss.xml" target="_blank">rss
  </a>
  <a style="display: none;" href="/sitemap.xml" target="_blank" class="svelte-t90z2a">sitemap
  </a>
</nav>
      <a href="https://dic.nicovideo.jp/a/%E3%80%8C%E3%81%82%E3%81%A3%E3%81%9D%E3%82%8C%E7%A6%81%E6%AD%A2%E3%81%95%E3%82%8C%E3%81%A6%E3%82%8B%E3%82%93%E3%81%A0%E3%80%8D%E3%81%A3%E3%81%A6%E3%81%84%E3%81%86%E8%A6%8F%E5%89%87%E3%82%84%E3%83%AB%E3%83%BC%E3%83%AB%E3%81%AE%E4%B8%80%E8%A6%A7" target="_blank" rel="noreferrer noopener" class="svelte-145ut21"><img src="https://i.imgur.com/D0PAWCi.gif" alt="logo" class="svelte-145ut21">
</a></div>
    </div>
</header>

  <main class="svelte-1avnl50"><header class="svelte-1y1bvug"><h1 class="title svelte-1y1bvug"><span style="animation-delay: 125ms; " class="svelte-1y1bvug">E
      </span><span style="animation-delay: 150ms; " class="svelte-1y1bvug">l
      </span><span style="animation-delay: 175ms; " class="svelte-1y1bvug">e
      </span><span style="animation-delay: 200ms; " class="svelte-1y1bvug">v
      </span><span style="animation-delay: 225ms; " class="svelte-1y1bvug">e
      </span><span style="animation-delay: 250ms; " class="svelte-1y1bvug">n
      </span><span style="animation-delay: 275ms; " class="svelte-1y1bvug">t
      </span><span style="animation-delay: 300ms; " class="svelte-1y1bvug">y
      </span><span style="animation-delay: 325ms; " class="svelte-1y1bvug">雜
      </span><span style="animation-delay: 350ms; " class="svelte-1y1bvug">記
      </span></h1>
  <p class="meta svelte-1y1bvug"><span class="date svelte-1y1bvug">Sep 3, 2022</span>
    <div class="tags svelte-1y1bvug"><span class="tag svelte-1y1bvug">F2E</span></div></p></header>
<div class="post--container svelte-1y1bvug"><article class="post--content svelte-1y1bvug"><ul><li><a href="https://www.11ty.dev/" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=https://www.11ty.dev/" alt="Eleventy, a simpler static site generator"><span>Eleventy, a simpler static site generator</span></a></li>
<li><a href="https://www.11ty.dev/docs/" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=https://www.11ty.dev/docs/" alt="Eleventy Documentation"><span>Eleventy Documentation</span></a></li></ul>
<h2 id="js-id-安裝">安裝</h2>
<ul><li>Setup<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash"><span class="token function">mkdir</span> 11ty-project <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> 11ty-project
<span class="token function">npm</span> init -y
<span class="token function">npm</span> <span class="token function">install</span> @11ty/eleventy</code><!-- HTML_TAG_END --></pre></li>
<li><code>packages.json</code> Base Configuration<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  <span class="token string-property property">"start"</span><span class="token operator">:</span> <span class="token string">"npx @11ty/eleventy --serve"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"build"</span><span class="token operator">:</span> <span class="token string">"npx @11ty/eleventy"</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre></li>
<li><code>.eleventy.js</code> Eleventy Configuration<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">eleventyConfig</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">dir</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">"src"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token string">"public"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">includes</span><span class="token operator">:</span> <span class="token string">"_includes"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre><ul><li>原始檔案放置於 <code>/src</code> 資料夾下</li>
<li>11ty 會將建置檔案輸出到 <code>/public</code> 資料夾</li>
<li>元件檔案放置於 <code>/src/_includes</code> 資料夾下</li></ul></li></ul>
<h2 id="js-id-撰寫">撰寫</h2>
<ul><li>11ty 預設使用 Nunjucks 作為樣板語言<ul><li>也可使用其他如 pug 或 ejs</li>
<li>調整好設定後即會自動轉換</li></ul></li>
<li>Nunjucks 檔案的副檔名為 <code>.njk</code></li></ul>
<h3>CSS</h3>
<ul><li>將 <code>css</code> 資料夾裡的檔案複製到 <code>output/css</code><ul><li><code>.eleventy.js</code><pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">eleventyConfig</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// ...</span>
  <span class="token comment">// copy files in &#96;css/&#96; to &#96;output/css&#96;</span>
  eleventyConfig<span class="token punctuation">.</span><span class="token function">addPassthroughCopy</span><span class="token punctuation">(</span><span class="token string">"css"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// ...</span>
    <span class="token literal-property property">passthroughFileCopy</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre></li></ul></li>
<li>於樣板檔案裡引入 CSS 檔案<ul><li><code>base.njk</code><pre class="language-html"><!-- HTML_TAG_START --><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/css/global.css<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code><!-- HTML_TAG_END --></pre></li></ul></li></ul>
<h3>Collections</h3>
<ul><li><a href="https://www.11ty.dev/docs/collections/" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=https://www.11ty.dev/docs/collections/" alt="Collections"><span>Collections</span></a></li></ul>
<h3>Component</h3>
<ul><li>新增 <code>src/components/[component-name].njk</code><ul><li>檔案名稱需為 kebab-case 格式</li></ul></li>
<li>於 <code>src/_includes/components/[component-name]/</code> 新增：<ul><li><code>script.js</code></li>
<li><code>style.css</code></li></ul></li>
<li>於想使用的樣板檔案裡加入標籤：<ul><li><code>component: component-name</code></li></ul></li></ul>
<h2 id="js-id-deploy">Deploy</h2>
<ul><li>11ty build 後的網頁即可直接上線</li>
<li>若是使用如 GitHub 的子 repo，則需替連結加上 prefix<ul><li><code>package.json</code><ul><li><code>&quot;build&quot;: &quot;env NODE_ENV=production npx @11ty/eleventy --pathprefix &#39;[repo_name]&#39;&quot;,</code></li></ul></li>
<li>修改所有樣版檔案裡的連結<ul><li>例如：<code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/global.css&quot; /&gt;</code></li>
<li>需改為：<code>&lt;link rel=&quot;stylesheet&quot; href=&quot;{{ &#39;/css/global.css&#39; | url }}&quot; /&gt;</code></li>
<li><a href="https://www.11ty.dev/docs/filters/url/" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=https://www.11ty.dev/docs/filters/url/" alt="url Filter"><span>url Filter</span></a></li></ul></li></ul></li></ul>
<h3>GitHub Actions</h3>
<p>新增 <code>.github/workflows/build-and-deploy.yaml</code>：</p>
<pre class="language-yaml"><!-- HTML_TAG_START --><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> Build and Deploy
<span class="token key atrule">on</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>push<span class="token punctuation">]</span>
<span class="token key atrule">permissions</span><span class="token punctuation">:</span>
  <span class="token key atrule">contents</span><span class="token punctuation">:</span> write
<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">build-and-deploy</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout 🛎️
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v3

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install and Build 🔧 <span class="token comment"># This example project is built using npm and outputs the result to the 'build' folder. Replace with the commands required to build your project, or remove this step entirely if your site is pre-built.</span>
        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
          npm install
          npm run build</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy 🚀
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> JamesIves/github<span class="token punctuation">-</span>pages<span class="token punctuation">-</span>deploy<span class="token punctuation">-</span>action@v4
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">BRANCH</span><span class="token punctuation">:</span> gh<span class="token punctuation">-</span>pages <span class="token comment"># The branch the action should deploy to.</span>
          <span class="token key atrule">FOLDER</span><span class="token punctuation">:</span> public <span class="token comment"># The folder the action should deploy.</span>
          <span class="token key atrule">CLEAN</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># Automatically remove deleted files from the deploy branch</span></code><!-- HTML_TAG_END --></pre>
<h2 id="js-id-參考連結">參考連結</h2>
<ul><li><a href="https://www.rockyourcode.com/how-to-deploy-eleventy-to-github-pages-with-github-actions/" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=https://www.rockyourcode.com/how-to-deploy-eleventy-to-github-pages-with-github-actions/" alt="How to Deploy Eleventy to GitHub Pages With GitHub Actions"><span>How to Deploy Eleventy to GitHub Pages With GitHub Actions</span></a></li>
<li><a href="https://www.flamedfury.com/guides/11ty-homepage-neocities/" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=https://www.flamedfury.com/guides/11ty-homepage-neocities/" alt="Create A Static Site Using 11ty & Deploy to Neocities"><span>Create A Static Site Using 11ty &amp; Deploy to Neocities</span></a></li>
<li><a href="https://frannn.dev/posts/82901432/" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=https://frannn.dev/posts/82901432/" alt="離開 Hexo，使用 Eleventy 架設部落格"><span>離開 Hexo，使用 Eleventy 架設部落格</span></a></li>
<li><a href="https://lavif.me/post/11ty-blog" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=https://lavif.me/post/11ty-blog" alt="用 11ty 寫部落格的心得"><span>用 11ty 寫部落格的心得</span></a></li>
<li><a href="https://lavif.me/post/astro-blog" rel="noopener" target="_blank"><img src="https://s2.googleusercontent.com/s2/favicons?domain=https://lavif.me/post/astro-blog" alt="用 Astro 重寫部落格的心得"><span>用 Astro 重寫部落格的心得</span></a></li></ul>
<div class="toc-container"><ul class="toc"><li><a href="#" onclick="document.querySelector('#js-id-安裝').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();">安裝</a></li><li><a href="#" onclick="document.querySelector('#js-id-撰寫').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();">撰寫</a></li><li><a href="#" onclick="document.querySelector('#js-id-deploy').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();">Deploy</a></li><li><a href="#" onclick="document.querySelector('#js-id-參考連結').scrollIntoView(); window.scrollBy(0, -128); event.preventDefault();">參考連結</a></li></ul></div>
    <span class="blink svelte-1kip24n">_</span></article>
  

<div class="back-to-top svelte-178usko hidden" style="right: 2em">Back to top
</div>
</div></main>

  <footer scoped class="svelte-qi6xiu"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noreferrer noopener nofollow">CC BY-NC-SA 4.0
  </a>
  <div class="right svelte-qi6xiu">Made with <span class="heart svelte-qi6xiu">❤️</span> and
    <a href="https://kit.svelte.dev/" target="_blank" ref="noreferrer noopener nofollow">SvelteKit
    </a></div>
</footer>
</div>


		<script type="module" data-hydrate="150zuoo">
		import { start } from "/_app/start-03bc0960.js";
		start({
			target: document.querySelector('[data-hydrate="150zuoo"]').parentNode,
			paths: {"base":"","assets":""},
			session: {},
			route: false,
			spa: false,
			trailing_slash: "never",
			hydrate: {
				status: 200,
				error: null,
				nodes: [
					import("/_app/pages/__layout.svelte-be2180a5.js"),
						import("/_app/pages/posts/11ty-note.md-c055830c.js")
				],
				params: {},
				routeId: "posts/11ty-note"
			}
		});
	</script>
  </body>
</html>
