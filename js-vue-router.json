{"title":"Vue 筆記 - Router","slug":"js-vue-router","html":"<h2 id=\"vue-router\">Vue Router</h2>\n<ul>\n<li><code>vue-router</code> 提供能在前端模擬路由的功能，在切換頁面時就不需要向後端發出請求</li>\n</ul>\n<h2 id=\"安裝\">安裝</h2>\n<ol>\n<li>於 <code>vue-cli</code> 建置專案時選用 Vue Router</li>\n<li><code>vue add router</code></li>\n<li><code>npm i vue-router</code>\n└ 接著在 <code>router.js</code> 中啟用 <code>Vue.use(VueRouter)</code></li>\n</ol>\n<h2 id=\"路由配置\">路由配置</h2>\n<ol>\n<li>進入點與路由頁面可以在 <code>router.js</code> 中設定</li>\n<li><code>&lt;router-view&gt;&lt;/router-view&gt;</code>：顯示路由組件\n└ <code>&lt;router-view name=&quot;name&quot;&gt;&lt;/router-view&gt;</code></li>\n<li><code>&lt;router-link&gt;&lt;/router-link&gt;</code>：配置路由連結\n└ <code>&lt;router-link to=&quot;path&quot;&gt;Link&lt;/router-link&gt;</code></li>\n</ol>\n<ul>\n<li><code>vue-router</code> 有三種路由模式\n├ hash 模式（預設）\n├ history 模式\n├ abstract 模式\n└ 可以從管理路由的 <code>router.js</code> 中指定</li>\n</ul>\n<p><code>router.js</code></p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> 組件 <span class=\"token keyword\">from</span> <span class=\"token string\">'@/components/組件'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">VueRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  mode<span class=\"token operator\">:</span> <span class=\"token string\">'history'</span><span class=\"token punctuation\">,</span>\n  routes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      name<span class=\"token operator\">:</span> <span class=\"token string\">'組件名稱'</span><span class=\"token punctuation\">,</span>\n      path<span class=\"token operator\">:</span> <span class=\"token string\">'路徑位置'</span><span class=\"token punctuation\">,</span>\n      component<span class=\"token operator\">:</span> <span class=\"token keyword\">import</span> 的組件\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre><p><code>App.vue</code></p>\n<pre class=\"language-vue\"><code class=\"language-vue\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">import</span> 組件 <span class=\"token keyword\">from</span> <span class=\"token string\">'@/components/組件'</span>\n\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      組件\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>router-link</span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/組件<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Link<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>router-link</span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>router-view</span><span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre><h3 id=\"取得路由參數\">取得路由參數</h3>\n<ol>\n<li>params：取得於路由設置中自訂的參數</li>\n</ol>\n<p><code>router.js</code></p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 冒帽後方字串為自訂參數名稱</span>\n  <span class=\"token comment\">// 問號代表此參數可為空</span>\n  path<span class=\"token operator\">:</span> <span class=\"token string\">'/Products/:id?'</span><span class=\"token punctuation\">,</span>\n  component<span class=\"token operator\">:</span> Products\n<span class=\"token punctuation\">}</span></code></pre><ul>\n<li>於網址傳入參數後：<code>http://localhost:8080/#/Products/1</code></li>\n<li>可於 Vue 中取得參數：<code>this.$route.params.id</code></li>\n</ul>\n<ol start=\"2\">\n<li>query：取得於網址問號之後的字串</li>\n</ol>\n<p><code>router.js</code></p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 無需特定設置</span>\n  path<span class=\"token operator\">:</span> <span class=\"token string\">'/Products'</span><span class=\"token punctuation\">,</span>\n  component<span class=\"token operator\">:</span> Products\n<span class=\"token punctuation\">}</span></code></pre><ul>\n<li>於網址傳入參數後：<code>http://localhost:8080/#/Products?id=1&amp;page=2</code></li>\n<li>可於 Vue 中取得整個字串：<code>this.$route.query</code></li>\n</ul>\n<h2 id=\"參考文章\">參考文章</h2>\n<ul>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://medium.com/@linwei5316/vue-router-4c2aad1cc352\">Vue Router. 路由基礎 | by Leo Lin | Medium</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://ithelp.ithome.com.tw/articles/10214449\">Router 基本入門 Day 9 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天</a></li>\n</ul>\n","date":"2019-12-07T06:45:15.000Z","excerpt":null,"printDate":"December 7, 2019","printReadingTime":"1 min read","tags":["F2E","JavaScript"],"image":"https://f6bfb5.github.io/preview/js-vue-router.png"}