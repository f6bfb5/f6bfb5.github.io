{"title":"Twitch API","slug":"twitch-api","html":"<h2 id=\"twitch-oidc-認證響應\">Twitch OIDC 認證響應</h2>\n<ul>\n<li>Twitch API 文件：<a target=\"_blank\" rel=\"nofollow\" href=\"https://dev.twitch.tv/docs/authentication\">Authentication | Twitch Developers</a></li>\n<li>註冊 Twitch APP：<a target=\"_blank\" rel=\"nofollow\" href=\"https://dev.twitch.tv/console/apps\">Twitch Developers</a></li>\n<li><a target=\"_blank\" rel=\"nofollow\" href=\"https://pjchender.blogspot.com/2018/08/js-javascript-url-parameters.html\">[JS] 使用 JavaScript 解析網址與處理網址中的參數（URL Parameters） ~ PJCHENder&lt;br&gt;那些沒告訴你的小細節</a></li>\n</ul>\n<h3 id=\"驗證\">驗證</h3>\n<p><code>GET https://id.twitch.tv/oauth2/authorize ?client_id=&lt;your client ID&gt; &amp;redirect_uri=&lt;your registered redirect URI&gt; &amp;response_type=&lt;type&gt; &amp;scope=&lt;space-separated list of scopes&gt; &amp;claims=&lt;JSON object specifying requested claims&gt;</code></p>\n<h4 id=\"成功\">成功</h4>\n<p><code>&lt;path-to-page&gt;#access_token=&lt;access_token&gt;&amp;id_token=&lt;id_token&gt;&amp;scope=openid+user_read&amp;token_type=bearer</code></p>\n<ol>\n<li><code>access_token</code></li>\n<li><code>id_token</code></li>\n<li><code>scope</code></li>\n<li><code>token_type</code></li>\n</ol>\n<p><code>id_token</code> decoded:</p>\n<ol>\n<li><code>at_hash</code></li>\n<li><code>aud</code>: Audience: client ID of the application requesting a user&#39;s authorization.</li>\n<li><code>azp</code>: Authorized party: client ID of the application which is being authorized. Currently the same as aud.</li>\n<li><code>exp</code>: Expiration time of the token. This is in UNIX/Epoch format.</li>\n<li><code>iat</code>: Time when the token was issued. This is in UNIX/Epoch format.</li>\n<li><code>iss</code>: Issuer of the token.</li>\n<li><code>preferred_username</code>: Display name of the authorizing user.</li>\n<li><code>sub</code>: User ID of the authorizing user.</li>\n</ol>\n<h4 id=\"失敗\">失敗</h4>\n<p><code>&lt;path-to-page&gt;?error=redirect_mismatch&amp;error_description=Parameter+redirect_uri+does+not+match+registered+URI</code></p>\n<ol>\n<li><code>error</code></li>\n<li><code>error_description</code></li>\n</ol>\n<h3 id=\"取得使用者帳號\">取得使用者帳號</h3>\n<pre class=\"language-bash\"><code class=\"language-bash\">curl  -H 'Client-ID: uo6dggojyb8d6soh92zknwmi5ej1q2' \\\n-H 'Authorization: Bearer cfabdegwdoklmawdzdo98xt2fo512y' \\\n-X GET 'https://api.twitch.tv/helix/users?id=44322889'</code></pre>","date":"2020-11-08T23:50:09.000Z","excerpt":"","printDate":"November 8, 2020","printReadingTime":"1 min read"}